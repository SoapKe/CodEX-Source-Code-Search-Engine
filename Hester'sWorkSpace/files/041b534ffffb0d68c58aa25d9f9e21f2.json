{"author": "getsentry", "code": "# -*- coding: utf-8 -*-\n\nfrom __future__ import absolute_import\n\nfrom sentry.interfaces.breadcrumbs import Breadcrumbs\nfrom sentry.testutils import TestCase\n\n\nclass BreadcrumbsTest(TestCase):\n    def test_path(self):\n        assert Breadcrumbs().get_path() == 'sentry.interfaces.Breadcrumbs'\n\n    def test_simple(self):\n        result = Breadcrumbs.to_python(\n            dict(\n                values=[\n                    {\n                        'type': 'message',\n                        'timestamp': 1458857193.973275,\n                        'data': {\n                            'message': 'Whats up dawg?',\n                        },\n                    }\n                ]\n            )\n        )\n        assert len(result.values) == 1\n        assert result.values[0]['type'] == 'message'\n        ts = result.values[0]['timestamp']\n        assert int(ts) == 1458857193\n        assert abs(ts - 1458857193.973275) < 0.001\n        assert result.values[0]['data'] == {'message': 'Whats up dawg?'}\n\n    def test_non_string_keys(self):\n        result = Breadcrumbs.to_python(\n            dict(\n                values=[\n                    {\n                        'type': 'message',\n                        'timestamp': 1458857193.973275,\n                        'data': {\n                            'extra': {\n                                'foo': 'bar'\n                            },\n                        },\n                    }\n                ]\n            )\n        )\n        assert len(result.values) == 1\n        assert result.values[0]['data'] == {'extra': '{\"foo\":\"bar\"}'}\n", "comments": "      coding  utf 8     ", "content": "# -*- coding: utf-8 -*-\n\nfrom __future__ import absolute_import\n\nfrom sentry.interfaces.breadcrumbs import Breadcrumbs\nfrom sentry.testutils import TestCase\n\n\nclass BreadcrumbsTest(TestCase):\n    def test_path(self):\n        assert Breadcrumbs().get_path() == 'sentry.interfaces.Breadcrumbs'\n\n    def test_simple(self):\n        result = Breadcrumbs.to_python(\n            dict(\n                values=[\n                    {\n                        'type': 'message',\n                        'timestamp': 1458857193.973275,\n                        'data': {\n                            'message': 'Whats up dawg?',\n                        },\n                    }\n                ]\n            )\n        )\n        assert len(result.values) == 1\n        assert result.values[0]['type'] == 'message'\n        ts = result.values[0]['timestamp']\n        assert int(ts) == 1458857193\n        assert abs(ts - 1458857193.973275) < 0.001\n        assert result.values[0]['data'] == {'message': 'Whats up dawg?'}\n\n    def test_non_string_keys(self):\n        result = Breadcrumbs.to_python(\n            dict(\n                values=[\n                    {\n                        'type': 'message',\n                        'timestamp': 1458857193.973275,\n                        'data': {\n                            'extra': {\n                                'foo': 'bar'\n                            },\n                        },\n                    }\n                ]\n            )\n        )\n        assert len(result.values) == 1\n        assert result.values[0]['data'] == {'extra': '{\"foo\":\"bar\"}'}\n", "description": "Sentry is a cross-platform crash reporting and aggregation platform.", "file_name": "test_breadcrumbs.py", "id": "041b534ffffb0d68c58aa25d9f9e21f2", "language": "Python", "project_name": "sentry", "quality": "", "save_path": "/home/ubuntu/test_files/clean/network_test/getsentry-sentry/getsentry-sentry-6a9c7e2/tests/sentry/interfaces/test_breadcrumbs.py", "save_time": "", "source": "", "update_at": "2018-03-14T01:23:24Z", "url": "https://github.com/getsentry/sentry", "wiki": false}