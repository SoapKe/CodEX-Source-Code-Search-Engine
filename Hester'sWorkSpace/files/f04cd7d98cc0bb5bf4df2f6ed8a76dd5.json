{"author": "nvbn", "code": "import pytest\nimport time\n\ndockerfile = u.format(seed=time.time())\n\n\ndef plot(proc, TIMEOUT):\n    proc.sendline(u'cd /home/test/')\n    proc.sendline(u'fuck')\n    assert proc.expect([TIMEOUT, u'No fucks given'])\n    proc.sendline(u'git init')\n    proc.sendline(u'git add .')\n    proc.sendline(u'git commit -a -m init')\n    proc.sendline(u'git brnch')\n    proc.sendline(u'fuck')\n    assert proc.expect([TIMEOUT, u'git branch'])\n    proc.send('\\n')\n    assert proc.expect([TIMEOUT, u'master'])\n    proc.sendline(u'echo test')\n    proc.sendline(u'echo tst')\n    proc.sendline(u'fuck')\n    assert proc.expect([TIMEOUT, u'echo test'])\n    proc.send('\\n')\n    assert proc.expect([TIMEOUT, u'test'])\n\n\n@pytest.mark.functional\n@pytest.mark.benchmark(min_rounds=10)\ndef test_performance(spawnu, TIMEOUT, benchmark):\n    proc = spawnu(u'thefuck/python3-bash-performance',\n                  dockerfile, u'bash')\n    proc.sendline(u'pip install /src')\n    proc.sendline(u'su test')\n    assert benchmark(plot, proc, TIMEOUT) is None\n", "comments": "\nFROM python:3\nRUN adduser --disabled-password --gecos '' test\nENV SEED \"{seed}\"\nWORKDIR /src\nUSER test\nRUN echo 'eval $(thefuck --alias)' > /home/test/.bashrc\nRUN echo > /home/test/.bash_history\nRUN git config --global user.email \"you@example.com\"\nRUN git config --global user.name \"Your Name\"\nUSER root\n\n\n\n", "content": "import pytest\nimport time\n\ndockerfile = u'''\nFROM python:3\nRUN adduser --disabled-password --gecos '' test\nENV SEED \"{seed}\"\nWORKDIR /src\nUSER test\nRUN echo 'eval $(thefuck --alias)' > /home/test/.bashrc\nRUN echo > /home/test/.bash_history\nRUN git config --global user.email \"you@example.com\"\nRUN git config --global user.name \"Your Name\"\nUSER root\n'''.format(seed=time.time())\n\n\ndef plot(proc, TIMEOUT):\n    proc.sendline(u'cd /home/test/')\n    proc.sendline(u'fuck')\n    assert proc.expect([TIMEOUT, u'No fucks given'])\n    proc.sendline(u'git init')\n    proc.sendline(u'git add .')\n    proc.sendline(u'git commit -a -m init')\n    proc.sendline(u'git brnch')\n    proc.sendline(u'fuck')\n    assert proc.expect([TIMEOUT, u'git branch'])\n    proc.send('\\n')\n    assert proc.expect([TIMEOUT, u'master'])\n    proc.sendline(u'echo test')\n    proc.sendline(u'echo tst')\n    proc.sendline(u'fuck')\n    assert proc.expect([TIMEOUT, u'echo test'])\n    proc.send('\\n')\n    assert proc.expect([TIMEOUT, u'test'])\n\n\n@pytest.mark.functional\n@pytest.mark.benchmark(min_rounds=10)\ndef test_performance(spawnu, TIMEOUT, benchmark):\n    proc = spawnu(u'thefuck/python3-bash-performance',\n                  dockerfile, u'bash')\n    proc.sendline(u'pip install /src')\n    proc.sendline(u'su test')\n    assert benchmark(plot, proc, TIMEOUT) is None\n", "description": "Magnificent app which corrects your previous console command.", "file_name": "test_performance.py", "language": "Python", "project_name": "thefuck", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/nvbn_thefuck/nvbn-thefuck-284d49d/tests/functional/test_performance.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:34:29Z", "url": "https://github.com/nvbn/thefuck", "wiki": true}