{"author": "rg3", "code": "\nfrom __future__ import unicode_literals\n\nimport re\n\nfrom .common import InfoExtractor\n\n\nclass DBTVIE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?dbtv\\.no/(?:[^/]+/)?(?P<id>[0-9]+)(?:\n    _TESTS = [{\n        'url': 'http://dbtv.no/3649835190001\n        'md5': '2e24f67936517b143a234b4cadf792ec',\n        'info_dict': {\n            'id': '3649835190001',\n            'display_id': 'Skulle_teste_ut_forn\u00f8yelsespark,_men_kollegaen_var_bare_opptatt_av_bikinikroppen',\n            'ext': 'mp4',\n            'title': 'Skulle teste ut forn\u00f8yelsespark, men kollegaen var bare opptatt av bikinikroppen',\n            'description': 'md5:1504a54606c4dde3e4e61fc97aa857e0',\n            'thumbnail': r're:https?://.*\\.jpg',\n            'timestamp': 1404039863,\n            'upload_date': '20140629',\n            'duration': 69.544,\n            'uploader_id': '1027729757001',\n        },\n        'add_ie': ['BrightcoveNew']\n    }, {\n        'url': 'http://dbtv.no/3649835190001',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.dbtv.no/lazyplayer/4631135248001',\n        'only_matching': True,\n    }, {\n        'url': 'http://dbtv.no/vice/5000634109001',\n        'only_matching': True,\n    }, {\n        'url': 'http://dbtv.no/filmtrailer/3359293614001',\n        'only_matching': True,\n    }]\n\n    @staticmethod\n    def _extract_urls(webpage):\n        return [url for _, url in re.findall(\n            r'<iframe[^>]+src=([\"\\'])((?:https?:)?//(?:www\\.)?dbtv\\.no/(?:lazy)?player/\\d+.*?)\\1',\n            webpage)]\n\n    def _real_extract(self, url):\n        video_id, display_id = re.match(self._VALID_URL, url).groups()\n\n        return {\n            '_type': 'url_transparent',\n            'url': 'http://players.brightcove.net/1027729757001/default_default/index.html?videoId=%s' % video_id,\n            'id': video_id,\n            'display_id': display_id,\n            'ie_key': 'BrightcoveNew',\n        }\n", "comments": "# coding: utf-8\n#(?P<display_id>.+))?'\n#Skulle_teste_ut_forn\u00f8yelsespark,_men_kollegaen_var_bare_opptatt_av_bikinikroppen',\n", "content": "# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport re\n\nfrom .common import InfoExtractor\n\n\nclass DBTVIE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?dbtv\\.no/(?:[^/]+/)?(?P<id>[0-9]+)(?:#(?P<display_id>.+))?'\n    _TESTS = [{\n        'url': 'http://dbtv.no/3649835190001#Skulle_teste_ut_forn\u00f8yelsespark,_men_kollegaen_var_bare_opptatt_av_bikinikroppen',\n        'md5': '2e24f67936517b143a234b4cadf792ec',\n        'info_dict': {\n            'id': '3649835190001',\n            'display_id': 'Skulle_teste_ut_forn\u00f8yelsespark,_men_kollegaen_var_bare_opptatt_av_bikinikroppen',\n            'ext': 'mp4',\n            'title': 'Skulle teste ut forn\u00f8yelsespark, men kollegaen var bare opptatt av bikinikroppen',\n            'description': 'md5:1504a54606c4dde3e4e61fc97aa857e0',\n            'thumbnail': r're:https?://.*\\.jpg',\n            'timestamp': 1404039863,\n            'upload_date': '20140629',\n            'duration': 69.544,\n            'uploader_id': '1027729757001',\n        },\n        'add_ie': ['BrightcoveNew']\n    }, {\n        'url': 'http://dbtv.no/3649835190001',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.dbtv.no/lazyplayer/4631135248001',\n        'only_matching': True,\n    }, {\n        'url': 'http://dbtv.no/vice/5000634109001',\n        'only_matching': True,\n    }, {\n        'url': 'http://dbtv.no/filmtrailer/3359293614001',\n        'only_matching': True,\n    }]\n\n    @staticmethod\n    def _extract_urls(webpage):\n        return [url for _, url in re.findall(\n            r'<iframe[^>]+src=([\"\\'])((?:https?:)?//(?:www\\.)?dbtv\\.no/(?:lazy)?player/\\d+.*?)\\1',\n            webpage)]\n\n    def _real_extract(self, url):\n        video_id, display_id = re.match(self._VALID_URL, url).groups()\n\n        return {\n            '_type': 'url_transparent',\n            'url': 'http://players.brightcove.net/1027729757001/default_default/index.html?videoId=%s' % video_id,\n            'id': video_id,\n            'display_id': display_id,\n            'ie_key': 'BrightcoveNew',\n        }\n", "description": "Command-line program to download videos from YouTube.com and other video sites", "file_name": "dbtv.py", "language": "Python", "project_name": "youtube-dl", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/rg3_youtube-dl/rg3-youtube-dl-6202f08/youtube_dl/extractor/dbtv.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:18:39Z", "url": "https://github.com/rg3/youtube-dl", "wiki": false}