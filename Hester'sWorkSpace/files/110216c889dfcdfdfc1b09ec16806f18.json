{"author": "rg3", "code": "from __future__ import unicode_literals\n\nimport re\n\nfrom .common import InfoExtractor\n\n\nclass BYUtvIE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?byutv\\.org/(?:watch|player)/(?!event/)(?P<id>[0-9a-f-]+)(?:/(?P<display_id>[^/?\n    _TESTS = [{\n        'url': 'http://www.byutv.org/watch/6587b9a3-89d2-42a6-a7f7-fd2f81840a7d/studio-c-season-5-episode-5',\n        'info_dict': {\n            'id': 'ZvanRocTpW-G5_yZFeltTAMv6jxOU9KH',\n            'display_id': 'studio-c-season-5-episode-5',\n            'ext': 'mp4',\n            'title': 'Season 5 Episode 5',\n            'description': 'md5:1d31dc18ef4f075b28f6a65937d22c65',\n            'thumbnail': r're:^https?://.*',\n            'duration': 1486.486,\n        },\n        'params': {\n            'skip_download': True,\n        },\n        'add_ie': ['Ooyala'],\n    }, {\n        'url': 'http://www.byutv.org/watch/6587b9a3-89d2-42a6-a7f7-fd2f81840a7d',\n        'only_matching': True,\n    }, {\n        'url': 'https://www.byutv.org/player/27741493-dc83-40b0-8420-e7ae38a2ae98/byu-football-toledo-vs-byu-93016?listid=4fe0fee5-0d3c-4a29-b725-e4948627f472&listindex=0&q=toledo',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        mobj = re.match(self._VALID_URL, url)\n        video_id = mobj.group('id')\n        display_id = mobj.group('display_id') or video_id\n\n        ep = self._download_json(\n            'https://api.byutv.org/api3/catalog/getvideosforcontent', video_id,\n            query={\n                'contentid': video_id,\n                'channel': 'byutv',\n                'x-byutv-context': 'web$US',\n            }, headers={\n                'x-byutv-context': 'web$US',\n                'x-byutv-platformkey': 'xsaaw9c7y5',\n            })['ooyalaVOD']\n\n        return {\n            '_type': 'url_transparent',\n            'ie_key': 'Ooyala',\n            'url': 'ooyala:%s' % ep['providerId'],\n            'id': video_id,\n            'display_id': display_id,\n            'title': ep.get('title'),\n            'description': ep.get('description'),\n            'thumbnail': ep.get('imageThumbnail'),\n        }\n", "comments": "#&]+))?'\n", "content": "from __future__ import unicode_literals\n\nimport re\n\nfrom .common import InfoExtractor\n\n\nclass BYUtvIE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?byutv\\.org/(?:watch|player)/(?!event/)(?P<id>[0-9a-f-]+)(?:/(?P<display_id>[^/?#&]+))?'\n    _TESTS = [{\n        'url': 'http://www.byutv.org/watch/6587b9a3-89d2-42a6-a7f7-fd2f81840a7d/studio-c-season-5-episode-5',\n        'info_dict': {\n            'id': 'ZvanRocTpW-G5_yZFeltTAMv6jxOU9KH',\n            'display_id': 'studio-c-season-5-episode-5',\n            'ext': 'mp4',\n            'title': 'Season 5 Episode 5',\n            'description': 'md5:1d31dc18ef4f075b28f6a65937d22c65',\n            'thumbnail': r're:^https?://.*',\n            'duration': 1486.486,\n        },\n        'params': {\n            'skip_download': True,\n        },\n        'add_ie': ['Ooyala'],\n    }, {\n        'url': 'http://www.byutv.org/watch/6587b9a3-89d2-42a6-a7f7-fd2f81840a7d',\n        'only_matching': True,\n    }, {\n        'url': 'https://www.byutv.org/player/27741493-dc83-40b0-8420-e7ae38a2ae98/byu-football-toledo-vs-byu-93016?listid=4fe0fee5-0d3c-4a29-b725-e4948627f472&listindex=0&q=toledo',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        mobj = re.match(self._VALID_URL, url)\n        video_id = mobj.group('id')\n        display_id = mobj.group('display_id') or video_id\n\n        ep = self._download_json(\n            'https://api.byutv.org/api3/catalog/getvideosforcontent', video_id,\n            query={\n                'contentid': video_id,\n                'channel': 'byutv',\n                'x-byutv-context': 'web$US',\n            }, headers={\n                'x-byutv-context': 'web$US',\n                'x-byutv-platformkey': 'xsaaw9c7y5',\n            })['ooyalaVOD']\n\n        return {\n            '_type': 'url_transparent',\n            'ie_key': 'Ooyala',\n            'url': 'ooyala:%s' % ep['providerId'],\n            'id': video_id,\n            'display_id': display_id,\n            'title': ep.get('title'),\n            'description': ep.get('description'),\n            'thumbnail': ep.get('imageThumbnail'),\n        }\n", "description": "Command-line program to download videos from YouTube.com and other video sites", "file_name": "byutv.py", "language": "Python", "project_name": "youtube-dl", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/rg3_youtube-dl/rg3-youtube-dl-6202f08/youtube_dl/extractor/byutv.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:18:39Z", "url": "https://github.com/rg3/youtube-dl", "wiki": false}