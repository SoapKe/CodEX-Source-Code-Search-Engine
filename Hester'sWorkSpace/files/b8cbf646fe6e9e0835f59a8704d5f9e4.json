{"author": "getsentry", "code": "from __future__ import absolute_import\n\nimport pytest\n\nfrom sentry.utils.iterators import advance, chunked, shingle\nfrom six.moves import xrange\n\n\ndef test_chunked():\n    assert list(chunked(range(5), 5)) == [\n        [0, 1, 2, 3, 4],\n    ]\n\n    assert list(chunked(range(10), 4)) == [\n        [0, 1, 2, 3],\n        [4, 5, 6, 7],\n        [8, 9],\n    ]\n\n\ndef test_advance():\n    i = iter(xrange(10))\n\n    advance(5, i)  # [0, 1, 2, 3, 4]\n    assert next(i) == 5\n\n    advance(10, i)  \n    with pytest.raises(StopIteration):\n        next(i)\n\n\ndef test_shingle():\n    assert list(shingle(5, 'x')) == []\n    assert list(shingle(2, ('foo', 'bar', 'baz'))) == [\n        ('foo', 'bar'),\n        ('bar', 'baz'),\n    ]\n", "comments": "   0  1  2  3  4     raise slicing past end iterator ", "content": "from __future__ import absolute_import\n\nimport pytest\n\nfrom sentry.utils.iterators import advance, chunked, shingle\nfrom six.moves import xrange\n\n\ndef test_chunked():\n    assert list(chunked(range(5), 5)) == [\n        [0, 1, 2, 3, 4],\n    ]\n\n    assert list(chunked(range(10), 4)) == [\n        [0, 1, 2, 3],\n        [4, 5, 6, 7],\n        [8, 9],\n    ]\n\n\ndef test_advance():\n    i = iter(xrange(10))\n\n    advance(5, i)  # [0, 1, 2, 3, 4]\n    assert next(i) == 5\n\n    advance(10, i)  # don't raise if slicing past end of iterator\n    with pytest.raises(StopIteration):\n        next(i)\n\n\ndef test_shingle():\n    assert list(shingle(5, 'x')) == []\n    assert list(shingle(2, ('foo', 'bar', 'baz'))) == [\n        ('foo', 'bar'),\n        ('bar', 'baz'),\n    ]\n", "description": "Sentry is a cross-platform crash reporting and aggregation platform.", "file_name": "test_iterators.py", "id": "b8cbf646fe6e9e0835f59a8704d5f9e4", "language": "Python", "project_name": "sentry", "quality": "", "save_path": "/home/ubuntu/test_files/clean/network_test/getsentry-sentry/getsentry-sentry-6a9c7e2/tests/sentry/utils/test_iterators.py", "save_time": "", "source": "", "update_at": "2018-03-14T01:23:24Z", "url": "https://github.com/getsentry/sentry", "wiki": false}