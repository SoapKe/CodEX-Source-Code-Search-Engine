{"author": "getredash", "code": "from redash.models import db\n\nif __name__ == '__main__':\n    db.connect_db()\n    columns = (\n        ('activity_log', 'created_at'),\n        ('dashboards', 'created_at'),\n        ('data_sources', 'created_at'),\n        ('events', 'created_at'),\n        ('groups', 'created_at'),\n        ('queries', 'created_at'),\n        ('widgets', 'created_at'),\n        ('query_results', 'retrieved_at')\n    )\n\n    with db.database.transaction():\n        for column in columns:\n            db.database.execute_sql(\"ALTER TABLE {} ALTER COLUMN {} TYPE timestamp with time zone;\".format(*column))\n\n    db.close_db(None)\n", "comments": "", "content": "from redash.models import db\n\nif __name__ == '__main__':\n    db.connect_db()\n    columns = (\n        ('activity_log', 'created_at'),\n        ('dashboards', 'created_at'),\n        ('data_sources', 'created_at'),\n        ('events', 'created_at'),\n        ('groups', 'created_at'),\n        ('queries', 'created_at'),\n        ('widgets', 'created_at'),\n        ('query_results', 'retrieved_at')\n    )\n\n    with db.database.transaction():\n        for column in columns:\n            db.database.execute_sql(\"ALTER TABLE {} ALTER COLUMN {} TYPE timestamp with time zone;\".format(*column))\n\n    db.close_db(None)\n", "description": "Make Your Company Data Driven. Connect to any data source, easily visualize and share your data.", "file_name": "0002_fix_timestamp_fields.py", "id": "6a8b38901c09862318dc55e31bedd5a6", "language": "Python", "project_name": "redash", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/getredash-redash/getredash-redash-0410d83/old_migrations/0002_fix_timestamp_fields.py", "save_time": "", "source": "", "update_at": "2018-03-18T12:54:55Z", "url": "https://github.com/getredash/redash", "wiki": false}