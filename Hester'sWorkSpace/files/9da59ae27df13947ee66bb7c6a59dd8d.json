{"author": "tgalal", "code": "from yowsup.structs import ProtocolTreeNode\nfrom yowsup.layers.protocol_iq.protocolentities import ResultIqProtocolEntity\n\n\n\nclass ResultPrivacyIqProtocolEntity(ResultIqProtocolEntity):\n    NODE_PRIVACY=\"privacy\"\n\n    def __init__(self, privacy):\n        super(ResultPrivacyIqProtocolEntity, self).__init__()\n        self.setProps(privacy)\n\n    def setProps(self, privacy):\n        assert type(privacy) is dict, \"Privacy must be a dict {name => value}\"\n        self.privacy = privacy\n\n    def __str__(self):\n        out = super(ResultPrivacyIqProtocolEntity, self).__str__()\n        out += \"Privacy settings\\n\"\n        for name, value in self.privacy.items():\n            out += \"Category %s  --> %s\\n\" % (name, value)\n        return out\n\n    def toProtocolTreeNode(self):\n        node = super(ResultPrivacyIqProtocolEntity, self).toProtocolTreeNode()\n        queryNode = ProtocolTreeNode(self.__class__.NODE_PRIVACY)\n        node.addChild(queryNode)\n        return node\n\n    @staticmethod\n    def fromProtocolTreeNode(node):\n        entity = super(ResultPrivacyIqProtocolEntity, ResultPrivacyIqProtocolEntity).fromProtocolTreeNode(node)\n        entity.__class__ = ResultPrivacyIqProtocolEntity\n        privacyNode = node.getChild(ResultPrivacyIqProtocolEntity.NODE_PRIVACY)\n        privacy = {}\n        for categoryNode in privacyNode.getAllChildren():\n            privacy[categoryNode[\"name\"]] = categoryNode[\"value\"]\n        entity.setProps(privacy)\n        return entity\n", "comments": "     iq type  result     jid   whatsapp net  id    iq id      privacy   category name  last  value      category   category name  status  value      category   category name  profile  value      category    privacy    iq      ", "content": "from yowsup.structs import ProtocolTreeNode\nfrom yowsup.layers.protocol_iq.protocolentities import ResultIqProtocolEntity\n\n'''\n<iq type=\"result\" from=\"{{JID}}@s.whatsapp.net\" id=\"{{IQ:ID}}\">\n<privacy>\n<category name=\"last\" value=\"all\">\n</category>\n<category name=\"status\" value=\"all\">\n</category>\n<category name=\"profile\" value=\"all\">\n</category>\n</privacy>\n</iq>\n'''\n\nclass ResultPrivacyIqProtocolEntity(ResultIqProtocolEntity):\n    NODE_PRIVACY=\"privacy\"\n\n    def __init__(self, privacy):\n        super(ResultPrivacyIqProtocolEntity, self).__init__()\n        self.setProps(privacy)\n\n    def setProps(self, privacy):\n        assert type(privacy) is dict, \"Privacy must be a dict {name => value}\"\n        self.privacy = privacy\n\n    def __str__(self):\n        out = super(ResultPrivacyIqProtocolEntity, self).__str__()\n        out += \"Privacy settings\\n\"\n        for name, value in self.privacy.items():\n            out += \"Category %s  --> %s\\n\" % (name, value)\n        return out\n\n    def toProtocolTreeNode(self):\n        node = super(ResultPrivacyIqProtocolEntity, self).toProtocolTreeNode()\n        queryNode = ProtocolTreeNode(self.__class__.NODE_PRIVACY)\n        node.addChild(queryNode)\n        return node\n\n    @staticmethod\n    def fromProtocolTreeNode(node):\n        entity = super(ResultPrivacyIqProtocolEntity, ResultPrivacyIqProtocolEntity).fromProtocolTreeNode(node)\n        entity.__class__ = ResultPrivacyIqProtocolEntity\n        privacyNode = node.getChild(ResultPrivacyIqProtocolEntity.NODE_PRIVACY)\n        privacy = {}\n        for categoryNode in privacyNode.getAllChildren():\n            privacy[categoryNode[\"name\"]] = categoryNode[\"value\"]\n        entity.setProps(privacy)\n        return entity\n", "description": "The python WhatsApp library", "file_name": "iq_privacy_result.py", "id": "9da59ae27df13947ee66bb7c6a59dd8d", "language": "Python", "project_name": "yowsup", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/tgalal-yowsup/tgalal-yowsup-03795cc/yowsup/layers/protocol_profiles/protocolentities/iq_privacy_result.py", "save_time": "", "source": "", "update_at": "2018-03-18T13:01:40Z", "url": "https://github.com/tgalal/yowsup", "wiki": true}