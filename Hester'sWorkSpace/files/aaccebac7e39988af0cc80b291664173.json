{"author": "python", "code": "\n\nimport os\n\ndef makemakefile(outfp, makevars, files, target):\n    outfp.write(\"# Makefile generated by freeze.py script\\n\\n\")\n\n    keys = sorted(makevars.keys())\n    for key in keys:\n        outfp.write(\"%s=%s\\n\" % (key, makevars[key]))\n    outfp.write(\"\\nall: %s\\n\\n\" % target)\n\n    deps = []\n    for i in range(len(files)):\n        file = files[i]\n        if file[-2:] == '.c':\n            base = os.path.basename(file)\n            dest = base[:-2] + '.o'\n            outfp.write(\"%s: %s\\n\" % (dest, file))\n            outfp.write(\"\\t$(CC) $(PY_CFLAGS) $(PY_CPPFLAGS) -c %s\\n\" % file)\n            files[i] = dest\n            deps.append(dest)\n\n    outfp.write(\"\\n%s: %s\\n\" % (target, ' '.join(deps)))\n    outfp.write(\"\\t$(LINKCC) $(PY_LDFLAGS) $(LINKFORSHARED) %s -o %s $(LDLAST)\\n\" %\n                (' '.join(files), target))\n\n    outfp.write(\"\\nclean:\\n\\t-rm -f *.o %s\\n\" % target)\n", "comments": "  write actual makefile  ", "content": "# Write the actual Makefile.\n\nimport os\n\ndef makemakefile(outfp, makevars, files, target):\n    outfp.write(\"# Makefile generated by freeze.py script\\n\\n\")\n\n    keys = sorted(makevars.keys())\n    for key in keys:\n        outfp.write(\"%s=%s\\n\" % (key, makevars[key]))\n    outfp.write(\"\\nall: %s\\n\\n\" % target)\n\n    deps = []\n    for i in range(len(files)):\n        file = files[i]\n        if file[-2:] == '.c':\n            base = os.path.basename(file)\n            dest = base[:-2] + '.o'\n            outfp.write(\"%s: %s\\n\" % (dest, file))\n            outfp.write(\"\\t$(CC) $(PY_CFLAGS) $(PY_CPPFLAGS) -c %s\\n\" % file)\n            files[i] = dest\n            deps.append(dest)\n\n    outfp.write(\"\\n%s: %s\\n\" % (target, ' '.join(deps)))\n    outfp.write(\"\\t$(LINKCC) $(PY_LDFLAGS) $(LINKFORSHARED) %s -o %s $(LDLAST)\\n\" %\n                (' '.join(files), target))\n\n    outfp.write(\"\\nclean:\\n\\t-rm -f *.o %s\\n\" % target)\n", "description": "The Python programming language", "file_name": "makemakefile.py", "id": "aaccebac7e39988af0cc80b291664173", "language": "Python", "project_name": "cpython", "quality": "", "save_path": "/home/ubuntu/test_files/clean/network_test/python-cpython/python-cpython-74f5687/Tools/freeze/makemakefile.py", "save_time": "", "source": "", "update_at": "2018-03-14T01:20:38Z", "url": "https://github.com/python/cpython", "wiki": false}