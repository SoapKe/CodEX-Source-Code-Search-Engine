{"author": "ansible", "code": "import sys\n\nfrom ansible.compat.tests.mock import patch, Mock\nfrom units.modules.utils import AnsibleExitJson, AnsibleFailJson, ModuleTestCase\n\nbase_modules_mock = Mock()\nnitro_service_mock = Mock()\nnitro_exception_mock = Mock()\n\n\nbase_modules_to_mock = {\n    'nssrc': base_modules_mock,\n    'nssrc.com': base_modules_mock,\n    'nssrc.com.citrix': base_modules_mock,\n    'nssrc.com.citrix.netscaler': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro.resource': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro.resource.config': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro.exception': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro.exception.nitro_exception': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro.exception.nitro_exception.nitro_exception': nitro_exception_mock,\n    'nssrc.com.citrix.netscaler.nitro.service': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro.service.nitro_service': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro.service.nitro_service.nitro_service': nitro_service_mock,\n}\n\nnitro_base_patcher = patch.dict(sys.modules, base_modules_to_mock)\n\n\nclass TestModule(ModuleTestCase):\n    def failed(self):\n        with self.assertRaises(AnsibleFailJson) as exc:\n            self.module.main()\n\n        result = exc.exception.args[0]\n        self.assertTrue(result['failed'], result)\n        return result\n\n    def exited(self, changed=False):\n        with self.assertRaises(AnsibleExitJson) as exc:\n            self.module.main()\n\n        result = exc.exception.args[0]\n        return result\n", "comments": "", "content": "import sys\n\nfrom ansible.compat.tests.mock import patch, Mock\nfrom units.modules.utils import AnsibleExitJson, AnsibleFailJson, ModuleTestCase\n\nbase_modules_mock = Mock()\nnitro_service_mock = Mock()\nnitro_exception_mock = Mock()\n\n\nbase_modules_to_mock = {\n    'nssrc': base_modules_mock,\n    'nssrc.com': base_modules_mock,\n    'nssrc.com.citrix': base_modules_mock,\n    'nssrc.com.citrix.netscaler': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro.resource': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro.resource.config': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro.exception': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro.exception.nitro_exception': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro.exception.nitro_exception.nitro_exception': nitro_exception_mock,\n    'nssrc.com.citrix.netscaler.nitro.service': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro.service.nitro_service': base_modules_mock,\n    'nssrc.com.citrix.netscaler.nitro.service.nitro_service.nitro_service': nitro_service_mock,\n}\n\nnitro_base_patcher = patch.dict(sys.modules, base_modules_to_mock)\n\n\nclass TestModule(ModuleTestCase):\n    def failed(self):\n        with self.assertRaises(AnsibleFailJson) as exc:\n            self.module.main()\n\n        result = exc.exception.args[0]\n        self.assertTrue(result['failed'], result)\n        return result\n\n    def exited(self, changed=False):\n        with self.assertRaises(AnsibleExitJson) as exc:\n            self.module.main()\n\n        result = exc.exception.args[0]\n        return result\n", "description": "Ansible is a radically simple IT automation platform that makes your applications and systems easier to deploy. Avoid writing scripts or custom code to deploy and update your applications\u2014 automate in a language that approaches plain English, using SSH, with no agents to install on remote systems.", "file_name": "netscaler_module.py", "id": "807cd10a63578b50027621b113051292", "language": "Python", "project_name": "ansible", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/ansible-ansible/ansible-ansible-d30554b/test/units/modules/network/netscaler/netscaler_module.py", "save_time": "", "source": "", "update_at": "2018-03-18T14:08:28Z", "url": "https://github.com/ansible/ansible", "wiki": false}