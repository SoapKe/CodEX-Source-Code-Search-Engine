{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\n\nfrom odoo import models\n\n\nclass PosSaleReport(models.Model):\n    _inherit = \"report.all.channels.sales\"\n\n    def _pos(self):\n        pos_str = \"\"\"\n                 SELECT\n                    (-1) * pol.id AS id,\n                    pos.name AS name,\n                    pos.partner_id AS partner_id,\n                    pol.product_id AS product_id,\n                    pro.product_tmpl_id AS product_tmpl_id,\n                    pos.date_order AS date_order,\n                    pos.user_id AS user_id,\n                    pt.categ_id AS categ_id,\n                    pos.company_id AS company_id,\n                    ((pol.qty * pol.price_unit) * (100 - pol.discount) / 100) AS price_total,\n                    pos.pricelist_id AS pricelist_id,\n                    rp.country_id AS country_id,\n                    (pol.qty * pol.price_unit) AS price_subtotal,\n                    (pol.qty * u.factor) AS product_qty,\n                    NULL AS analytic_account_id,\n                    config.crm_team_id AS team_id\n\n                FROM pos_order_line AS pol\n                    JOIN pos_order pos ON (pos.id = pol.order_id)\n                    LEFT JOIN pos_session session ON (session.id = pos.session_id)\n                    LEFT JOIN pos_config config ON (config.id = session.config_id)\n                    LEFT JOIN product_product pro ON (pol.product_id = pro.id)\n                    LEFT JOIN product_template pt ON (pro.product_tmpl_id = pt.id)\n                    LEFT JOIN product_category AS pc ON (pt.categ_id = pc.id)\n                    LEFT JOIN res_company AS rc ON (pos.company_id = rc.id)\n                    LEFT JOIN res_partner rp ON (rc.partner_id = rp.id)\n                    LEFT JOIN product_uom u ON (u.id=pt.uom_id)\n         \"\"\"\n        return pos_str\n\n    def _from(self):\n        return \"\"\"(%s UNION ALL %s)\"\"\" % (self._so(), self._pos())\n", "comments": "                     select                     ( 1)   pol id as id                      pos name as name                      pos partner id as partner id                      pol product id as product id                      pro product tmpl id as product tmpl id                      pos date order as date order                      pos user id as user id                      pt categ id as categ id                      pos company id as company id                      ((pol qty   pol price unit)   (100   pol discount)   100) as price total                      pos pricelist id as pricelist id                      rp country id as country id                      (pol qty   pol price unit) as price subtotal                      (pol qty   u factor) as product qty                      null as analytic account id                      config crm team id as team id                  from pos order line as pol                     join pos order pos on (pos id   pol order id)                     left join pos session session on (session id   pos session id)                     left join pos config config on (config id   session config id)                     left join product product pro on (pol product id   pro id)                     left join product template pt on (pro product tmpl id   pt id)                     left join product category as pc on (pt categ id   pc id)                     left join res company as rc on (pos company id   rc id)                     left join res partner rp on (rc partner id   rp id)                     left join product uom u on (u id pt uom id)                      return pos str      def  from(self)          return    ( union all  s)           coding  utf 8        part odoo  see license file full copyright licensing details  ", "content": "# -*- coding: utf-8 -*-\n# Part of Odoo. See LICENSE file for full copyright and licensing details.\n\nfrom odoo import models\n\n\nclass PosSaleReport(models.Model):\n    _inherit = \"report.all.channels.sales\"\n\n    def _pos(self):\n        pos_str = \"\"\"\n                 SELECT\n                    (-1) * pol.id AS id,\n                    pos.name AS name,\n                    pos.partner_id AS partner_id,\n                    pol.product_id AS product_id,\n                    pro.product_tmpl_id AS product_tmpl_id,\n                    pos.date_order AS date_order,\n                    pos.user_id AS user_id,\n                    pt.categ_id AS categ_id,\n                    pos.company_id AS company_id,\n                    ((pol.qty * pol.price_unit) * (100 - pol.discount) / 100) AS price_total,\n                    pos.pricelist_id AS pricelist_id,\n                    rp.country_id AS country_id,\n                    (pol.qty * pol.price_unit) AS price_subtotal,\n                    (pol.qty * u.factor) AS product_qty,\n                    NULL AS analytic_account_id,\n                    config.crm_team_id AS team_id\n\n                FROM pos_order_line AS pol\n                    JOIN pos_order pos ON (pos.id = pol.order_id)\n                    LEFT JOIN pos_session session ON (session.id = pos.session_id)\n                    LEFT JOIN pos_config config ON (config.id = session.config_id)\n                    LEFT JOIN product_product pro ON (pol.product_id = pro.id)\n                    LEFT JOIN product_template pt ON (pro.product_tmpl_id = pt.id)\n                    LEFT JOIN product_category AS pc ON (pt.categ_id = pc.id)\n                    LEFT JOIN res_company AS rc ON (pos.company_id = rc.id)\n                    LEFT JOIN res_partner rp ON (rc.partner_id = rp.id)\n                    LEFT JOIN product_uom u ON (u.id=pt.uom_id)\n         \"\"\"\n        return pos_str\n\n    def _from(self):\n        return \"\"\"(%s UNION ALL %s)\"\"\" % (self._so(), self._pos())\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "report_all_channels_sales.py", "id": "b06969fddbd8ab2b9abebddcfaf8ecef", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/pos_sale/report/report_all_channels_sales.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}