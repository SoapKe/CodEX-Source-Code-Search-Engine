{"author": "mwaskom", "code": "\nimport pandas as pd\nimport seaborn as sns\nsns.set()\n\n\ndf = sns.load_dataset(\"brain_networks\", header=[0, 1, 2], index_col=0)\n\n\nused_networks = [1, 5, 6, 7, 8, 12, 13, 17]\nused_columns = (df.columns.get_level_values(\"network\")\n                          .astype(int)\n                          .isin(used_networks))\ndf = df.loc[:, used_columns]\n\n\nnetwork_pal = sns.husl_palette(8, s=.45)\nnetwork_lut = dict(zip(map(str, used_networks), network_pal))\n\n\nnetworks = df.columns.get_level_values(\"network\")\nnetwork_colors = pd.Series(networks, index=df.columns).map(network_lut)\n\n\nsns.clustermap(df.corr(), center=0, cmap=\"vlag\",\n               row_colors=network_colors, col_colors=network_colors,\n               linewidths=.75, figsize=(13, 13))\n", "comments": "    discovering structure heatmap data                                         thumb   4   25        load brain networks example dataset    select subset networks    create categorical palette identify networks    convert palette vectors drawn side matrix    draw full plot ", "content": "\"\"\"\nDiscovering structure in heatmap data\n=====================================\n\n_thumb: .4, .25\n\"\"\"\nimport pandas as pd\nimport seaborn as sns\nsns.set()\n\n# Load the brain networks example dataset\ndf = sns.load_dataset(\"brain_networks\", header=[0, 1, 2], index_col=0)\n\n# Select a subset of the networks\nused_networks = [1, 5, 6, 7, 8, 12, 13, 17]\nused_columns = (df.columns.get_level_values(\"network\")\n                          .astype(int)\n                          .isin(used_networks))\ndf = df.loc[:, used_columns]\n\n# Create a categorical palette to identify the networks\nnetwork_pal = sns.husl_palette(8, s=.45)\nnetwork_lut = dict(zip(map(str, used_networks), network_pal))\n\n# Convert the palette to vectors that will be drawn on the side of the matrix\nnetworks = df.columns.get_level_values(\"network\")\nnetwork_colors = pd.Series(networks, index=df.columns).map(network_lut)\n\n# Draw the full plot\nsns.clustermap(df.corr(), center=0, cmap=\"vlag\",\n               row_colors=network_colors, col_colors=network_colors,\n               linewidths=.75, figsize=(13, 13))\n", "description": "Statistical data visualization using matplotlib", "file_name": "structured_heatmap.py", "id": "74ca490eeb6e8c010f478340364726f3", "language": "Python", "project_name": "seaborn", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/mwaskom-seaborn/mwaskom-seaborn-71a807b/examples/structured_heatmap.py", "save_time": "", "source": "", "update_at": "2018-03-18T02:14:24Z", "url": "https://github.com/mwaskom/seaborn", "wiki": false}