{"author": "rg3", "code": "\nfrom __future__ import unicode_literals\n\nimport re\n\nfrom .turner import TurnerBaseIE\n\n\nclass TruTVIE(TurnerBaseIE):\n    _VALID_URL = r'https?://(?:www\\.)?trutv\\.com(?:(?P<path>/shows/[^/]+/videos/[^/?\n    _TEST = {\n        'url': 'http://www.trutv.com/shows/10-things/videos/you-wont-believe-these-sports-bets.html',\n        'md5': '2cdc844f317579fed1a7251b087ff417',\n        'info_dict': {\n            'id': '/shows/10-things/videos/you-wont-believe-these-sports-bets',\n            'ext': 'mp4',\n            'title': 'You Won\\'t Believe These Sports Bets',\n            'description': 'Jamie Lee sits down with a bookie to discuss the bizarre world of illegal sports betting.',\n            'upload_date': '20130305',\n        }\n    }\n\n    def _real_extract(self, url):\n        path, video_id = re.match(self._VALID_URL, url).groups()\n        auth_required = False\n        if path:\n            data_src = 'http://www.trutv.com/video/cvp/v2/xml/content.xml?id=%s.xml' % path\n        else:\n            webpage = self._download_webpage(url, video_id)\n            video_id = self._search_regex(\n                r\"TTV\\.TVE\\.episodeId\\s*=\\s*'([^']+)';\",\n                webpage, 'video id', default=video_id)\n            auth_required = self._search_regex(\n                r'TTV\\.TVE\\.authRequired\\s*=\\s*(true|false);',\n                webpage, 'auth required', default='false') == 'true'\n            data_src = 'http://www.trutv.com/tveverywhere/services/cvpXML.do?titleId=' + video_id\n        return self._extract_cvp_info(\n            data_src, path, {\n                'secure': {\n                    'media_src': 'http://androidhls-secure.cdn.turner.com/trutv/big',\n                    'tokenizer_src': 'http://www.trutv.com/tveverywhere/processors/services/token_ipadAdobe.do',\n                },\n            }, {\n                'url': url,\n                'site_name': 'truTV',\n                'auth_required': auth_required,\n            })\n", "comments": "# coding: utf-8\n#]+?)\\.html|/full-episodes/[^/]+/(?P<id>\\d+))'\n", "content": "# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport re\n\nfrom .turner import TurnerBaseIE\n\n\nclass TruTVIE(TurnerBaseIE):\n    _VALID_URL = r'https?://(?:www\\.)?trutv\\.com(?:(?P<path>/shows/[^/]+/videos/[^/?#]+?)\\.html|/full-episodes/[^/]+/(?P<id>\\d+))'\n    _TEST = {\n        'url': 'http://www.trutv.com/shows/10-things/videos/you-wont-believe-these-sports-bets.html',\n        'md5': '2cdc844f317579fed1a7251b087ff417',\n        'info_dict': {\n            'id': '/shows/10-things/videos/you-wont-believe-these-sports-bets',\n            'ext': 'mp4',\n            'title': 'You Won\\'t Believe These Sports Bets',\n            'description': 'Jamie Lee sits down with a bookie to discuss the bizarre world of illegal sports betting.',\n            'upload_date': '20130305',\n        }\n    }\n\n    def _real_extract(self, url):\n        path, video_id = re.match(self._VALID_URL, url).groups()\n        auth_required = False\n        if path:\n            data_src = 'http://www.trutv.com/video/cvp/v2/xml/content.xml?id=%s.xml' % path\n        else:\n            webpage = self._download_webpage(url, video_id)\n            video_id = self._search_regex(\n                r\"TTV\\.TVE\\.episodeId\\s*=\\s*'([^']+)';\",\n                webpage, 'video id', default=video_id)\n            auth_required = self._search_regex(\n                r'TTV\\.TVE\\.authRequired\\s*=\\s*(true|false);',\n                webpage, 'auth required', default='false') == 'true'\n            data_src = 'http://www.trutv.com/tveverywhere/services/cvpXML.do?titleId=' + video_id\n        return self._extract_cvp_info(\n            data_src, path, {\n                'secure': {\n                    'media_src': 'http://androidhls-secure.cdn.turner.com/trutv/big',\n                    'tokenizer_src': 'http://www.trutv.com/tveverywhere/processors/services/token_ipadAdobe.do',\n                },\n            }, {\n                'url': url,\n                'site_name': 'truTV',\n                'auth_required': auth_required,\n            })\n", "description": "Command-line program to download videos from YouTube.com and other video sites", "file_name": "trutv.py", "language": "Python", "project_name": "youtube-dl", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/rg3_youtube-dl/rg3-youtube-dl-6202f08/youtube_dl/extractor/trutv.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:18:39Z", "url": "https://github.com/rg3/youtube-dl", "wiki": false}