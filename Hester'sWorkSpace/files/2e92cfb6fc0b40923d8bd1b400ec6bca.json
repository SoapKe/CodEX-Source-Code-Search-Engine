{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\n\nfrom odoo import api, models, fields\n\n\nclass PurchaseOrderLine(models.Model):\n    _inherit = \"purchase.order.line\"\n\n    sale_line_id = fields.Many2one('sale.order.line')\n\n    @api.multi\n    def _prepare_stock_moves(self, picking):\n        res = super(PurchaseOrderLine, self)._prepare_stock_moves(picking)\n        for re in res:\n            re['sale_line_id'] = self.sale_line_id.id\n        return res\n\n\nclass ProcurementRule(models.Model):\n    _inherit = 'procurement.rule'\n\n    @api.model\n    def _prepare_purchase_order_line(self, product_id, product_qty, product_uom, values, po, supplier):\n        res = super(ProcurementRule, self)._prepare_purchase_order_line(product_id, product_qty, product_uom, values, po, supplier)\n        res['sale_line_id'] = values.get('sale_line_id', False)\n        return res\n\n", "comments": "      coding  utf 8        part odoo  see license file full copyright licensing details  ", "content": "# -*- coding: utf-8 -*-\n# Part of Odoo. See LICENSE file for full copyright and licensing details.\n\nfrom odoo import api, models, fields\n\n\nclass PurchaseOrderLine(models.Model):\n    _inherit = \"purchase.order.line\"\n\n    sale_line_id = fields.Many2one('sale.order.line')\n\n    @api.multi\n    def _prepare_stock_moves(self, picking):\n        res = super(PurchaseOrderLine, self)._prepare_stock_moves(picking)\n        for re in res:\n            re['sale_line_id'] = self.sale_line_id.id\n        return res\n\n\nclass ProcurementRule(models.Model):\n    _inherit = 'procurement.rule'\n\n    @api.model\n    def _prepare_purchase_order_line(self, product_id, product_qty, product_uom, values, po, supplier):\n        res = super(ProcurementRule, self)._prepare_purchase_order_line(product_id, product_qty, product_uom, values, po, supplier)\n        res['sale_line_id'] = values.get('sale_line_id', False)\n        return res\n\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "purchase.py", "id": "2e92cfb6fc0b40923d8bd1b400ec6bca", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/stock_dropshipping/models/purchase.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}