{"author": "ansible", "code": "# Copyright (c) 2017 Ansible Project\n# GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n\nimport json\nfrom collections import MutableMapping\n\nimport pytest\n\nfrom ansible.module_utils.six import string_types\nfrom ansible.module_utils._text import to_bytes\n\n\n@pytest.fixture\ndef patch_ansible_module(request, mocker):\n    if isinstance(request.param, string_types):\n        args = request.param\n    elif isinstance(request.param, MutableMapping):\n        if 'ANSIBLE_MODULE_ARGS' not in request.param:\n            request.param = {'ANSIBLE_MODULE_ARGS': request.param}\n        args = json.dumps(request.param)\n    else:\n        raise Exception('Malformed data to the patch_ansible_module pytest fixture')\n\n    mocker.patch('ansible.module_utils.basic._ANSIBLE_ARGS', to_bytes(args))\n", "comments": "  copyright (c) 2017 ansible project    gnu general public license v3 0  (see copying https   www gnu org licenses gpl 3 0 txt) ", "content": "# Copyright (c) 2017 Ansible Project\n# GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n\nimport json\nfrom collections import MutableMapping\n\nimport pytest\n\nfrom ansible.module_utils.six import string_types\nfrom ansible.module_utils._text import to_bytes\n\n\n@pytest.fixture\ndef patch_ansible_module(request, mocker):\n    if isinstance(request.param, string_types):\n        args = request.param\n    elif isinstance(request.param, MutableMapping):\n        if 'ANSIBLE_MODULE_ARGS' not in request.param:\n            request.param = {'ANSIBLE_MODULE_ARGS': request.param}\n        args = json.dumps(request.param)\n    else:\n        raise Exception('Malformed data to the patch_ansible_module pytest fixture')\n\n    mocker.patch('ansible.module_utils.basic._ANSIBLE_ARGS', to_bytes(args))\n", "description": "Ansible is a radically simple IT automation platform that makes your applications and systems easier to deploy. Avoid writing scripts or custom code to deploy and update your applications\u2014 automate in a language that approaches plain English, using SSH, with no agents to install on remote systems.", "file_name": "conftest.py", "id": "bbd9abd06726670ce3faec79d42bab74", "language": "Python", "project_name": "ansible", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/ansible-ansible/ansible-ansible-d30554b/test/units/modules/conftest.py", "save_time": "", "source": "", "update_at": "2018-03-18T14:08:28Z", "url": "https://github.com/ansible/ansible", "wiki": false}