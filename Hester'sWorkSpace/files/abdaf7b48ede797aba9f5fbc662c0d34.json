{"author": "nvbn", "code": "import os\nimport sys\nimport msvcrt\nimport win_unicode_console\nfrom .. import const\n\n\ndef init_output():\n    import colorama\n    win_unicode_console.enable()\n    colorama.init()\n\n\ndef get_key():\n    ch = msvcrt.getch()\n    if ch in (b'\\x00', b'\\xe0'):  \n        ch = msvcrt.getch()  \n\n    if ch in const.KEY_MAPPING:\n        return const.KEY_MAPPING[ch]\n    if ch == b'H':\n        return const.KEY_UP\n    if ch == b'P':\n        return const.KEY_DOWN\n\n    encoding = (sys.stdout.encoding\n                or os.environ.get('PYTHONIOENCODING', 'utf-8'))\n    return ch.decode(encoding)\n\n\ndef open_command(arg):\n    return 'cmd /c start ' + arg\n\n\ntry:\n    from pathlib import Path\nexcept ImportError:\n    from pathlib2 import Path\n\n\ndef _expanduser(self):\n    return self.__class__(os.path.expanduser(str(self)))\n\n\n\nPath.expanduser = _expanduser\n", "comments": "# arrow or function key prefix?\n# second call returns the actual key code\n# pathlib's expanduser fails on windows, see http://bugs.python.org/issue19776\n", "content": "import os\nimport sys\nimport msvcrt\nimport win_unicode_console\nfrom .. import const\n\n\ndef init_output():\n    import colorama\n    win_unicode_console.enable()\n    colorama.init()\n\n\ndef get_key():\n    ch = msvcrt.getch()\n    if ch in (b'\\x00', b'\\xe0'):  # arrow or function key prefix?\n        ch = msvcrt.getch()  # second call returns the actual key code\n\n    if ch in const.KEY_MAPPING:\n        return const.KEY_MAPPING[ch]\n    if ch == b'H':\n        return const.KEY_UP\n    if ch == b'P':\n        return const.KEY_DOWN\n\n    encoding = (sys.stdout.encoding\n                or os.environ.get('PYTHONIOENCODING', 'utf-8'))\n    return ch.decode(encoding)\n\n\ndef open_command(arg):\n    return 'cmd /c start ' + arg\n\n\ntry:\n    from pathlib import Path\nexcept ImportError:\n    from pathlib2 import Path\n\n\ndef _expanduser(self):\n    return self.__class__(os.path.expanduser(str(self)))\n\n\n# pathlib's expanduser fails on windows, see http://bugs.python.org/issue19776\nPath.expanduser = _expanduser\n", "description": "Magnificent app which corrects your previous console command.", "file_name": "win32.py", "language": "Python", "project_name": "thefuck", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/nvbn_thefuck/nvbn-thefuck-284d49d/thefuck/system/win32.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:34:29Z", "url": "https://github.com/nvbn/thefuck", "wiki": true}