{"author": "nvbn", "code": "import pytest\nfrom tests.functional.plots import with_confirmation, without_confirmation, \\\n    refuse_with_confirmation, select_command_with_arrows\n\ncontainers = (('thefuck/python3-fish',\n               u,\n               u'fish'))\n\n\n@pytest.fixture(params=containers)\ndef proc(request, spawnu, TIMEOUT):\n    proc = spawnu(*request.param)\n    proc.sendline(u\"pip install /src\")\n    assert proc.expect([TIMEOUT, u'Successfully installed'])\n    proc.sendline(u'thefuck --alias > ~/.config/fish/config.fish')\n    proc.sendline(u'fish')\n    return proc\n\n\n@pytest.mark.functional\ndef test_with_confirmation(proc, TIMEOUT):\n    with_confirmation(proc, TIMEOUT)\n\n\n@pytest.mark.functional\ndef test_select_command_with_arrows(proc, TIMEOUT):\n    select_command_with_arrows(proc, TIMEOUT)\n\n\n@pytest.mark.functional\ndef test_refuse_with_confirmation(proc, TIMEOUT):\n    refuse_with_confirmation(proc, TIMEOUT)\n\n\n@pytest.mark.functional\ndef test_without_confirmation(proc, TIMEOUT):\n    without_confirmation(proc, TIMEOUT)\n\n\n", "comments": "FROM python:3\n                   # Use jessie-backports since it has the fish package. See here for details:\n                   # https://github.com/tianon/docker-brew-debian/blob/88ae21052affd8a14553bb969f9d41c464032122/jessie/backports/Dockerfile\n                   RUN awk '$1 ~ \"^deb\" { $3 = $3 \"-backports\"; print; exit }' /etc/apt/sources.list > /etc/apt/sources.list.d/backports.list\n                   RUN apt-get update\n                   RUN apt-get install -yy fish''',\n               u'fish'),\n              ('thefuck/python2-fish',\n               u'''FROM python:2\n                   # Use jessie-backports since it has the fish package. See here for details:\n                   # https://github.com/tianon/docker-brew-debian/blob/88ae21052affd8a14553bb969f9d41c464032122/jessie/backports/Dockerfile\n                   RUN awk '$1 ~ \"^deb\" { $3 = $3 \"-backports\"; print; exit }' /etc/apt/sources.list > /etc/apt/sources.list.d/backports.list\n                   RUN apt-get update\n                   RUN apt-get install -yy fish\nh\n# TODO: ensure that history changes.\n", "content": "import pytest\nfrom tests.functional.plots import with_confirmation, without_confirmation, \\\n    refuse_with_confirmation, select_command_with_arrows\n\ncontainers = (('thefuck/python3-fish',\n               u'''FROM python:3\n                   # Use jessie-backports since it has the fish package. See here for details:\n                   # https://github.com/tianon/docker-brew-debian/blob/88ae21052affd8a14553bb969f9d41c464032122/jessie/backports/Dockerfile\n                   RUN awk '$1 ~ \"^deb\" { $3 = $3 \"-backports\"; print; exit }' /etc/apt/sources.list > /etc/apt/sources.list.d/backports.list\n                   RUN apt-get update\n                   RUN apt-get install -yy fish''',\n               u'fish'),\n              ('thefuck/python2-fish',\n               u'''FROM python:2\n                   # Use jessie-backports since it has the fish package. See here for details:\n                   # https://github.com/tianon/docker-brew-debian/blob/88ae21052affd8a14553bb969f9d41c464032122/jessie/backports/Dockerfile\n                   RUN awk '$1 ~ \"^deb\" { $3 = $3 \"-backports\"; print; exit }' /etc/apt/sources.list > /etc/apt/sources.list.d/backports.list\n                   RUN apt-get update\n                   RUN apt-get install -yy fish''',\n               u'fish'))\n\n\n@pytest.fixture(params=containers)\ndef proc(request, spawnu, TIMEOUT):\n    proc = spawnu(*request.param)\n    proc.sendline(u\"pip install /src\")\n    assert proc.expect([TIMEOUT, u'Successfully installed'])\n    proc.sendline(u'thefuck --alias > ~/.config/fish/config.fish')\n    proc.sendline(u'fish')\n    return proc\n\n\n@pytest.mark.functional\ndef test_with_confirmation(proc, TIMEOUT):\n    with_confirmation(proc, TIMEOUT)\n\n\n@pytest.mark.functional\ndef test_select_command_with_arrows(proc, TIMEOUT):\n    select_command_with_arrows(proc, TIMEOUT)\n\n\n@pytest.mark.functional\ndef test_refuse_with_confirmation(proc, TIMEOUT):\n    refuse_with_confirmation(proc, TIMEOUT)\n\n\n@pytest.mark.functional\ndef test_without_confirmation(proc, TIMEOUT):\n    without_confirmation(proc, TIMEOUT)\n\n# TODO: ensure that history changes.\n", "description": "Magnificent app which corrects your previous console command.", "file_name": "test_fish.py", "language": "Python", "project_name": "thefuck", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/nvbn_thefuck/nvbn-thefuck-284d49d/tests/functional/test_fish.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:34:29Z", "url": "https://github.com/nvbn/thefuck", "wiki": true}