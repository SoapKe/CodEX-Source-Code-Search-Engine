{"author": "django", "code": "from django.contrib import admin\nfrom django.db import models\n\n\nclass Band(models.Model):\n    name = models.CharField(max_length=100)\n    bio = models.TextField()\n    rank = models.IntegerField()\n\n    class Meta:\n        ordering = ('name',)\n\n\nclass Song(models.Model):\n    band = models.ForeignKey(Band, models.CASCADE)\n    name = models.CharField(max_length=100)\n    duration = models.IntegerField()\n    other_interpreters = models.ManyToManyField(Band, related_name='covers')\n\n    class Meta:\n        ordering = ('name',)\n\n\nclass SongInlineDefaultOrdering(admin.StackedInline):\n    model = Song\n\n\nclass SongInlineNewOrdering(admin.StackedInline):\n    model = Song\n    ordering = ('duration',)\n\n\nclass DynOrderingBandAdmin(admin.ModelAdmin):\n\n    def get_ordering(self, request):\n        if request.user.is_superuser:\n            return ['rank']\n        else:\n            return ['name']\n", "comments": "", "content": "from django.contrib import admin\nfrom django.db import models\n\n\nclass Band(models.Model):\n    name = models.CharField(max_length=100)\n    bio = models.TextField()\n    rank = models.IntegerField()\n\n    class Meta:\n        ordering = ('name',)\n\n\nclass Song(models.Model):\n    band = models.ForeignKey(Band, models.CASCADE)\n    name = models.CharField(max_length=100)\n    duration = models.IntegerField()\n    other_interpreters = models.ManyToManyField(Band, related_name='covers')\n\n    class Meta:\n        ordering = ('name',)\n\n\nclass SongInlineDefaultOrdering(admin.StackedInline):\n    model = Song\n\n\nclass SongInlineNewOrdering(admin.StackedInline):\n    model = Song\n    ordering = ('duration',)\n\n\nclass DynOrderingBandAdmin(admin.ModelAdmin):\n\n    def get_ordering(self, request):\n        if request.user.is_superuser:\n            return ['rank']\n        else:\n            return ['name']\n", "description": "The Web framework for perfectionists with deadlines.", "file_name": "models.py", "id": "e3d6ccfc3aa8063de1a54ef5a706943f", "language": "Python", "project_name": "django", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/django-django/django-django-274e3e2/tests/admin_ordering/models.py", "save_time": "", "source": "", "update_at": "2018-03-18T13:39:10Z", "url": "https://github.com/django/django", "wiki": false}