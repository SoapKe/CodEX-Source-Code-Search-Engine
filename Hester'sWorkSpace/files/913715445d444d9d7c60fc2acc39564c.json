{"author": "tgalal", "code": "from yowsup.layers import  YowProtocolLayer\nfrom .protocolentities import *\nfrom yowsup.layers.protocol_iq.protocolentities import ErrorIqProtocolEntity, ResultIqProtocolEntity\nclass YowProfilesProtocolLayer(YowProtocolLayer):\n    def __init__(self):\n        handleMap = {\n            \"iq\": (self.recvIq, self.sendIq)\n        }\n        super(YowProfilesProtocolLayer, self).__init__(handleMap)\n\n    def __str__(self):\n        return \"Profiles Layer\"\n\n    def sendIq(self, entity):\n        if entity.getXmlns() == \"w:profile:picture\":\n            if entity.getType() == \"get\":\n                self._sendIq(entity, self.onGetPictureResult, self.onGetPictureError)\n            elif entity.getType() == \"set\":\n                self._sendIq(entity, self.onSetPictureResult, self.onSetPictureError)\n            elif entity.getType() == \"delete\":\n                self._sendIq(entity, self.onDeletePictureResult, self.onDeletePictureError)\n        elif entity.getXmlns() == \"status\":\n            self._sendIq(entity, self.onSetStatusResult, self.onSetStatusError)\n        elif entity.getXmlns() == \"privacy\":\n            self._sendIq(entity, self.onPrivacyResult, self.onPrivacyError)\n\n    def recvIq(self, node):\n        pass\n\n    def onPrivacyResult(self, resultNode, originIqRequestEntity):\n        self.toUpper(ResultPrivacyIqProtocolEntity.fromProtocolTreeNode(resultNode))\n\n    def onPrivacyError(self, errorNode, originalIqRequestEntity):\n        self.toUpper(ErrorIqProtocolEntity.fromProtocolTreeNode(errorNode))\n\n    def onSetStatusResult(self, resultNode, originIqRequestEntity):\n        self.toUpper(ResultIqProtocolEntity.fromProtocolTreeNode(resultNode))\n\n    def onSetStatusError(self, errorNode, originalIqRequestEntity):\n        self.toUpper(ErrorIqProtocolEntity.fromProtocolTreeNode(errorNode))\n\n    def onGetPictureResult(self, resultNode, originalIqRequestEntity):\n        self.toUpper(ResultGetPictureIqProtocolEntity.fromProtocolTreeNode(resultNode))\n\n    def onGetPictureError(self, errorNode, originalIqRequestEntity):\n        self.toUpper(ErrorIqProtocolEntity.fromProtocolTreeNode(errorNode))\n\n    def onSetPictureResult(self, resultNode, originalIqRequestEntity):\n        self.toUpper(ResultGetPictureIqProtocolEntity.fromProtocolTreeNode(resultNode))\n\n    def onSetPictureError(self, errorNode, originalIqRequestEntity):\n        self.toUpper(ErrorIqProtocolEntity.fromProtocolTreeNode(errorNode))\n\n    def onDeletePictureResult(self, resultNode, originalIqRequestEntity):\n        self.toUpper(ResultIqProtocolEntity.fromProtocolTreeNode(resultNode))\n\n    def onDeletePictureError(self, errorNode, originalIqRequestEntity):\n        self.toUpper(ErrorIqProtocolEntity.fromProtocolTreeNode(errorNode))\n", "comments": "", "content": "from yowsup.layers import  YowProtocolLayer\nfrom .protocolentities import *\nfrom yowsup.layers.protocol_iq.protocolentities import ErrorIqProtocolEntity, ResultIqProtocolEntity\nclass YowProfilesProtocolLayer(YowProtocolLayer):\n    def __init__(self):\n        handleMap = {\n            \"iq\": (self.recvIq, self.sendIq)\n        }\n        super(YowProfilesProtocolLayer, self).__init__(handleMap)\n\n    def __str__(self):\n        return \"Profiles Layer\"\n\n    def sendIq(self, entity):\n        if entity.getXmlns() == \"w:profile:picture\":\n            if entity.getType() == \"get\":\n                self._sendIq(entity, self.onGetPictureResult, self.onGetPictureError)\n            elif entity.getType() == \"set\":\n                self._sendIq(entity, self.onSetPictureResult, self.onSetPictureError)\n            elif entity.getType() == \"delete\":\n                self._sendIq(entity, self.onDeletePictureResult, self.onDeletePictureError)\n        elif entity.getXmlns() == \"status\":\n            self._sendIq(entity, self.onSetStatusResult, self.onSetStatusError)\n        elif entity.getXmlns() == \"privacy\":\n            self._sendIq(entity, self.onPrivacyResult, self.onPrivacyError)\n\n    def recvIq(self, node):\n        pass\n\n    def onPrivacyResult(self, resultNode, originIqRequestEntity):\n        self.toUpper(ResultPrivacyIqProtocolEntity.fromProtocolTreeNode(resultNode))\n\n    def onPrivacyError(self, errorNode, originalIqRequestEntity):\n        self.toUpper(ErrorIqProtocolEntity.fromProtocolTreeNode(errorNode))\n\n    def onSetStatusResult(self, resultNode, originIqRequestEntity):\n        self.toUpper(ResultIqProtocolEntity.fromProtocolTreeNode(resultNode))\n\n    def onSetStatusError(self, errorNode, originalIqRequestEntity):\n        self.toUpper(ErrorIqProtocolEntity.fromProtocolTreeNode(errorNode))\n\n    def onGetPictureResult(self, resultNode, originalIqRequestEntity):\n        self.toUpper(ResultGetPictureIqProtocolEntity.fromProtocolTreeNode(resultNode))\n\n    def onGetPictureError(self, errorNode, originalIqRequestEntity):\n        self.toUpper(ErrorIqProtocolEntity.fromProtocolTreeNode(errorNode))\n\n    def onSetPictureResult(self, resultNode, originalIqRequestEntity):\n        self.toUpper(ResultGetPictureIqProtocolEntity.fromProtocolTreeNode(resultNode))\n\n    def onSetPictureError(self, errorNode, originalIqRequestEntity):\n        self.toUpper(ErrorIqProtocolEntity.fromProtocolTreeNode(errorNode))\n\n    def onDeletePictureResult(self, resultNode, originalIqRequestEntity):\n        self.toUpper(ResultIqProtocolEntity.fromProtocolTreeNode(resultNode))\n\n    def onDeletePictureError(self, errorNode, originalIqRequestEntity):\n        self.toUpper(ErrorIqProtocolEntity.fromProtocolTreeNode(errorNode))\n", "description": "The python WhatsApp library", "file_name": "layer.py", "id": "913715445d444d9d7c60fc2acc39564c", "language": "Python", "project_name": "yowsup", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/tgalal-yowsup/tgalal-yowsup-03795cc/yowsup/layers/protocol_profiles/layer.py", "save_time": "", "source": "", "update_at": "2018-03-18T13:01:40Z", "url": "https://github.com/tgalal/yowsup", "wiki": true}