{"author": "getsentry", "code": "# -*- coding: utf-8 -*-\n\nfrom __future__ import absolute_import\n\nfrom sentry.interfaces.debug_meta import DebugMeta\nfrom sentry.testutils import TestCase\n\n\nclass DebugMetaTest(TestCase):\n    def test_apple_behavior(self):\n        image_name = (\n            '/var/containers/Bundle/Application/'\n            'B33C37A8-F933-4B6B-9FFA-152282BFDF13/SentryTest.app/SentryTest'\n        )\n        interface = DebugMeta.to_python(\n            {\n                \"images\": [\n                    {\n                        \"type\": \"apple\",\n                        \"cpu_subtype\": 0,\n                        \"uuid\": \"C05B4DDD-69A7-3840-A649-32180D341587\",\n                        \"image_vmaddr\": 4294967296,\n                        \"image_addr\": '0x100020000',\n                        \"cpu_type\": 16777228,\n                        \"image_size\": 32768,\n                        \"name\": image_name,\n                    }\n                ],\n                \"sdk_info\": {\n                    \"sdk_name\": \"iOS\",\n                    \"version_major\": 9,\n                    \"version_minor\": 3,\n                    \"version_patchlevel\": 0\n                }\n            }\n        )\n\n        assert len(interface.images) == 1\n        img = interface.images[0]\n        assert img['type'] == 'apple'\n        assert img['cpu_type'] == 16777228\n        assert img['cpu_subtype'] == 0\n        assert img['uuid'] == 'c05b4ddd-69a7-3840-a649-32180d341587'\n        assert img['image_vmaddr'] == '0x100000000'\n        assert img['image_addr'] == '0x100020000'\n        assert img['image_size'] == 32768\n        assert img['name'] == image_name\n\n        assert interface.sdk_info['sdk_name'] == 'iOS'\n        assert interface.sdk_info['version_major'] == 9\n        assert interface.sdk_info['version_minor'] == 3\n        assert interface.sdk_info['version_patchlevel'] == 0\n\n    def test_proguard_behavior(self):\n        interface = DebugMeta.to_python(\n            {\n                \"images\": [{\n                    \"type\": \"proguard\",\n                    \"uuid\": \"C05B4DDD-69A7-3840-A649-32180D341587\",\n                }]\n            }\n        )\n\n        assert len(interface.images) == 1\n        img = interface.images[0]\n        assert img['type'] == 'proguard'\n        assert img['uuid'] == 'c05b4ddd-69a7-3840-a649-32180d341587'\n", "comments": "      coding  utf 8     ", "content": "# -*- coding: utf-8 -*-\n\nfrom __future__ import absolute_import\n\nfrom sentry.interfaces.debug_meta import DebugMeta\nfrom sentry.testutils import TestCase\n\n\nclass DebugMetaTest(TestCase):\n    def test_apple_behavior(self):\n        image_name = (\n            '/var/containers/Bundle/Application/'\n            'B33C37A8-F933-4B6B-9FFA-152282BFDF13/SentryTest.app/SentryTest'\n        )\n        interface = DebugMeta.to_python(\n            {\n                \"images\": [\n                    {\n                        \"type\": \"apple\",\n                        \"cpu_subtype\": 0,\n                        \"uuid\": \"C05B4DDD-69A7-3840-A649-32180D341587\",\n                        \"image_vmaddr\": 4294967296,\n                        \"image_addr\": '0x100020000',\n                        \"cpu_type\": 16777228,\n                        \"image_size\": 32768,\n                        \"name\": image_name,\n                    }\n                ],\n                \"sdk_info\": {\n                    \"sdk_name\": \"iOS\",\n                    \"version_major\": 9,\n                    \"version_minor\": 3,\n                    \"version_patchlevel\": 0\n                }\n            }\n        )\n\n        assert len(interface.images) == 1\n        img = interface.images[0]\n        assert img['type'] == 'apple'\n        assert img['cpu_type'] == 16777228\n        assert img['cpu_subtype'] == 0\n        assert img['uuid'] == 'c05b4ddd-69a7-3840-a649-32180d341587'\n        assert img['image_vmaddr'] == '0x100000000'\n        assert img['image_addr'] == '0x100020000'\n        assert img['image_size'] == 32768\n        assert img['name'] == image_name\n\n        assert interface.sdk_info['sdk_name'] == 'iOS'\n        assert interface.sdk_info['version_major'] == 9\n        assert interface.sdk_info['version_minor'] == 3\n        assert interface.sdk_info['version_patchlevel'] == 0\n\n    def test_proguard_behavior(self):\n        interface = DebugMeta.to_python(\n            {\n                \"images\": [{\n                    \"type\": \"proguard\",\n                    \"uuid\": \"C05B4DDD-69A7-3840-A649-32180D341587\",\n                }]\n            }\n        )\n\n        assert len(interface.images) == 1\n        img = interface.images[0]\n        assert img['type'] == 'proguard'\n        assert img['uuid'] == 'c05b4ddd-69a7-3840-a649-32180d341587'\n", "description": "Sentry is a cross-platform crash reporting and aggregation platform.", "file_name": "test_debug_meta.py", "id": "6ac65d1b3551c4fc0d35df6fd200f933", "language": "Python", "project_name": "sentry", "quality": "", "save_path": "/home/ubuntu/test_files/clean/network_test/getsentry-sentry/getsentry-sentry-6a9c7e2/tests/sentry/interfaces/test_debug_meta.py", "save_time": "", "source": "", "update_at": "2018-03-14T01:23:24Z", "url": "https://github.com/getsentry/sentry", "wiki": false}