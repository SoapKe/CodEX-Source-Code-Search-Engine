{"author": "geekcomputers", "code": "\n\n\n\n\n\n\n\n\n\n\nimport os\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\nimport shutil\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t - 1.2\nfrom time import strftime\t\t\t\t\t\t\t\t\t\t\t\t\n\nlogsdir=\"c:\\logs\\puttylogs\"\t\t\t\t\t\t\t\t\t\t\t\nzipdir=\"c:\\logs\\puttylogs\\zipped_logs\"\t\t\t\t\t\t\t\nzip_program=\"zip.exe\"\t\t\t\t\t\t\t\t\t\t\t\t\n\nfor files in os.listdir(logsdir):\t\t\t\t\t\t\t\t\t\t\n\tif files.endswith(\".log\"):\t\t\t\t\t\t\t\t\t\t\t\n\t\tfiles1=files+\".\"+strftime(\"%Y-%m-%d\")+\".zip\"\t\t\n\t\tos.chdir(logsdir) \t\t\t\t\t\t\t\t\t\t\t\t\n\t\tos.system(zip_program + \" \" +  files1 +\" \"+ files)\t\n\t\tshutil.move(files1, zipdir)\t\t\t\t\t\t\t\t\t\n\t\tos.remove(files)\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t", "comments": "  script name    puttylogs py    author      craig richards    created      13th october 2011    last modified    29th february 2012    version      1 2    modifications    1 1   added variable zip program set zip program whichever os  run different os change locations two variables             1 2   29 02 12   cr   added shutil module added one line move zipped logs zipped logs directory    description     zip logs given directory    load library module    load library module   1 2    load strftime module time    set variable logsdir    set variable zipdir   1 2    set variable zip program   1 1    find files directory    check ensure files directory end  log    create variable files1  files directory  add suffix date zip extension    change directory logsdir    zip logs dated zip files server    1 1    move zipped log files zipped logs directory   1 2    remove original log files ", "content": "# Script Name\t\t: puttylogs.py\n# Author\t\t\t\t: Craig Richards\n# Created\t\t\t\t: 13th October 2011\n# Last Modified\t\t: 29th February 2012\n# Version\t\t\t\t: 1.2\n\n# Modifications\t\t: 1.1 - Added the variable zip_program so you can set it for the zip program on whichever OS, so to run on a different OS just change the locations of these two variables.\n#\t\t\t\t\t\t\t: 1.2 - 29-02-12 - CR - Added shutil module and added one line to move the zipped up logs to the zipped_logs directory\n\n# Description\t\t\t: Zip up all the logs in the given directory\n\nimport os\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t# Load the Library Module\nimport shutil\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t# Load the Library Module - 1.2\nfrom time import strftime\t\t\t\t\t\t\t\t\t\t\t\t# Load just the strftime Module from Time\n\nlogsdir=\"c:\\logs\\puttylogs\"\t\t\t\t\t\t\t\t\t\t\t# Set the Variable logsdir\nzipdir=\"c:\\logs\\puttylogs\\zipped_logs\"\t\t\t\t\t\t\t# Set the Variable zipdir - 1.2\nzip_program=\"zip.exe\"\t\t\t\t\t\t\t\t\t\t\t\t# Set the Variable zip_program - 1.1\n\nfor files in os.listdir(logsdir):\t\t\t\t\t\t\t\t\t\t# Find all the files in the directory\n\tif files.endswith(\".log\"):\t\t\t\t\t\t\t\t\t\t\t# Check to ensure the files in the directory end in .log\n\t\tfiles1=files+\".\"+strftime(\"%Y-%m-%d\")+\".zip\"\t\t# Create the Variable files1, this is the files in the directory, then we add a suffix with the date and the zip extension\n\t\tos.chdir(logsdir) \t\t\t\t\t\t\t\t\t\t\t\t# Change directory to the logsdir\n\t\tos.system(zip_program + \" \" +  files1 +\" \"+ files)\t# Zip the logs into dated zip files for each server. - 1.1\n\t\tshutil.move(files1, zipdir)\t\t\t\t\t\t\t\t\t# Move the zipped log files to the zipped_logs directory - 1.2\n\t\tos.remove(files)\t\t\t\t\t\t\t\t\t\t\t\t\t# Remove the original log files\n\t\t", "description": "My Python Examples", "file_name": "puttylogs.py", "id": "a300003da7458d097cb72eaafa50d6cd", "language": "Python", "project_name": "Python", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/geekcomputers-Python/geekcomputers-Python-ef88c96/puttylogs.py", "save_time": "", "source": "", "update_at": "2018-03-18T16:41:16Z", "url": "https://github.com/geekcomputers/Python", "wiki": true}