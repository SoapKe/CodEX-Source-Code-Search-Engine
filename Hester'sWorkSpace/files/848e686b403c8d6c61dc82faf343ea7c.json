{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\n\nfrom odoo import api, models, _\nfrom odoo.exceptions import UserError\n\n\nclass RepairCancel(models.TransientModel):\n    _name = 'mrp.repair.cancel'\n    _description = 'Cancel Repair'\n\n    @api.multi\n    def cancel_repair(self):\n        if not self._context.get('active_id'):\n            return {'type': 'ir.actions.act_window_close'}\n        repair = self.env['mrp.repair'].browse(self._context['active_id'])\n        if repair.invoiced or repair.invoice_method == 'none':\n            repair.action_cancel()\n        else:\n            raise UserError(_('Repair order is not invoiced.'))\n        return {'type': 'ir.actions.act_window_close'}\n\n    @api.model\n    def fields_view_get(self, view_id=None, view_type='form', toolbar=False, submenu=False):\n        res = super(RepairCancel, self).fields_view_get(view_id=view_id, view_type=view_type, toolbar=toolbar,submenu=submenu)\n        repair_id = self._context.get('active_id')\n        if not repair_id or self._context.get('active_model') != 'mrp.repair':\n            return res\n\n        repair = self.env['mrp.repair'].browse(repair_id)\n        if not repair.invoiced:\n            res['arch'] = \"\"\"\n                <form string=\"Cancel Repair\">\n                    <header>\n                        <button name=\"cancel_repair\" string=\"_Yes\" type=\"object\" class=\"btn-primary\"/>\n                        <button string=\"Cancel\" class=\"btn-default\" special=\"cancel\"/>\n                    </header>\n                    <label string=\"Do you want to continue?\"/>\n                </form>\n            \"\"\"\n        return res\n", "comments": "                     form string  cancel repair                        header                           button name  cancel repair  string   yes  type  object  class  btn primary                             button string  cancel  class  btn default  special  cancel                          header                       label string  do want continue                       form                         coding  utf 8        part odoo  see license file full copyright licensing details  ", "content": "# -*- coding: utf-8 -*-\n# Part of Odoo. See LICENSE file for full copyright and licensing details.\n\nfrom odoo import api, models, _\nfrom odoo.exceptions import UserError\n\n\nclass RepairCancel(models.TransientModel):\n    _name = 'mrp.repair.cancel'\n    _description = 'Cancel Repair'\n\n    @api.multi\n    def cancel_repair(self):\n        if not self._context.get('active_id'):\n            return {'type': 'ir.actions.act_window_close'}\n        repair = self.env['mrp.repair'].browse(self._context['active_id'])\n        if repair.invoiced or repair.invoice_method == 'none':\n            repair.action_cancel()\n        else:\n            raise UserError(_('Repair order is not invoiced.'))\n        return {'type': 'ir.actions.act_window_close'}\n\n    @api.model\n    def fields_view_get(self, view_id=None, view_type='form', toolbar=False, submenu=False):\n        res = super(RepairCancel, self).fields_view_get(view_id=view_id, view_type=view_type, toolbar=toolbar,submenu=submenu)\n        repair_id = self._context.get('active_id')\n        if not repair_id or self._context.get('active_model') != 'mrp.repair':\n            return res\n\n        repair = self.env['mrp.repair'].browse(repair_id)\n        if not repair.invoiced:\n            res['arch'] = \"\"\"\n                <form string=\"Cancel Repair\">\n                    <header>\n                        <button name=\"cancel_repair\" string=\"_Yes\" type=\"object\" class=\"btn-primary\"/>\n                        <button string=\"Cancel\" class=\"btn-default\" special=\"cancel\"/>\n                    </header>\n                    <label string=\"Do you want to continue?\"/>\n                </form>\n            \"\"\"\n        return res\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "mrp_repair_cancel.py", "id": "848e686b403c8d6c61dc82faf343ea7c", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/mrp_repair/wizard/mrp_repair_cancel.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}