{"author": "mwaskom", "code": "\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nsns.set(style=\"whitegrid\")\n\n\ndf = sns.load_dataset(\"brain_networks\", header=[0, 1, 2], index_col=0)\n\n\nused_networks = [1, 3, 4, 5, 6, 7, 8, 11, 12, 13, 16, 17]\nused_columns = (df.columns.get_level_values(\"network\")\n                          .astype(int)\n                          .isin(used_networks))\ndf = df.loc[:, used_columns]\n\n\ncorr_df = df.corr().groupby(level=\"network\").mean()\ncorr_df.index = corr_df.index.astype(int)\ncorr_df = corr_df.sort_index().T\n\n\nf, ax = plt.subplots(figsize=(11, 6))\n\n\nsns.violinplot(data=corr_df, palette=\"Set3\", bw=.2, cut=1, linewidth=1)\n\n\nax.set(ylim=(-.7, 1.05))\nsns.despine(left=True, bottom=True)\n", "comments": "    violinplot wide form dataset                                       thumb   6   45        load example dataset brain network correlations    pull specific subset networks    compute correlation matrix average networks    set matplotlib figure    draw violinplot narrower bandwidth default    finalize figure ", "content": "\"\"\"\nViolinplot from a wide-form dataset\n===================================\n\n_thumb: .6, .45\n\"\"\"\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nsns.set(style=\"whitegrid\")\n\n# Load the example dataset of brain network correlations\ndf = sns.load_dataset(\"brain_networks\", header=[0, 1, 2], index_col=0)\n\n# Pull out a specific subset of networks\nused_networks = [1, 3, 4, 5, 6, 7, 8, 11, 12, 13, 16, 17]\nused_columns = (df.columns.get_level_values(\"network\")\n                          .astype(int)\n                          .isin(used_networks))\ndf = df.loc[:, used_columns]\n\n# Compute the correlation matrix and average over networks\ncorr_df = df.corr().groupby(level=\"network\").mean()\ncorr_df.index = corr_df.index.astype(int)\ncorr_df = corr_df.sort_index().T\n\n# Set up the matplotlib figure\nf, ax = plt.subplots(figsize=(11, 6))\n\n# Draw a violinplot with a narrower bandwidth than the default\nsns.violinplot(data=corr_df, palette=\"Set3\", bw=.2, cut=1, linewidth=1)\n\n# Finalize the figure\nax.set(ylim=(-.7, 1.05))\nsns.despine(left=True, bottom=True)\n", "description": "Statistical data visualization using matplotlib", "file_name": "wide_form_violinplot.py", "id": "1fd722968a7634c0c0db33c5a56d86e8", "language": "Python", "project_name": "seaborn", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/mwaskom-seaborn/mwaskom-seaborn-71a807b/examples/wide_form_violinplot.py", "save_time": "", "source": "", "update_at": "2018-03-18T02:14:24Z", "url": "https://github.com/mwaskom/seaborn", "wiki": false}