{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\n\nfrom odoo import api, fields, models, _\nfrom odoo.addons import decimal_precision as dp\n\n\nclass MrpSubProduct(models.Model):\n    _name = 'mrp.subproduct'\n    _description = 'Byproduct'\n\n    product_id = fields.Many2one('product.product', 'Product', required=True)\n    product_qty = fields.Float(\n        'Product Qty',\n        default=1.0, digits=dp.get_precision('Product Unit of Measure'), required=True)\n    product_uom_id = fields.Many2one('product.uom', 'Unit of Measure', required=True)\n    bom_id = fields.Many2one('mrp.bom', 'BoM', ondelete='cascade')\n    operation_id = fields.Many2one('mrp.routing.workcenter', 'Produced at Operation')\n\n    @api.onchange('product_id')\n    def onchange_product_id(self):\n        \n        if self.product_id:\n            self.product_uom_id = self.product_id.uom_id.id\n\n    @api.onchange('product_uom_id')\n    def onchange_uom(self):\n        res = {}\n        if self.product_uom_id and self.product_id and self.product_uom_id.category_id != self.product_id.uom_id.category_id:\n            res['warning'] = {\n                'title': _('Warning'),\n                'message': _('The Product Unit of Measure you chose has a different category than in the product form.')\n            }\n            self.product_uom_id = self.product_id.uom_id.id\n        return res\n", "comments": "    changes uom product id changes             coding  utf 8        part odoo  see license file full copyright licensing details  ", "content": "# -*- coding: utf-8 -*-\n# Part of Odoo. See LICENSE file for full copyright and licensing details.\n\nfrom odoo import api, fields, models, _\nfrom odoo.addons import decimal_precision as dp\n\n\nclass MrpSubProduct(models.Model):\n    _name = 'mrp.subproduct'\n    _description = 'Byproduct'\n\n    product_id = fields.Many2one('product.product', 'Product', required=True)\n    product_qty = fields.Float(\n        'Product Qty',\n        default=1.0, digits=dp.get_precision('Product Unit of Measure'), required=True)\n    product_uom_id = fields.Many2one('product.uom', 'Unit of Measure', required=True)\n    bom_id = fields.Many2one('mrp.bom', 'BoM', ondelete='cascade')\n    operation_id = fields.Many2one('mrp.routing.workcenter', 'Produced at Operation')\n\n    @api.onchange('product_id')\n    def onchange_product_id(self):\n        \"\"\" Changes UoM if product_id changes. \"\"\"\n        if self.product_id:\n            self.product_uom_id = self.product_id.uom_id.id\n\n    @api.onchange('product_uom_id')\n    def onchange_uom(self):\n        res = {}\n        if self.product_uom_id and self.product_id and self.product_uom_id.category_id != self.product_id.uom_id.category_id:\n            res['warning'] = {\n                'title': _('Warning'),\n                'message': _('The Product Unit of Measure you chose has a different category than in the product form.')\n            }\n            self.product_uom_id = self.product_id.uom_id.id\n        return res\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "mrp_subproduct.py", "id": "2c41623dc694cff554b80368ee968a6a", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/mrp_byproduct/models/mrp_subproduct.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}