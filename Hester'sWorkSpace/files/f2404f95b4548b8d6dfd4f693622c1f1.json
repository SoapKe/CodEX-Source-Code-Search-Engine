{"author": "django", "code": "import decimal\n\nfrom django.db import models\n\n\nclass Cash(decimal.Decimal):\n    currency = 'USD'\n\n    def __str__(self):\n        s = super().__str__(self)\n        return '%s %s' % (s, self.currency)\n\n\nclass CashField(models.DecimalField):\n    def __init__(self, **kwargs):\n        kwargs['max_digits'] = 20\n        kwargs['decimal_places'] = 2\n        super().__init__(**kwargs)\n\n    def from_db_value(self, value, expression, connection):\n        cash = Cash(value)\n        cash.vendor = connection.vendor\n        return cash\n\n\nclass CashModel(models.Model):\n    cash = CashField()\n\n    def __str__(self):\n        return str(self.cash)\n\n\nclass CashFieldDeprecated(CashField):\n    def from_db_value(self, value, expression, connection, context):\n        return super().from_db_value(value, expression, connection)\n\n\nclass CashModelDeprecated(models.Model):\n    cash = CashFieldDeprecated()\n", "comments": "", "content": "import decimal\n\nfrom django.db import models\n\n\nclass Cash(decimal.Decimal):\n    currency = 'USD'\n\n    def __str__(self):\n        s = super().__str__(self)\n        return '%s %s' % (s, self.currency)\n\n\nclass CashField(models.DecimalField):\n    def __init__(self, **kwargs):\n        kwargs['max_digits'] = 20\n        kwargs['decimal_places'] = 2\n        super().__init__(**kwargs)\n\n    def from_db_value(self, value, expression, connection):\n        cash = Cash(value)\n        cash.vendor = connection.vendor\n        return cash\n\n\nclass CashModel(models.Model):\n    cash = CashField()\n\n    def __str__(self):\n        return str(self.cash)\n\n\nclass CashFieldDeprecated(CashField):\n    def from_db_value(self, value, expression, connection, context):\n        return super().from_db_value(value, expression, connection)\n\n\nclass CashModelDeprecated(models.Model):\n    cash = CashFieldDeprecated()\n", "description": "The Web framework for perfectionists with deadlines.", "file_name": "models.py", "id": "f2404f95b4548b8d6dfd4f693622c1f1", "language": "Python", "project_name": "django", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/django-django/django-django-274e3e2/tests/from_db_value/models.py", "save_time": "", "source": "", "update_at": "2018-03-18T13:39:10Z", "url": "https://github.com/django/django", "wiki": false}