{"author": "webpy", "code": "import unittest\nimport web\nimport threading, time\n\nclass WSGITest(unittest.TestCase):\n    def test_layers_unicode(self):\n        urls = (\n            '/', 'uni',\n        )\n\n        class uni:\n            def GET(self):\n                return u\"\\u0C05\\u0C06\"\n\n        app = web.application(urls, locals())\n\n        thread = threading.Thread(target=app.run)\n        thread.start()\n        time.sleep(0.5)\n\n        b = web.browser.Browser()\n        r = b.open('/').read()\n        s = r.decode('utf8')\n        self.assertEqual(s, u\"\\u0C05\\u0C06\")\n\n        app.stop()\n        thread.join()\n\n\n    def test_layers_bytes(self):\n        urls = (\n            '/', 'bytes',\n        )\n\n        class bytes:\n            def GET(self):\n                return b'abcdef'\n\n        app = web.application(urls, locals())\n\n        thread = threading.Thread(target=app.run)\n        thread.start()\n        time.sleep(0.5)\n\n        b = web.browser.Browser()\n        r = b.open('/')\n        self.assertEqual(r.read(), b'abcdef')\n\n        app.stop()\n        thread.join()\n", "comments": "", "content": "import unittest\nimport web\nimport threading, time\n\nclass WSGITest(unittest.TestCase):\n    def test_layers_unicode(self):\n        urls = (\n            '/', 'uni',\n        )\n\n        class uni:\n            def GET(self):\n                return u\"\\u0C05\\u0C06\"\n\n        app = web.application(urls, locals())\n\n        thread = threading.Thread(target=app.run)\n        thread.start()\n        time.sleep(0.5)\n\n        b = web.browser.Browser()\n        r = b.open('/').read()\n        s = r.decode('utf8')\n        self.assertEqual(s, u\"\\u0C05\\u0C06\")\n\n        app.stop()\n        thread.join()\n\n\n    def test_layers_bytes(self):\n        urls = (\n            '/', 'bytes',\n        )\n\n        class bytes:\n            def GET(self):\n                return b'abcdef'\n\n        app = web.application(urls, locals())\n\n        thread = threading.Thread(target=app.run)\n        thread.start()\n        time.sleep(0.5)\n\n        b = web.browser.Browser()\n        r = b.open('/')\n        self.assertEqual(r.read(), b'abcdef')\n\n        app.stop()\n        thread.join()\n", "description": "web.py is a web framework for python that is as simple as it is powerful. ", "file_name": "test_wsgi.py", "id": "bef3b8e06da39462e2e38bca0e62eeaa", "language": "Python", "project_name": "webpy", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/webpy-webpy/webpy-webpy-817c979/tests/test_wsgi.py", "save_time": "", "source": "", "update_at": "2018-03-16T08:06:22Z", "url": "https://github.com/webpy/webpy", "wiki": false}