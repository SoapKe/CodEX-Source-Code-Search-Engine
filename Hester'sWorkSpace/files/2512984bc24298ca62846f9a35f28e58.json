{"author": "openai", "code": "\nimport argparse\nimport logging\nimport sys\n\nfrom autobahn.twisted import websocket\nfrom universe.rewarder import reward_proxy_server\nfrom universe.twisty import reactor\n\nlogger = logging.getLogger()\n\n\ndef main():\n    parser = argparse.ArgumentParser(description=None)\n    parser.add_argument('-v', '--verbose', action='count', dest='verbosity', default=0, help='Set verbosity.')\n    parser.add_argument('-l', '--listen-address', default='0.0.0.0:15898', help='Address to listen on')\n    parser.add_argument('-s', '--rewarder-address', default='127.0.0.1:15900', help='Address of the reward server to run on.')\n    parser.add_argument('-d', '--logfile-dir', default=None, help='Base directory to write logs for each connection')\n    args = parser.parse_args()\n\n    if args.verbosity == 0:\n        logger.setLevel(logging.INFO)\n    elif args.verbosity >= 1:\n        logger.setLevel(logging.DEBUG)\n\n    factory = websocket.WebSocketServerFactory()\n    factory.protocol = reward_proxy_server.RewardProxyServer\n    factory.rewarder_address = args.rewarder_address\n    factory.logfile_dir = args.logfile_dir\n    factory.setProtocolOptions(maxConnections=1)  \n\n    host, port = args.listen_address.split(':')\n    port = int(port)\n    logger.info('Listening on %s:%s', host, port)\n    reactor.listenTCP(port, factory)\n    reactor.run()\n    return 0\n\nif __name__ == '__main__':\n    sys.exit(main())\n", "comments": "   usr bin env python    we write reward logs one place  allow one connection ", "content": "#!/usr/bin/env python\nimport argparse\nimport logging\nimport sys\n\nfrom autobahn.twisted import websocket\nfrom universe.rewarder import reward_proxy_server\nfrom universe.twisty import reactor\n\nlogger = logging.getLogger()\n\n\ndef main():\n    parser = argparse.ArgumentParser(description=None)\n    parser.add_argument('-v', '--verbose', action='count', dest='verbosity', default=0, help='Set verbosity.')\n    parser.add_argument('-l', '--listen-address', default='0.0.0.0:15898', help='Address to listen on')\n    parser.add_argument('-s', '--rewarder-address', default='127.0.0.1:15900', help='Address of the reward server to run on.')\n    parser.add_argument('-d', '--logfile-dir', default=None, help='Base directory to write logs for each connection')\n    args = parser.parse_args()\n\n    if args.verbosity == 0:\n        logger.setLevel(logging.INFO)\n    elif args.verbosity >= 1:\n        logger.setLevel(logging.DEBUG)\n\n    factory = websocket.WebSocketServerFactory()\n    factory.protocol = reward_proxy_server.RewardProxyServer\n    factory.rewarder_address = args.rewarder_address\n    factory.logfile_dir = args.logfile_dir\n    factory.setProtocolOptions(maxConnections=1)  # We only write reward logs to one place, so only allow one connection\n\n    host, port = args.listen_address.split(':')\n    port = int(port)\n    logger.info('Listening on %s:%s', host, port)\n    reactor.listenTCP(port, factory)\n    reactor.run()\n    return 0\n\nif __name__ == '__main__':\n    sys.exit(main())\n", "description": "Universe: a software platform for measuring and training an AI's general intelligence across the world's supply of games, websites and other applications.", "file_name": "reward_recorder.py", "id": "2512984bc24298ca62846f9a35f28e58", "language": "Python", "project_name": "universe", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/openai-universe/openai-universe-f95a5fe/example/recorders/reward_recorder.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:39:09Z", "url": "https://github.com/openai/universe", "wiki": true}