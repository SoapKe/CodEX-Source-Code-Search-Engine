{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\n\nfrom odoo import api, models, _\n\n\nclass Website(models.Model):\n    _inherit = \"website\"\n\n    @api.model\n    def page_search_dependencies(self, page_id=False):\n        dep = super(Website, self).page_search_dependencies(page_id=page_id)\n\n        page = self.env['website.page'].browse(int(page_id))\n        path = page.url\n\n        dom = [\n            ('content', 'ilike', path)\n        ]\n        posts = self.env['blog.post'].search(dom)\n        if posts:\n            page_key = _('Blog Post')\n            if len(posts) > 1:\n                page_key = _('Blog Posts')\n            dep[page_key] = []\n        for p in posts:\n            dep[page_key].append({\n                'text': _('Blog Post <b>%s</b> seems to have a link to this page !') % p.name,\n                'item': p.name,\n                'link': p.website_url,\n            })\n\n        return dep\n\n    @api.model\n    def page_search_key_dependencies(self, page_id=False):\n        dep = super(Website, self).page_search_key_dependencies(page_id=page_id)\n\n        page = self.env['website.page'].browse(int(page_id))\n        key = page.key\n\n        dom = [\n            ('content', 'ilike', key)\n        ]\n        posts = self.env['blog.post'].search(dom)\n        if posts:\n            page_key = _('Blog Post')\n            if len(posts) > 1:\n                page_key = _('Blog Posts')\n            dep[page_key] = []\n        for p in posts:\n            dep[page_key].append({\n                'text': _('Blog Post <b>%s</b> seems to be calling this file !') % p.name,\n                'item': p.name,\n                'link': p.website_url,\n            })\n\n        return dep\n", "comments": "      coding  utf 8        part odoo  see license file full copyright licensing details  ", "content": "# -*- coding: utf-8 -*-\n# Part of Odoo. See LICENSE file for full copyright and licensing details.\n\nfrom odoo import api, models, _\n\n\nclass Website(models.Model):\n    _inherit = \"website\"\n\n    @api.model\n    def page_search_dependencies(self, page_id=False):\n        dep = super(Website, self).page_search_dependencies(page_id=page_id)\n\n        page = self.env['website.page'].browse(int(page_id))\n        path = page.url\n\n        dom = [\n            ('content', 'ilike', path)\n        ]\n        posts = self.env['blog.post'].search(dom)\n        if posts:\n            page_key = _('Blog Post')\n            if len(posts) > 1:\n                page_key = _('Blog Posts')\n            dep[page_key] = []\n        for p in posts:\n            dep[page_key].append({\n                'text': _('Blog Post <b>%s</b> seems to have a link to this page !') % p.name,\n                'item': p.name,\n                'link': p.website_url,\n            })\n\n        return dep\n\n    @api.model\n    def page_search_key_dependencies(self, page_id=False):\n        dep = super(Website, self).page_search_key_dependencies(page_id=page_id)\n\n        page = self.env['website.page'].browse(int(page_id))\n        key = page.key\n\n        dom = [\n            ('content', 'ilike', key)\n        ]\n        posts = self.env['blog.post'].search(dom)\n        if posts:\n            page_key = _('Blog Post')\n            if len(posts) > 1:\n                page_key = _('Blog Posts')\n            dep[page_key] = []\n        for p in posts:\n            dep[page_key].append({\n                'text': _('Blog Post <b>%s</b> seems to be calling this file !') % p.name,\n                'item': p.name,\n                'link': p.website_url,\n            })\n\n        return dep\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "website.py", "id": "5786f50bb97f75b51de0a04f44533d06", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/website_blog/models/website.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}