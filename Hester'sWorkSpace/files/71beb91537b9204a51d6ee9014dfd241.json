{"author": "rg3", "code": "\nfrom __future__ import unicode_literals, with_statement\n\nimport rsa\nimport json\nfrom binascii import hexlify\n\ntry:\n    input = raw_input\nexcept NameError:\n    pass\n\nversions_info = json.load(open('update/versions.json'))\nif 'signature' in versions_info:\n    del versions_info['signature']\n\nprint('Enter the PKCS1 private key, followed by a blank line:')\nprivkey = b''\nwhile True:\n    try:\n        line = input()\n    except EOFError:\n        break\n    if line == '':\n        break\n    privkey += line.encode('ascii') + b'\\n'\nprivkey = rsa.PrivateKey.load_pkcs1(privkey)\n\nsignature = hexlify(rsa.pkcs1.sign(json.dumps(versions_info, sort_keys=True).encode('utf-8'), privkey, 'SHA-256')).decode()\nprint('signature: ' + signature)\n\nversions_info['signature'] = signature\nwith open('update/versions.json', 'w') as versionsf:\n    json.dump(versions_info, versionsf, indent=4, sort_keys=True)\n", "comments": "#!/usr/bin/env python3\n", "content": "#!/usr/bin/env python3\nfrom __future__ import unicode_literals, with_statement\n\nimport rsa\nimport json\nfrom binascii import hexlify\n\ntry:\n    input = raw_input\nexcept NameError:\n    pass\n\nversions_info = json.load(open('update/versions.json'))\nif 'signature' in versions_info:\n    del versions_info['signature']\n\nprint('Enter the PKCS1 private key, followed by a blank line:')\nprivkey = b''\nwhile True:\n    try:\n        line = input()\n    except EOFError:\n        break\n    if line == '':\n        break\n    privkey += line.encode('ascii') + b'\\n'\nprivkey = rsa.PrivateKey.load_pkcs1(privkey)\n\nsignature = hexlify(rsa.pkcs1.sign(json.dumps(versions_info, sort_keys=True).encode('utf-8'), privkey, 'SHA-256')).decode()\nprint('signature: ' + signature)\n\nversions_info['signature'] = signature\nwith open('update/versions.json', 'w') as versionsf:\n    json.dump(versions_info, versionsf, indent=4, sort_keys=True)\n", "description": "Command-line program to download videos from YouTube.com and other video sites", "file_name": "sign-versions.py", "language": "Python", "project_name": "youtube-dl", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/rg3_youtube-dl/rg3-youtube-dl-6202f08/devscripts/gh-pages/sign-versions.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:18:39Z", "url": "https://github.com/rg3/youtube-dl", "wiki": false}