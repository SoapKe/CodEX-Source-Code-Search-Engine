{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\n\nfrom odoo import fields, models, tools\n\n\nclass HrHolidaysRemainingLeavesUser(models.Model):\n\n    _name = \"hr.holidays.remaining.leaves.user\"\n    _description = \"Total holidays by type\"\n    _auto = False\n\n    name = fields.Char('Employee', readonly=True)\n    no_of_leaves = fields.Integer('Remaining leaves', readonly=True)\n    user_id = fields.Many2one('res.users', string='User', readonly=True)\n    leave_type = fields.Char('Leave Type', readonly=True)\n\n    def init(self):\n        tools.drop_view_if_exists(self._cr, 'hr_holidays_remaining_leaves_user')\n        self._cr.execute(\"\"\"\n            CREATE or REPLACE view hr_holidays_remaining_leaves_user as (\n                 SELECT\n                    min(hrs.id) as id,\n                    rr.name as name,\n                    sum(hrs.number_of_days) as no_of_leaves,\n                    rr.user_id as user_id,\n                    hhs.name as leave_type\n                FROM\n                    hr_holidays as hrs, hr_employee as hre,\n                    resource_resource as rr,hr_holidays_status as hhs\n                WHERE\n                    hrs.employee_id = hre.id and\n                    hre.resource_id =  rr.id and\n                    hhs.id = hrs.holiday_status_id\n                GROUP BY\n                    rr.name,rr.user_id,hhs.name\n            )\n        \"\"\")\n", "comments": "                create replace view hr holidays remaining leaves user (                  select                     min(hrs id) id                      rr name name                      sum(hrs number days) leaves                      rr user id user id                      hhs name leave type                 from                     hr holidays hrs  hr employee hre                      resource resource rr hr holidays status hhs                 where                     hrs employee id   hre id                     hre resource id    rr id                     hhs id   hrs holiday status id                 group by                     rr name rr user id hhs name             )                    coding  utf 8        part odoo  see license file full copyright licensing details  ", "content": "# -*- coding: utf-8 -*-\n# Part of Odoo. See LICENSE file for full copyright and licensing details.\n\nfrom odoo import fields, models, tools\n\n\nclass HrHolidaysRemainingLeavesUser(models.Model):\n\n    _name = \"hr.holidays.remaining.leaves.user\"\n    _description = \"Total holidays by type\"\n    _auto = False\n\n    name = fields.Char('Employee', readonly=True)\n    no_of_leaves = fields.Integer('Remaining leaves', readonly=True)\n    user_id = fields.Many2one('res.users', string='User', readonly=True)\n    leave_type = fields.Char('Leave Type', readonly=True)\n\n    def init(self):\n        tools.drop_view_if_exists(self._cr, 'hr_holidays_remaining_leaves_user')\n        self._cr.execute(\"\"\"\n            CREATE or REPLACE view hr_holidays_remaining_leaves_user as (\n                 SELECT\n                    min(hrs.id) as id,\n                    rr.name as name,\n                    sum(hrs.number_of_days) as no_of_leaves,\n                    rr.user_id as user_id,\n                    hhs.name as leave_type\n                FROM\n                    hr_holidays as hrs, hr_employee as hre,\n                    resource_resource as rr,hr_holidays_status as hhs\n                WHERE\n                    hrs.employee_id = hre.id and\n                    hre.resource_id =  rr.id and\n                    hhs.id = hrs.holiday_status_id\n                GROUP BY\n                    rr.name,rr.user_id,hhs.name\n            )\n        \"\"\")\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "hr_holidays_leaves_report.py", "id": "e3adcd2ef409087ae06bf3eb272a47fe", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/hr_holidays/report/hr_holidays_leaves_report.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}