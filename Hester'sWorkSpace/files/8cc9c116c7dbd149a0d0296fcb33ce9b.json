{"author": "XX-net", "code": "import os\nimport json\n\nfrom front_base.host_manager import HostManagerBase\n\n\nclass HostManager(HostManagerBase):\n    def __init__(self, config_fn):\n        self.config_fn = config_fn\n        self.info = {}\n        self.load()\n\n    def load(self):\n        if not os.path.isfile(self.config_fn):\n            return\n\n        try:\n            with open(self.config_fn, \"r\") as fd:\n                self.info = json.load(fd)\n        except:\n            pass\n\n    def save(self):\n        with open(self.config_fn, \"w\") as fd:\n            json.dump(self.info, fd, indent=2)\n\n    def set_host(self, info):\n        self.info = info\n        self.save()\n\n    def get_sni_host(self, ip):\n        if ip not in self.info:\n            return \"\", \"\"\n\n        return self.info[ip][\"sni\"], \"\"\n\n    def reset(self):\n        self.info = {}", "comments": "", "content": "import os\nimport json\n\nfrom front_base.host_manager import HostManagerBase\n\n\nclass HostManager(HostManagerBase):\n    def __init__(self, config_fn):\n        self.config_fn = config_fn\n        self.info = {}\n        self.load()\n\n    def load(self):\n        if not os.path.isfile(self.config_fn):\n            return\n\n        try:\n            with open(self.config_fn, \"r\") as fd:\n                self.info = json.load(fd)\n        except:\n            pass\n\n    def save(self):\n        with open(self.config_fn, \"w\") as fd:\n            json.dump(self.info, fd, indent=2)\n\n    def set_host(self, info):\n        self.info = info\n        self.save()\n\n    def get_sni_host(self, ip):\n        if ip not in self.info:\n            return \"\", \"\"\n\n        return self.info[ip][\"sni\"], \"\"\n\n    def reset(self):\n        self.info = {}", "description": "a web proxy tool", "file_name": "host_manager.py", "id": "8cc9c116c7dbd149a0d0296fcb33ce9b", "language": "Python", "project_name": "XX-Net", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/XX-net-XX-Net/XX-net-XX-Net-673a005/code/default/x_tunnel/local/tls_relay_front/host_manager.py", "save_time": "", "source": "", "update_at": "2018-03-18T14:08:03Z", "url": "https://github.com/XX-net/XX-Net", "wiki": true}