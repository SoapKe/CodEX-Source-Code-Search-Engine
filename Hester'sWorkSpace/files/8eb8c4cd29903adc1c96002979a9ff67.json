{"author": "tornadoweb", "code": "\n\nfrom __future__ import print_function\nfrom tornado.ioloop import IOLoop\nfrom tornado import gen\nfrom tornado.tcpclient import TCPClient\nfrom tornado.options import options, define\n\ndefine(\"host\", default=\"localhost\", help=\"TCP server host\")\ndefine(\"port\", default=9888, help=\"TCP port to connect to\")\ndefine(\"message\", default=\"ping\", help=\"Message to send\")\n\n\n@gen.coroutine\ndef send_message():\n    stream = yield TCPClient().connect(options.host, options.port)\n    yield stream.write((options.message + \"\\n\").encode())\n    print(\"Sent to server:\", options.message)\n    reply = yield stream.read_until(b\"\\n\")\n    print(\"Response from server:\", reply.decode().strip())\n\n\nif __name__ == \"__main__\":\n    options.parse_command_line()\n    IOLoop.current().run_sync(send_message)\n", "comments": "   usr bin env python ", "content": "#!/usr/bin/env python\n\nfrom __future__ import print_function\nfrom tornado.ioloop import IOLoop\nfrom tornado import gen\nfrom tornado.tcpclient import TCPClient\nfrom tornado.options import options, define\n\ndefine(\"host\", default=\"localhost\", help=\"TCP server host\")\ndefine(\"port\", default=9888, help=\"TCP port to connect to\")\ndefine(\"message\", default=\"ping\", help=\"Message to send\")\n\n\n@gen.coroutine\ndef send_message():\n    stream = yield TCPClient().connect(options.host, options.port)\n    yield stream.write((options.message + \"\\n\").encode())\n    print(\"Sent to server:\", options.message)\n    reply = yield stream.read_until(b\"\\n\")\n    print(\"Response from server:\", reply.decode().strip())\n\n\nif __name__ == \"__main__\":\n    options.parse_command_line()\n    IOLoop.current().run_sync(send_message)\n", "description": "Tornado is a Python web framework and asynchronous networking library, originally developed at FriendFeed.", "file_name": "client.py", "id": "8eb8c4cd29903adc1c96002979a9ff67", "language": "Python", "project_name": "tornado", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/tornadoweb-tornado/tornadoweb-tornado-9a97ffb/demos/tcpecho/client.py", "save_time": "", "source": "", "update_at": "2018-03-18T13:52:45Z", "url": "https://github.com/tornadoweb/tornado", "wiki": true}