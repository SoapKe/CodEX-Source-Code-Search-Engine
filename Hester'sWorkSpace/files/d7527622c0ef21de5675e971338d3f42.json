{"author": "tgalal", "code": "from yowsup.common import YowConstants\nfrom yowsup.layers.protocol_iq.protocolentities import IqProtocolEntity\nfrom yowsup.structs import ProtocolTreeNode\n\nclass GetStatusesIqProtocolEntity(IqProtocolEntity):\n    XMLNS = \"status\"\n\n    def __init__(self, jids, _id = None):\n        \n        super(GetStatusesIqProtocolEntity, self).__init__(self.__class__.XMLNS, _id, _type = \"get\", to = YowConstants.WHATSAPP_SERVER)\n        self.setGetStatusesProps(jids)\n\n    def setGetStatusesProps(self, jids):\n        assert type(jids) is list, \"jids must be a list of jids\"\n        self.jids = jids\n\n    def __str__(self):\n        out = super(GetStatusesIqProtocolEntity, self).__str__()\n        out += \"Numbers: %s\\n\" % (\",\".join(self.numbers))\n        return out\n\n    def toProtocolTreeNode(self):\n        users = [ProtocolTreeNode(\"user\", {'jid': jid}) for jid in self.jids]\n\n        node = super(GetStatusesIqProtocolEntity, self).toProtocolTreeNode()\n        statusNode = ProtocolTreeNode(\"status\", None, users)\n        node.addChild(statusNode)\n\n        return node\n\n    @staticmethod\n    def fromProtocolTreeNode(node):\n        entity = IqProtocolEntity.fromProtocolTreeNode(node)\n        entity.__class__ = GetStatusesIqProtocolEntity\n        statusNode = node.getChild(\"status\")\n        userNodes = statusNode.getAllChildren()\n        jids = [user['jid'] for user in userNodes]\n\n        entity.setGetStatusesProps(jids)\n\n        return entity\n", "comments": "            request statuses users  should sent login           args                jids  a list jids representing users whose statuses                 trying get              ", "content": "from yowsup.common import YowConstants\nfrom yowsup.layers.protocol_iq.protocolentities import IqProtocolEntity\nfrom yowsup.structs import ProtocolTreeNode\n\nclass GetStatusesIqProtocolEntity(IqProtocolEntity):\n    XMLNS = \"status\"\n\n    def __init__(self, jids, _id = None):\n        \"\"\"\n        Request the statuses of users. Should be sent once after login.\n\n        Args:\n            - jids: A list of jids representing the users whose statuses you are\n                trying to get.\n        \"\"\"\n        super(GetStatusesIqProtocolEntity, self).__init__(self.__class__.XMLNS, _id, _type = \"get\", to = YowConstants.WHATSAPP_SERVER)\n        self.setGetStatusesProps(jids)\n\n    def setGetStatusesProps(self, jids):\n        assert type(jids) is list, \"jids must be a list of jids\"\n        self.jids = jids\n\n    def __str__(self):\n        out = super(GetStatusesIqProtocolEntity, self).__str__()\n        out += \"Numbers: %s\\n\" % (\",\".join(self.numbers))\n        return out\n\n    def toProtocolTreeNode(self):\n        users = [ProtocolTreeNode(\"user\", {'jid': jid}) for jid in self.jids]\n\n        node = super(GetStatusesIqProtocolEntity, self).toProtocolTreeNode()\n        statusNode = ProtocolTreeNode(\"status\", None, users)\n        node.addChild(statusNode)\n\n        return node\n\n    @staticmethod\n    def fromProtocolTreeNode(node):\n        entity = IqProtocolEntity.fromProtocolTreeNode(node)\n        entity.__class__ = GetStatusesIqProtocolEntity\n        statusNode = node.getChild(\"status\")\n        userNodes = statusNode.getAllChildren()\n        jids = [user['jid'] for user in userNodes]\n\n        entity.setGetStatusesProps(jids)\n\n        return entity\n", "description": "The python WhatsApp library", "file_name": "iq_statuses_get.py", "id": "d7527622c0ef21de5675e971338d3f42", "language": "Python", "project_name": "yowsup", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/tgalal-yowsup/tgalal-yowsup-03795cc/yowsup/layers/protocol_contacts/protocolentities/iq_statuses_get.py", "save_time": "", "source": "", "update_at": "2018-03-18T13:01:40Z", "url": "https://github.com/tgalal/yowsup", "wiki": true}