{"author": "littlecodersh", "code": "import logging\ntry:\n    import Queue as queue\nexcept ImportError:\n    import queue\n\nfrom .templates import AttributeDict\n\nlogger = logging.getLogger('itchat')\n\nclass Queue(queue.Queue):\n    def put(self, message):\n        queue.Queue.put(self, Message(message))\n\nclass Message(AttributeDict):\n    def download(self, fileName):\n        if hasattr(self.text, '__call__'):\n            return self.text(fileName)\n        else:\n            return b''\n    def __getitem__(self, value):\n        if value in ('isAdmin', 'isAt'):\n            v = value[0].upper() + value[1:] # ''[1:] == ''\n            logger.debug('%s is expired in 1.3.0, use %s instead.' % (value, v))\n            value = v\n        return super(Message, self).__getitem__(value)\n    def __str__(self):\n        return '{%s}' % ', '.join(\n            ['%s: %s' % (repr(k),repr(v)) for k,v in self.items()])\n    def __repr__(self):\n        return '<%s: %s>' % (self.__class__.__name__.split('.')[-1],\n            self.__str__())\n", "comments": "     1         ", "content": "import logging\ntry:\n    import Queue as queue\nexcept ImportError:\n    import queue\n\nfrom .templates import AttributeDict\n\nlogger = logging.getLogger('itchat')\n\nclass Queue(queue.Queue):\n    def put(self, message):\n        queue.Queue.put(self, Message(message))\n\nclass Message(AttributeDict):\n    def download(self, fileName):\n        if hasattr(self.text, '__call__'):\n            return self.text(fileName)\n        else:\n            return b''\n    def __getitem__(self, value):\n        if value in ('isAdmin', 'isAt'):\n            v = value[0].upper() + value[1:] # ''[1:] == ''\n            logger.debug('%s is expired in 1.3.0, use %s instead.' % (value, v))\n            value = v\n        return super(Message, self).__getitem__(value)\n    def __str__(self):\n        return '{%s}' % ', '.join(\n            ['%s: %s' % (repr(k),repr(v)) for k,v in self.items()])\n    def __repr__(self):\n        return '<%s: %s>' % (self.__class__.__name__.split('.')[-1],\n            self.__str__())\n", "description": "A complete and graceful API for Wechat. \u5fae\u4fe1\u4e2a\u4eba\u53f7\u63a5\u53e3\u3001\u5fae\u4fe1\u673a\u5668\u4eba\u53ca\u547d\u4ee4\u884c\u5fae\u4fe1\uff0c\u4e09\u5341\u884c\u5373\u53ef\u81ea\u5b9a\u4e49\u4e2a\u4eba\u53f7\u673a\u5668\u4eba\u3002", "file_name": "messagequeue.py", "id": "3546695d6381750a277e9ad818abe396", "language": "Python", "project_name": "ItChat", "quality": "", "save_path": "/home/ubuntu/test_files/clean/network_test/littlecodersh-ItChat/littlecodersh-ItChat-8622c3c/itchat/storage/messagequeue.py", "save_time": "", "source": "", "update_at": "2018-03-14T01:54:42Z", "url": "https://github.com/littlecodersh/ItChat", "wiki": true}