{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\nfrom odoo import models, fields, api\n\n\nclass HrExpenseRegisterPaymentWizard(models.TransientModel):\n    _inherit = \"hr.expense.sheet.register.payment.wizard\"\n\n    check_amount_in_words = fields.Char(string=\"Amount in Words\")\n    check_manual_sequencing = fields.Boolean(related='journal_id.check_manual_sequencing')\n    \n    check_number = fields.Integer(string=\"Check Number\", readonly=True, copy=False, default=0,\n        help=\"Number of the check corresponding to this payment. If your pre-printed check are not already numbered, \"\n             \"you can manage the numbering in the journal configuration page.\")\n    payment_method_code_2 = fields.Char(related='payment_method_id.code',\n                                      help=\"Technical field used to adapt the interface to the payment type selected.\",\n                                      readonly=True)\n\n    @api.onchange('journal_id')\n    def _onchange_journal_id(self):\n        if hasattr(super(HrExpenseRegisterPaymentWizard, self), '_onchange_journal_id'):\n            super(HrExpenseRegisterPaymentWizard, self)._onchange_journal_id()\n        if self.journal_id.check_manual_sequencing:\n            self.check_number = self.journal_id.check_sequence_id.number_next_actual\n\n    @api.onchange('amount')\n    def _onchange_amount(self):\n        if hasattr(super(HrExpenseRegisterPaymentWizard, self), '_onchange_amount'):\n            super(HrExpenseRegisterPaymentWizard, self)._onchange_amount()\n        self.check_amount_in_words = self.currency_id.amount_to_text(self.amount)\n\n    def _get_payment_vals(self):\n        res = super(HrExpenseRegisterPaymentWizard, self)._get_payment_vals()\n        if self.payment_method_id == self.env.ref('account_check_printing.account_payment_method_check'):\n            res.update({\n                'check_amount_in_words': self.check_amount_in_words,\n                'check_manual_sequencing': self.check_manual_sequencing,\n            })\n        return res\n", "comments": "      coding  utf 8        note  check number    0 means attributed check printed ", "content": "# -*- coding: utf-8 -*-\n\nfrom odoo import models, fields, api\n\n\nclass HrExpenseRegisterPaymentWizard(models.TransientModel):\n    _inherit = \"hr.expense.sheet.register.payment.wizard\"\n\n    check_amount_in_words = fields.Char(string=\"Amount in Words\")\n    check_manual_sequencing = fields.Boolean(related='journal_id.check_manual_sequencing')\n    # Note: a check_number == 0 means that it will be attributed when the check is printed\n    check_number = fields.Integer(string=\"Check Number\", readonly=True, copy=False, default=0,\n        help=\"Number of the check corresponding to this payment. If your pre-printed check are not already numbered, \"\n             \"you can manage the numbering in the journal configuration page.\")\n    payment_method_code_2 = fields.Char(related='payment_method_id.code',\n                                      help=\"Technical field used to adapt the interface to the payment type selected.\",\n                                      readonly=True)\n\n    @api.onchange('journal_id')\n    def _onchange_journal_id(self):\n        if hasattr(super(HrExpenseRegisterPaymentWizard, self), '_onchange_journal_id'):\n            super(HrExpenseRegisterPaymentWizard, self)._onchange_journal_id()\n        if self.journal_id.check_manual_sequencing:\n            self.check_number = self.journal_id.check_sequence_id.number_next_actual\n\n    @api.onchange('amount')\n    def _onchange_amount(self):\n        if hasattr(super(HrExpenseRegisterPaymentWizard, self), '_onchange_amount'):\n            super(HrExpenseRegisterPaymentWizard, self)._onchange_amount()\n        self.check_amount_in_words = self.currency_id.amount_to_text(self.amount)\n\n    def _get_payment_vals(self):\n        res = super(HrExpenseRegisterPaymentWizard, self)._get_payment_vals()\n        if self.payment_method_id == self.env.ref('account_check_printing.account_payment_method_check'):\n            res.update({\n                'check_amount_in_words': self.check_amount_in_words,\n                'check_manual_sequencing': self.check_manual_sequencing,\n            })\n        return res\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "payment.py", "id": "9b3f440cbae35d06a84287dd3c93f914", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/hr_expense_check/models/payment.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}