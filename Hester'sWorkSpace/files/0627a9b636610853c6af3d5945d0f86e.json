{"author": "ansible", "code": "\n# -*- coding: utf-8 -*-\n\n# GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n\nfrom __future__ import absolute_import, division, print_function\n__metaclass__ = type\n\n\nANSIBLE_METADATA = {'metadata_version': '1.1',\n                    'status': ['preview'],\n                    'supported_by': 'community'}\n\n\nDOCUMENTATION = '''\n---\nauthor: \"Brian Coca (@bcoca)\"\nmodule: set_stats\nshort_description: Set stats for the current ansible run\ndescription:\n     - This module allows setting/accumulating stats on the current ansible run, either per host of for all hosts in the run.\n     - This module is also supported for Windows targets.\noptions:\n  data:\n    description:\n      - A dictionary of which each key represents a stat (or variable) you want to keep track of\n    required: true\n  per_host:\n    description:\n        - boolean that indicates if the stats is per host or for all hosts in the run.\n    required: no\n    default: no\n  aggregate:\n    description:\n        - boolean that indicates if the provided value is aggregated to the existing stat C(yes) or will replace it C(no)\n    required: no\n    default: yes\nnotes:\n    - This module is also supported for Windows targets.\n    - In order for custom stats to be displayed, you must set C(show_custom_stats) in C(ansible.cfg) or C(ANSIBLE_SHOW_CUSTOM_STATS) to C(true).\nversion_added: \"2.3\"\n'''\n\nEXAMPLES = '''\n\n- set_stats:\n    data:\n      packages_installed: 31\n\n\n- set_stats:\n    data:\n      one_stat: 11\n      other_stat: \"{{ local_var * 2 }}\"\n      another_stat: \"{{ some_registered_var.results | map(attribute='ansible_facts.some_fact') | list }}\"\n    per_host: no\n\n\n# setting stats (not aggregating)\n- set_stats:\n    data:\n      the_answer: 42\n    aggregate: no\n'''\n", "comments": "        author   brian coca ( bcoca)  module  set stats short description  set stats current ansible run description         this module allows setting accumulating stats current ansible run  either per host hosts run         this module also supported windows targets  options    data      description          a dictionary key represents stat (or variable) want keep track     required  true   per host      description            boolean indicates stats per host hosts run      required      default    aggregate      description            boolean indicates provided value aggregated existing stat c(yes) replace c(no)     required      default  yes notes        this module also supported windows targets        in order custom stats displayed  must set c(show custom stats) c(ansible cfg) c(ansible show custom stats) c(true)  version added   2 3       examples         aggregating packages installed stat per host   set stats      data        packages installed  31    aggregating random stats hosts using complex arguments   set stats      data        one stat  11       stat      local var   2           another stat      registered var results   map(attribute  ansible facts fact )   list         per host      setting stats (not aggregating)   set stats      data        answer  42     aggregate          usr bin python        coding  utf 8        copyright 2016 ansible redhat  inc    gnu general public license v3 0  (see copying https   www gnu org licenses gpl 3 0 txt)    aggregating packages installed stat per host    aggregating random stats hosts using complex arguments    setting stats (not aggregating) ", "content": "#!/usr/bin/python\n# -*- coding: utf-8 -*-\n# Copyright 2016 Ansible RedHat, Inc\n# GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n\nfrom __future__ import absolute_import, division, print_function\n__metaclass__ = type\n\n\nANSIBLE_METADATA = {'metadata_version': '1.1',\n                    'status': ['preview'],\n                    'supported_by': 'community'}\n\n\nDOCUMENTATION = '''\n---\nauthor: \"Brian Coca (@bcoca)\"\nmodule: set_stats\nshort_description: Set stats for the current ansible run\ndescription:\n     - This module allows setting/accumulating stats on the current ansible run, either per host of for all hosts in the run.\n     - This module is also supported for Windows targets.\noptions:\n  data:\n    description:\n      - A dictionary of which each key represents a stat (or variable) you want to keep track of\n    required: true\n  per_host:\n    description:\n        - boolean that indicates if the stats is per host or for all hosts in the run.\n    required: no\n    default: no\n  aggregate:\n    description:\n        - boolean that indicates if the provided value is aggregated to the existing stat C(yes) or will replace it C(no)\n    required: no\n    default: yes\nnotes:\n    - This module is also supported for Windows targets.\n    - In order for custom stats to be displayed, you must set C(show_custom_stats) in C(ansible.cfg) or C(ANSIBLE_SHOW_CUSTOM_STATS) to C(true).\nversion_added: \"2.3\"\n'''\n\nEXAMPLES = '''\n# Aggregating packages_installed stat per host\n- set_stats:\n    data:\n      packages_installed: 31\n\n# Aggregating random stats for all hosts using complex arguments\n- set_stats:\n    data:\n      one_stat: 11\n      other_stat: \"{{ local_var * 2 }}\"\n      another_stat: \"{{ some_registered_var.results | map(attribute='ansible_facts.some_fact') | list }}\"\n    per_host: no\n\n\n# setting stats (not aggregating)\n- set_stats:\n    data:\n      the_answer: 42\n    aggregate: no\n'''\n", "description": "Ansible is a radically simple IT automation platform that makes your applications and systems easier to deploy. Avoid writing scripts or custom code to deploy and update your applications\u2014 automate in a language that approaches plain English, using SSH, with no agents to install on remote systems.", "file_name": "set_stats.py", "id": "0627a9b636610853c6af3d5945d0f86e", "language": "Python", "project_name": "ansible", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/ansible-ansible/ansible-ansible-d30554b/lib/ansible/modules/utilities/logic/set_stats.py", "save_time": "", "source": "", "update_at": "2018-03-18T14:08:28Z", "url": "https://github.com/ansible/ansible", "wiki": false}