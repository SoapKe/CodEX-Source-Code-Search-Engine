{"author": "mitmproxy", "code": "\"\"\"\nThis example shows how to graft a WSGI app onto mitmproxy. In this\ninstance, we're using the Flask framework (http://flask.pocoo.org/) to expose\na single simplest-possible page.\n\"\"\"\nfrom flask import Flask\nfrom mitmproxy.addons import wsgiapp\n\napp = Flask(\"proxapp\")\n\n\n@app.route('/')\ndef hello_world() -> str:\n    return 'Hello World!'\n\n\ndef load(l):\n    \n    \n    return wsgiapp.WSGIApp(app, \"proxapp.local\", 80)\n\n    \n    # mitmproxy will connect to said domain and use serve its certificate (unless --no-upstream-cert is set)\n    \n    # mitmproxy.ctx.master.apps.add(app, \"example.com\", 443)\n", "comments": "    this example shows graft wsgi app onto mitmproxy  in instance  using flask framework (http   flask pocoo org ) expose single simplest possible page         host app magic domain  proxapp local  port 80  requests    domain port combination routed wsgi app instance     ssl works  magic domain needs resolvable mitmproxy machine due mitmproxy design     mitmproxy connect said domain use serve certificate (unless   upstream cert set)    send data     mitmproxy ctx master apps add(app   example com   443) ", "content": "\"\"\"\nThis example shows how to graft a WSGI app onto mitmproxy. In this\ninstance, we're using the Flask framework (http://flask.pocoo.org/) to expose\na single simplest-possible page.\n\"\"\"\nfrom flask import Flask\nfrom mitmproxy.addons import wsgiapp\n\napp = Flask(\"proxapp\")\n\n\n@app.route('/')\ndef hello_world() -> str:\n    return 'Hello World!'\n\n\ndef load(l):\n    # Host app at the magic domain \"proxapp.local\" on port 80. Requests to this\n    # domain and port combination will now be routed to the WSGI app instance.\n    return wsgiapp.WSGIApp(app, \"proxapp.local\", 80)\n\n    # SSL works too, but the magic domain needs to be resolvable from the mitmproxy machine due to mitmproxy's design.\n    # mitmproxy will connect to said domain and use serve its certificate (unless --no-upstream-cert is set)\n    # but won't send any data.\n    # mitmproxy.ctx.master.apps.add(app, \"example.com\", 443)\n", "description": "An interactive TLS-capable intercepting HTTP proxy for penetration testers and software developers.", "file_name": "wsgi_flask_app.py", "id": "b48498844470a55a33d0cf745398464f", "language": "Python", "project_name": "mitmproxy", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/mitmproxy-mitmproxy/mitmproxy-mitmproxy-3c7725a/docs/src/examples/simple/wsgi_flask_app.py", "save_time": "", "source": "", "update_at": "2018-03-18T11:30:56Z", "url": "https://github.com/mitmproxy/mitmproxy", "wiki": false}