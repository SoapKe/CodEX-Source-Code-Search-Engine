{"author": "tgalal", "code": "from yowsup.layers import YowLayer, YowLayerEvent, YowProtocolLayer\nfrom .protocolentities import *\nfrom yowsup.layers.protocol_acks.protocolentities import OutgoingAckProtocolEntity\nclass YowNotificationsProtocolLayer(YowProtocolLayer):\n\n    def __init__(self):\n        handleMap = {\n            \"notification\": (self.recvNotification, self.sendNotification)\n        }\n        super(YowNotificationsProtocolLayer, self).__init__(handleMap)\n\n    def __str__(self):\n        return \"notification Ib Layer\"\n\n    def sendNotification(self, entity):\n        if entity.getTag() == \"notification\":\n            self.toLower(entity.toProtocolTreeNode())\n\n    def recvNotification(self, node):\n        if node[\"type\"] == \"picture\":\n            if node.getChild(\"set\"):\n                self.toUpper(SetPictureNotificationProtocolEntity.fromProtocolTreeNode(node))\n            elif node.getChild(\"delete\"):\n                self.toUpper(DeletePictureNotificationProtocolEntity.fromProtocolTreeNode(node))\n            else:\n                self.raiseErrorForNode(node)\n        elif node[\"type\"] == \"status\":\n            self.toUpper(StatusNotificationProtocolEntity.fromProtocolTreeNode(node))\n        elif node[\"type\"] == \"features\":\n            \n            pass\n        elif node[\"type\"] in [ \"contacts\", \"subject\", \"w:gp2\" ]:\n            \n            pass\n        elif node[\"type\"] == \"contacts\":\n            pass\n        elif node[\"type\"] == \"web\":\n            \n            pass\n        else:\n            self.raiseErrorForNode(node)\n\n        ack = OutgoingAckProtocolEntity(node[\"id\"], \"notification\", node[\"type\"], node[\"from\"])\n        self.toLower(ack.toProtocolTreeNode())\n\n\n\n\n\n\n", "comments": "  not implemented    implemented respectively protocol contacts protocol groups layer    not implemented ", "content": "from yowsup.layers import YowLayer, YowLayerEvent, YowProtocolLayer\nfrom .protocolentities import *\nfrom yowsup.layers.protocol_acks.protocolentities import OutgoingAckProtocolEntity\nclass YowNotificationsProtocolLayer(YowProtocolLayer):\n\n    def __init__(self):\n        handleMap = {\n            \"notification\": (self.recvNotification, self.sendNotification)\n        }\n        super(YowNotificationsProtocolLayer, self).__init__(handleMap)\n\n    def __str__(self):\n        return \"notification Ib Layer\"\n\n    def sendNotification(self, entity):\n        if entity.getTag() == \"notification\":\n            self.toLower(entity.toProtocolTreeNode())\n\n    def recvNotification(self, node):\n        if node[\"type\"] == \"picture\":\n            if node.getChild(\"set\"):\n                self.toUpper(SetPictureNotificationProtocolEntity.fromProtocolTreeNode(node))\n            elif node.getChild(\"delete\"):\n                self.toUpper(DeletePictureNotificationProtocolEntity.fromProtocolTreeNode(node))\n            else:\n                self.raiseErrorForNode(node)\n        elif node[\"type\"] == \"status\":\n            self.toUpper(StatusNotificationProtocolEntity.fromProtocolTreeNode(node))\n        elif node[\"type\"] == \"features\":\n            # Not implemented\n            pass\n        elif node[\"type\"] in [ \"contacts\", \"subject\", \"w:gp2\" ]:\n            # Implemented in respectively the protocol_contacts and protocol_groups layer\n            pass\n        elif node[\"type\"] == \"contacts\":\n            pass\n        elif node[\"type\"] == \"web\":\n            # Not implemented\n            pass\n        else:\n            self.raiseErrorForNode(node)\n\n        ack = OutgoingAckProtocolEntity(node[\"id\"], \"notification\", node[\"type\"], node[\"from\"])\n        self.toLower(ack.toProtocolTreeNode())\n\n\n\n\n\n\n", "description": "The python WhatsApp library", "file_name": "layer.py", "id": "a5dbfa5f1b26e7b4b357e0d90d81c64e", "language": "Python", "project_name": "yowsup", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/tgalal-yowsup/tgalal-yowsup-03795cc/yowsup/layers/protocol_notifications/layer.py", "save_time": "", "source": "", "update_at": "2018-03-18T13:01:40Z", "url": "https://github.com/tgalal/yowsup", "wiki": true}