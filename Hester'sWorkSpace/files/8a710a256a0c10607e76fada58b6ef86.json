{"author": "jakubroztocil", "code": "from httpie import __version__\nfrom utils import MockEnvironment, http\nfrom httpie.context import Environment\n\n\ndef test_default_options(httpbin):\n    env = MockEnvironment()\n    env.config['default_options'] = ['--form']\n    env.config.save()\n    r = http(httpbin.url + '/post', 'foo=bar', env=env)\n    assert r.json['form'] == {\"foo\": \"bar\"}\n\n\ndef test_default_options_overwrite(httpbin):\n    env = MockEnvironment()\n    env.config['default_options'] = ['--form']\n    env.config.save()\n    r = http('--json', httpbin.url + '/post', 'foo=bar', env=env)\n    assert r.json['json'] == {\"foo\": \"bar\"}\n\n\ndef test_migrate_implicit_content_type():\n    config = MockEnvironment().config\n\n    config['implicit_content_type'] = 'json'\n    config.save()\n    config.load()\n    assert 'implicit_content_type' not in config\n    assert not config['default_options']\n\n    config['implicit_content_type'] = 'form'\n    config.save()\n    config.load()\n    assert 'implicit_content_type' not in config\n    assert config['default_options'] == ['--form']\n\n\ndef test_current_version():\n    version = Environment().config['__meta__']['httpie']\n    assert version == __version__\n", "comments": "", "content": "from httpie import __version__\nfrom utils import MockEnvironment, http\nfrom httpie.context import Environment\n\n\ndef test_default_options(httpbin):\n    env = MockEnvironment()\n    env.config['default_options'] = ['--form']\n    env.config.save()\n    r = http(httpbin.url + '/post', 'foo=bar', env=env)\n    assert r.json['form'] == {\"foo\": \"bar\"}\n\n\ndef test_default_options_overwrite(httpbin):\n    env = MockEnvironment()\n    env.config['default_options'] = ['--form']\n    env.config.save()\n    r = http('--json', httpbin.url + '/post', 'foo=bar', env=env)\n    assert r.json['json'] == {\"foo\": \"bar\"}\n\n\ndef test_migrate_implicit_content_type():\n    config = MockEnvironment().config\n\n    config['implicit_content_type'] = 'json'\n    config.save()\n    config.load()\n    assert 'implicit_content_type' not in config\n    assert not config['default_options']\n\n    config['implicit_content_type'] = 'form'\n    config.save()\n    config.load()\n    assert 'implicit_content_type' not in config\n    assert config['default_options'] == ['--form']\n\n\ndef test_current_version():\n    version = Environment().config['__meta__']['httpie']\n    assert version == __version__\n", "description": "Modern command line HTTP client \u2013 user-friendly curl alternative with intuitive UI, JSON support, syntax highlighting, wget-like downloads, extensions, etc.  https://httpie.org", "file_name": "test_config.py", "id": "8a710a256a0c10607e76fada58b6ef86", "language": "Python", "project_name": "httpie", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/jakubroztocil-httpie/jakubroztocil-httpie-0f4dce9/tests/test_config.py", "save_time": "", "source": "", "update_at": "2018-03-18T13:48:16Z", "url": "https://github.com/jakubroztocil/httpie", "wiki": false}