{"author": "ansible", "code": "\n\n\nimport sys\nfrom collections import namedtuple\nimport rpmfluff\n\n\nRPM = namedtuple('RPM', ['name', 'version', 'release', 'epoch'])\n\n\nSPECS = [\n    RPM('foo', '1.0', '1', None),\n    RPM('foo', '1.0', '2', '1'),\n    RPM('foo', '1.1', '1', '1'),\n]\n\n\ndef main():\n    try:\n        arch = sys.argv[1]\n    except IndexError:\n        arch = 'x86_64'\n\n    pkgs = []\n    for spec in SPECS:\n        pkg = rpmfluff.SimpleRpmBuild(spec.name, spec.version, spec.release, [arch])\n        pkg.epoch = spec.epoch\n        pkgs.append(pkg)\n\n    repo = rpmfluff.YumRepoBuild(pkgs)\n    repo.make(arch)\n\n    for pkg in pkgs:\n        pkg.clean()\n\n    print(repo.repoDir)\n\n\nif __name__ == \"__main__\":\n    main()\n", "comments": "   usr bin env python ", "content": "#!/usr/bin/env python\n\n\nimport sys\nfrom collections import namedtuple\nimport rpmfluff\n\n\nRPM = namedtuple('RPM', ['name', 'version', 'release', 'epoch'])\n\n\nSPECS = [\n    RPM('foo', '1.0', '1', None),\n    RPM('foo', '1.0', '2', '1'),\n    RPM('foo', '1.1', '1', '1'),\n]\n\n\ndef main():\n    try:\n        arch = sys.argv[1]\n    except IndexError:\n        arch = 'x86_64'\n\n    pkgs = []\n    for spec in SPECS:\n        pkg = rpmfluff.SimpleRpmBuild(spec.name, spec.version, spec.release, [arch])\n        pkg.epoch = spec.epoch\n        pkgs.append(pkg)\n\n    repo = rpmfluff.YumRepoBuild(pkgs)\n    repo.make(arch)\n\n    for pkg in pkgs:\n        pkg.clean()\n\n    print(repo.repoDir)\n\n\nif __name__ == \"__main__\":\n    main()\n", "description": "Ansible is a radically simple IT automation platform that makes your applications and systems easier to deploy. Avoid writing scripts or custom code to deploy and update your applications\u2014 automate in a language that approaches plain English, using SSH, with no agents to install on remote systems.", "file_name": "create-repo.py", "id": "02b6f9dc735e4a0992db9d3aadd74905", "language": "Python", "project_name": "ansible", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/ansible-ansible/ansible-ansible-d30554b/test/integration/targets/setup_rpm_repo/files/create-repo.py", "save_time": "", "source": "", "update_at": "2018-03-18T14:08:28Z", "url": "https://github.com/ansible/ansible", "wiki": false}