{"author": "rg3", "code": "\nfrom __future__ import unicode_literals\n\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import remove_start\n\n\nclass TeleMBIE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?telemb\\.be/(?P<display_id>.+?)_d_(?P<id>\\d+)\\.html'\n    _TESTS = [\n        {\n            'url': 'http://www.telemb.be/mons-cook-with-danielle-des-cours-de-cuisine-en-anglais-_d_13466.html',\n            'md5': 'f45ea69878516ba039835794e0f8f783',\n            'info_dict': {\n                'id': '13466',\n                'display_id': 'mons-cook-with-danielle-des-cours-de-cuisine-en-anglais-',\n                'ext': 'mp4',\n                'title': 'Mons - Cook with Danielle : des cours de cuisine en anglais ! - Les reportages',\n                'description': 'md5:bc5225f47b17c309761c856ad4776265',\n                'thumbnail': r're:^http://.*\\.(?:jpg|png)$',\n            }\n        },\n        {\n            \n            'url': 'http://telemb.be/les-reportages-havre-incendie-mortel_d_13514.html',\n            'md5': '6e9682736e5ccd4eab7f21e855350733',\n            'info_dict': {\n                'id': '13514',\n                'display_id': 'les-reportages-havre-incendie-mortel',\n                'ext': 'mp4',\n                'title': 'Havr\u00e9 - Incendie mortel - Les reportages',\n                'description': 'md5:5e54cb449acb029c2b7734e2d946bd4a',\n                'thumbnail': r're:^http://.*\\.(?:jpg|png)$',\n            }\n        },\n    ]\n\n    def _real_extract(self, url):\n        mobj = re.match(self._VALID_URL, url)\n        video_id = mobj.group('id')\n        display_id = mobj.group('display_id')\n\n        webpage = self._download_webpage(url, display_id)\n\n        formats = []\n        for video_url in re.findall(r'file\\s*:\\s*\"([^\"]+)\"', webpage):\n            fmt = {\n                'url': video_url,\n                'format_id': video_url.split(':')[0]\n            }\n            rtmp = re.search(r'^(?P<url>rtmp://[^/]+/(?P<app>.+))/(?P<playpath>mp4:.+)$', video_url)\n            if rtmp:\n                fmt.update({\n                    'play_path': rtmp.group('playpath'),\n                    'app': rtmp.group('app'),\n                    'player_url': 'http://p.jwpcdn.com/6/10/jwplayer.flash.swf',\n                    'page_url': 'http://www.telemb.be',\n                    'preference': -1,\n                })\n            formats.append(fmt)\n        self._sort_formats(formats)\n\n        title = remove_start(self._og_search_title(webpage), 'T\u00e9l\u00e9MB : ')\n        description = self._html_search_regex(\n            r'<meta property=\"og:description\" content=\"(.+?)\" />',\n            webpage, 'description', fatal=False)\n        thumbnail = self._og_search_thumbnail(webpage)\n\n        return {\n            'id': video_id,\n            'display_id': display_id,\n            'title': title,\n            'description': description,\n            'thumbnail': thumbnail,\n            'formats': formats,\n        }\n", "comments": "# coding: utf-8\n# non-ASCII characters in download URL\n", "content": "# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import remove_start\n\n\nclass TeleMBIE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?telemb\\.be/(?P<display_id>.+?)_d_(?P<id>\\d+)\\.html'\n    _TESTS = [\n        {\n            'url': 'http://www.telemb.be/mons-cook-with-danielle-des-cours-de-cuisine-en-anglais-_d_13466.html',\n            'md5': 'f45ea69878516ba039835794e0f8f783',\n            'info_dict': {\n                'id': '13466',\n                'display_id': 'mons-cook-with-danielle-des-cours-de-cuisine-en-anglais-',\n                'ext': 'mp4',\n                'title': 'Mons - Cook with Danielle : des cours de cuisine en anglais ! - Les reportages',\n                'description': 'md5:bc5225f47b17c309761c856ad4776265',\n                'thumbnail': r're:^http://.*\\.(?:jpg|png)$',\n            }\n        },\n        {\n            # non-ASCII characters in download URL\n            'url': 'http://telemb.be/les-reportages-havre-incendie-mortel_d_13514.html',\n            'md5': '6e9682736e5ccd4eab7f21e855350733',\n            'info_dict': {\n                'id': '13514',\n                'display_id': 'les-reportages-havre-incendie-mortel',\n                'ext': 'mp4',\n                'title': 'Havr\u00e9 - Incendie mortel - Les reportages',\n                'description': 'md5:5e54cb449acb029c2b7734e2d946bd4a',\n                'thumbnail': r're:^http://.*\\.(?:jpg|png)$',\n            }\n        },\n    ]\n\n    def _real_extract(self, url):\n        mobj = re.match(self._VALID_URL, url)\n        video_id = mobj.group('id')\n        display_id = mobj.group('display_id')\n\n        webpage = self._download_webpage(url, display_id)\n\n        formats = []\n        for video_url in re.findall(r'file\\s*:\\s*\"([^\"]+)\"', webpage):\n            fmt = {\n                'url': video_url,\n                'format_id': video_url.split(':')[0]\n            }\n            rtmp = re.search(r'^(?P<url>rtmp://[^/]+/(?P<app>.+))/(?P<playpath>mp4:.+)$', video_url)\n            if rtmp:\n                fmt.update({\n                    'play_path': rtmp.group('playpath'),\n                    'app': rtmp.group('app'),\n                    'player_url': 'http://p.jwpcdn.com/6/10/jwplayer.flash.swf',\n                    'page_url': 'http://www.telemb.be',\n                    'preference': -1,\n                })\n            formats.append(fmt)\n        self._sort_formats(formats)\n\n        title = remove_start(self._og_search_title(webpage), 'T\u00e9l\u00e9MB : ')\n        description = self._html_search_regex(\n            r'<meta property=\"og:description\" content=\"(.+?)\" />',\n            webpage, 'description', fatal=False)\n        thumbnail = self._og_search_thumbnail(webpage)\n\n        return {\n            'id': video_id,\n            'display_id': display_id,\n            'title': title,\n            'description': description,\n            'thumbnail': thumbnail,\n            'formats': formats,\n        }\n", "description": "Command-line program to download videos from YouTube.com and other video sites", "file_name": "telemb.py", "language": "Python", "project_name": "youtube-dl", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/rg3_youtube-dl/rg3-youtube-dl-6202f08/youtube_dl/extractor/telemb.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:18:39Z", "url": "https://github.com/rg3/youtube-dl", "wiki": false}