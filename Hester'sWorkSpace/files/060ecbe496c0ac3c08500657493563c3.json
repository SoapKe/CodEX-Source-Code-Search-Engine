{"author": "nvbn", "code": "from mock import Mock\nimport pytest\nfrom thefuck.entrypoints.alias import _get_alias\n\n\n@pytest.mark.parametrize(\n    'py2, enable_experimental_instant_mode, which, is_instant', [\n        (False, True, True, True),\n        (False, False, True, False),\n        (False, True, False, False),\n        (True, True, True, False),\n        (True, True, False, False),\n        (True, False, True, False)])\ndef test_get_alias(monkeypatch, mocker, py2,\n                   enable_experimental_instant_mode,\n                   which, is_instant):\n    monkeypatch.setattr('six.PY2', py2)\n    args = Mock(\n        enable_experimental_instant_mode=enable_experimental_instant_mode,\n        alias='fuck', )\n    mocker.patch('thefuck.entrypoints.alias.which', return_value=which)\n    shell = Mock(app_alias=lambda _: 'app_alias',\n                 instant_mode_alias=lambda _: 'instant_mode_alias')\n    monkeypatch.setattr('thefuck.entrypoints.alias.shell', shell)\n\n    alias = _get_alias(args)\n    if is_instant:\n        assert alias == 'instant_mode_alias'\n    else:\n        assert alias == 'app_alias'\n", "comments": "", "content": "from mock import Mock\nimport pytest\nfrom thefuck.entrypoints.alias import _get_alias\n\n\n@pytest.mark.parametrize(\n    'py2, enable_experimental_instant_mode, which, is_instant', [\n        (False, True, True, True),\n        (False, False, True, False),\n        (False, True, False, False),\n        (True, True, True, False),\n        (True, True, False, False),\n        (True, False, True, False)])\ndef test_get_alias(monkeypatch, mocker, py2,\n                   enable_experimental_instant_mode,\n                   which, is_instant):\n    monkeypatch.setattr('six.PY2', py2)\n    args = Mock(\n        enable_experimental_instant_mode=enable_experimental_instant_mode,\n        alias='fuck', )\n    mocker.patch('thefuck.entrypoints.alias.which', return_value=which)\n    shell = Mock(app_alias=lambda _: 'app_alias',\n                 instant_mode_alias=lambda _: 'instant_mode_alias')\n    monkeypatch.setattr('thefuck.entrypoints.alias.shell', shell)\n\n    alias = _get_alias(args)\n    if is_instant:\n        assert alias == 'instant_mode_alias'\n    else:\n        assert alias == 'app_alias'\n", "description": "Magnificent app which corrects your previous console command.", "file_name": "test_alias.py", "language": "Python", "project_name": "thefuck", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/nvbn_thefuck/nvbn-thefuck-284d49d/tests/entrypoints/test_alias.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:34:29Z", "url": "https://github.com/nvbn/thefuck", "wiki": true}