{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\nfrom odoo import http\nfrom odoo.addons.http_routing.models.ir_http import unslug\nfrom odoo.http import request\n\n\nclass WebsitePartnerPage(http.Controller):\n\n    \n    @http.route(['/partners/<partner_id>'], type='http', auth=\"public\", website=True)\n    def partners_detail(self, partner_id, **post):\n        _, partner_id = unslug(partner_id)\n        if partner_id:\n            partner_sudo = request.env['res.partner'].sudo().browse(partner_id)\n            is_website_publisher = request.env['res.users'].has_group('website.group_website_publisher')\n            if partner_sudo.exists() and (partner_sudo.website_published or is_website_publisher):\n                values = {\n                    'main_object': partner_sudo,\n                    'partner': partner_sudo,\n                    'edit_page': False\n                }\n                return request.render(\"website_partner.partner_page\", values)\n        return request.not_found()\n", "comments": "      coding  utf 8        do use semantic controller due superuser id ", "content": "# -*- coding: utf-8 -*-\n\nfrom odoo import http\nfrom odoo.addons.http_routing.models.ir_http import unslug\nfrom odoo.http import request\n\n\nclass WebsitePartnerPage(http.Controller):\n\n    # Do not use semantic controller due to SUPERUSER_ID\n    @http.route(['/partners/<partner_id>'], type='http', auth=\"public\", website=True)\n    def partners_detail(self, partner_id, **post):\n        _, partner_id = unslug(partner_id)\n        if partner_id:\n            partner_sudo = request.env['res.partner'].sudo().browse(partner_id)\n            is_website_publisher = request.env['res.users'].has_group('website.group_website_publisher')\n            if partner_sudo.exists() and (partner_sudo.website_published or is_website_publisher):\n                values = {\n                    'main_object': partner_sudo,\n                    'partner': partner_sudo,\n                    'edit_page': False\n                }\n                return request.render(\"website_partner.partner_page\", values)\n        return request.not_found()\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "main.py", "id": "905db9de9d8bedef4f928b2624390a2e", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/website_partner/controllers/main.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}