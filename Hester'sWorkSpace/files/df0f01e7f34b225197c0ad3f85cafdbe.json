{"author": "mitmproxy", "code": "import urwid\n\nfrom mitmproxy.test import tflow\nfrom mitmproxy.tools.console import common\n\n\ndef test_format_flow():\n    f = tflow.tflow(resp=True)\n    assert common.format_flow(f, True)\n    assert common.format_flow(f, True, hostheader=True)\n    assert common.format_flow(f, True, extended=True)\n\n\ndef test_format_keyvals():\n    assert common.format_keyvals(\n        [\n            (\"aa\", \"bb\"),\n            (\"cc\", \"dd\"),\n            (\"ee\", None),\n        ]\n    )\n    wrapped = urwid.BoxAdapter(\n        urwid.ListBox(\n            urwid.SimpleFocusListWalker(\n                common.format_keyvals([(\"foo\", \"bar\")])\n            )\n        ), 1\n    )\n    assert wrapped.render((30, ))\n    assert common.format_keyvals(\n        [\n            (\"aa\", wrapped)\n        ]\n    )\n", "comments": "", "content": "import urwid\n\nfrom mitmproxy.test import tflow\nfrom mitmproxy.tools.console import common\n\n\ndef test_format_flow():\n    f = tflow.tflow(resp=True)\n    assert common.format_flow(f, True)\n    assert common.format_flow(f, True, hostheader=True)\n    assert common.format_flow(f, True, extended=True)\n\n\ndef test_format_keyvals():\n    assert common.format_keyvals(\n        [\n            (\"aa\", \"bb\"),\n            (\"cc\", \"dd\"),\n            (\"ee\", None),\n        ]\n    )\n    wrapped = urwid.BoxAdapter(\n        urwid.ListBox(\n            urwid.SimpleFocusListWalker(\n                common.format_keyvals([(\"foo\", \"bar\")])\n            )\n        ), 1\n    )\n    assert wrapped.render((30, ))\n    assert common.format_keyvals(\n        [\n            (\"aa\", wrapped)\n        ]\n    )\n", "description": "An interactive TLS-capable intercepting HTTP proxy for penetration testers and software developers.", "file_name": "test_common.py", "id": "df0f01e7f34b225197c0ad3f85cafdbe", "language": "Python", "project_name": "mitmproxy", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/mitmproxy-mitmproxy/mitmproxy-mitmproxy-3c7725a/test/mitmproxy/tools/console/test_common.py", "save_time": "", "source": "", "update_at": "2018-03-18T11:30:56Z", "url": "https://github.com/mitmproxy/mitmproxy", "wiki": false}