{"author": "p-e-w", "code": "\n\n Copyright (c) 2016-2017 Philipp Emanuel Weidmann <pew@worldwidemann.com>\n\n Nemo vir est qui mundum non reddat meliorem.\n\n Released under the terms of the GNU General Public License, version 3\n (https://gnu.org/licenses/gpl.html)\n\n\nfrom maybe import T, register_filter\n\n\ndef format_permissions(permissions):\n    result = \"\"\n    for i in range(2, -1, -1):\n        result += \"r\" if permissions & (4 * 8**i) else \"-\"\n        result += \"w\" if permissions & (2 * 8**i) else \"-\"\n        result += \"x\" if permissions & (1 * 8**i) else \"-\"\n    return result\n\n\ndef filter_change_permissions(path, permissions):\n    return \"%s of %s to %s\" % (T.yellow(\"change permissions\"), T.underline(path),\n                               T.bold(format_permissions(permissions))), 0\n\n\nregister_filter(\"chmod\", lambda process, args:\n                filter_change_permissions(process.full_path(args[0]), args[1]))\nregister_filter(\"fchmod\", lambda process, args:\n                filter_change_permissions(process.descriptor_path(args[0]), args[1]))\nregister_filter(\"fchmodat\", lambda process, args:\n                filter_change_permissions(process.full_path(args[1], args[0]), args[2]))\n", "comments": "  maybe   see program deciding whether really want happen       copyright (c) 2016 2017 philipp emanuel weidmann  pew worldwidemann com        nemo vir est qui mundum non reddat meliorem        released terms gnu general public license  version 3    (https   gnu org licenses gpl html) ", "content": "# maybe - see what a program does before deciding whether you really want it to happen\n#\n# Copyright (c) 2016-2017 Philipp Emanuel Weidmann <pew@worldwidemann.com>\n#\n# Nemo vir est qui mundum non reddat meliorem.\n#\n# Released under the terms of the GNU General Public License, version 3\n# (https://gnu.org/licenses/gpl.html)\n\n\nfrom maybe import T, register_filter\n\n\ndef format_permissions(permissions):\n    result = \"\"\n    for i in range(2, -1, -1):\n        result += \"r\" if permissions & (4 * 8**i) else \"-\"\n        result += \"w\" if permissions & (2 * 8**i) else \"-\"\n        result += \"x\" if permissions & (1 * 8**i) else \"-\"\n    return result\n\n\ndef filter_change_permissions(path, permissions):\n    return \"%s of %s to %s\" % (T.yellow(\"change permissions\"), T.underline(path),\n                               T.bold(format_permissions(permissions))), 0\n\n\nregister_filter(\"chmod\", lambda process, args:\n                filter_change_permissions(process.full_path(args[0]), args[1]))\nregister_filter(\"fchmod\", lambda process, args:\n                filter_change_permissions(process.descriptor_path(args[0]), args[1]))\nregister_filter(\"fchmodat\", lambda process, args:\n                filter_change_permissions(process.full_path(args[1], args[0]), args[2]))\n", "description": " :open_file_folder: :rabbit2: :tophat: See what a program does before deciding whether you really want it to happen.", "file_name": "change_permissions.py", "id": "0e284069481fb487a667f83a55a183ca", "language": "Python", "project_name": "maybe", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/p-e-w-maybe/p-e-w-maybe-ec58230/maybe/filters/change_permissions.py", "save_time": "", "source": "", "update_at": "2018-03-16T19:18:43Z", "url": "https://github.com/p-e-w/maybe", "wiki": true}