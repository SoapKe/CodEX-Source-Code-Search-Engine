{"author": "p-e-w", "code": "\n\n Copyright (c) 2016-2017 Philipp Emanuel Weidmann <pew@worldwidemann.com>\n\n Nemo vir est qui mundum non reddat meliorem.\n\n Released under the terms of the GNU General Public License, version 3\n (https://gnu.org/licenses/gpl.html)\n\n\nfrom pwd import getpwuid\nfrom grp import getgrgid\n\nfrom maybe import T, register_filter\n\n\ndef filter_change_owner(path, owner, group):\n    if owner == -1:\n        label = \"change group\"\n        owner = getgrgid(group)[0]\n    elif group == -1:\n        label = \"change owner\"\n        owner = getpwuid(owner)[0]\n    else:\n        label = \"change owner\"\n        owner = getpwuid(owner)[0] + \":\" + getgrgid(group)[0]\n    return \"%s of %s to %s\" % (T.yellow(label), T.underline(path), T.bold(owner)), 0\n\n\nregister_filter(\"chown\", lambda process, args:\n                filter_change_owner(process.full_path(args[0]), args[1], args[2]))\nregister_filter(\"fchown\", lambda process, args:\n                filter_change_owner(process.descriptor_path(args[0]), args[1], args[2]))\nregister_filter(\"lchown\", lambda process, args:\n                filter_change_owner(process.full_path(args[0]), args[1], args[2]))\nregister_filter(\"fchownat\", lambda process, args:\n                filter_change_owner(process.full_path(args[1], args[0]), args[2], args[3]))\n", "comments": "  maybe   see program deciding whether really want happen       copyright (c) 2016 2017 philipp emanuel weidmann  pew worldwidemann com        nemo vir est qui mundum non reddat meliorem        released terms gnu general public license  version 3    (https   gnu org licenses gpl html) ", "content": "# maybe - see what a program does before deciding whether you really want it to happen\n#\n# Copyright (c) 2016-2017 Philipp Emanuel Weidmann <pew@worldwidemann.com>\n#\n# Nemo vir est qui mundum non reddat meliorem.\n#\n# Released under the terms of the GNU General Public License, version 3\n# (https://gnu.org/licenses/gpl.html)\n\n\nfrom pwd import getpwuid\nfrom grp import getgrgid\n\nfrom maybe import T, register_filter\n\n\ndef filter_change_owner(path, owner, group):\n    if owner == -1:\n        label = \"change group\"\n        owner = getgrgid(group)[0]\n    elif group == -1:\n        label = \"change owner\"\n        owner = getpwuid(owner)[0]\n    else:\n        label = \"change owner\"\n        owner = getpwuid(owner)[0] + \":\" + getgrgid(group)[0]\n    return \"%s of %s to %s\" % (T.yellow(label), T.underline(path), T.bold(owner)), 0\n\n\nregister_filter(\"chown\", lambda process, args:\n                filter_change_owner(process.full_path(args[0]), args[1], args[2]))\nregister_filter(\"fchown\", lambda process, args:\n                filter_change_owner(process.descriptor_path(args[0]), args[1], args[2]))\nregister_filter(\"lchown\", lambda process, args:\n                filter_change_owner(process.full_path(args[0]), args[1], args[2]))\nregister_filter(\"fchownat\", lambda process, args:\n                filter_change_owner(process.full_path(args[1], args[0]), args[2], args[3]))\n", "description": " :open_file_folder: :rabbit2: :tophat: See what a program does before deciding whether you really want it to happen.", "file_name": "change_owner.py", "id": "bec00c8e33cdb597ec43a1c29cdb459d", "language": "Python", "project_name": "maybe", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/p-e-w-maybe/p-e-w-maybe-ec58230/maybe/filters/change_owner.py", "save_time": "", "source": "", "update_at": "2018-03-16T19:18:43Z", "url": "https://github.com/p-e-w/maybe", "wiki": true}