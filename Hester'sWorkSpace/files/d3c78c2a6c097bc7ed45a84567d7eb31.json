{"author": "ansible", "code": " -*- mode: python -*-\n\n Copyright: Ansible Team\n GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n\nfrom __future__ import absolute_import, division, print_function\n__metaclass__ = type\n\n\nANSIBLE_METADATA = {'metadata_version': '1.1',\n                    'status': ['stableinterface'],\n                    'supported_by': 'core'}\n\n\nDOCUMENTATION = r'''\n---\nmodule: add_host\nshort_description: add a host (and alternatively a group) to the ansible-playbook in-memory inventory\ndescription:\n  - Use variables to create new hosts and groups in inventory for use in later plays of the same playbook.\n    Takes variables so you can define the new hosts more fully.\n  - This module is also supported for Windows targets.\nversion_added: \"0.9\"\noptions:\n  name:\n    aliases: [ 'hostname', 'host' ]\n    description:\n    - The hostname/ip of the host to add to the inventory, can include a colon and a port number.\n    required: true\n  groups:\n    aliases: [ 'groupname', 'group' ]\n    description:\n    - The groups to add the hostname to, comma separated.\n    required: false\nnotes:\n    - This module bypasses the play host loop and only runs once for all the hosts in the play, if you need it\n      to iterate use a with\\_ directive.\n    - Windows targets are supported by this module.\n    - The alias 'host' of the parameter 'name' is only available on >=2.4\n    - Since Ansible version 2.4, the ``inventory_dir`` variable is now set to ``None`` instead of the 'global inventory source',\n      because you can now have multiple sources.  An example was added that shows how to partially restore the previous behaviour.\nauthor:\n    - \"Ansible Core Team\"\n    - \"Seth Vidal\"\n'''\n\nEXAMPLES = '''\n- name: add host to group 'just_created' with variable foo=42\n  add_host:\n    name: \"{{ ip_from_ec2 }}\"\n    groups: just_created\n    foo: 42\n\n- name: add host to multiple groups\n  add_host:\n    hostname: \"{{ new_ip }}\"\n    groups:\n      - group1\n      - group2\n\n- name: add a host with a non-standard port local to your machines\n  add_host:\n    name: \"{{ new_ip }}:{{ new_port }}\"\n\n- name: add a host alias that we reach through a tunnel (Ansible <= 1.9)\n  add_host:\n    hostname: \"{{ new_ip }}\"\n    ansible_ssh_host: \"{{ inventory_hostname }}\"\n    ansible_ssh_port: \"{{ new_port }}\"\n\n- name: add a host alias that we reach through a tunnel (Ansible >= 2.0)\n  add_host:\n    hostname: \"{{ new_ip }}\"\n    ansible_host: \"{{ inventory_hostname }}\"\n    ansible_port: \"{{ new_port }}\"\n\n- name: Ensure inventory vars are set to the same value as the inventory_hostname has (close to pre 2.4 behaviour)\n  add_host:\n    hostname: charlie\n    inventory_dir: \"{{inventory_dir}}\"\n'''\n", "comments": "        module  add host short description  add host (and alternatively group) ansible playbook memory inventory description      use variables create new hosts groups inventory use later plays playbook      takes variables define new hosts fully      this module also supported windows targets  version added   0 9  options    name      aliases     hostname    host        description        the hostname ip host add inventory  include colon port number      required  true   groups      aliases     groupname    group        description        the groups add hostname  comma separated      required  false notes        this module bypasses play host loop runs hosts play  need       iterate use   directive        windows targets supported module        the alias  host  parameter  name  available   2 4       since ansible version 2 4    inventory dir   variable set   none   instead  global inventory source         multiple sources   an example added shows partially restore previous behaviour  author         ansible core team         seth vidal       examples         name  add host group  created  variable foo 42   add host      name      ip ec2         groups  created     foo  42    name  add host multiple groups   add host      hostname      new ip         groups          group1         group2    name  add host non standard port local machines   add host      name      new ip       new port        name  add host alias reach tunnel (ansible    1 9)   add host      hostname      new ip         ansible ssh host      inventory hostname         ansible ssh port      new port        name  add host alias reach tunnel (ansible    2 0)   add host      hostname      new ip         ansible host      inventory hostname         ansible port      new port        name  ensure inventory vars set value inventory hostname (close pre 2 4 behaviour)   add host      hostname  charlie     inventory dir     inventory dir               mode  python           copyright  ansible team    gnu general public license v3 0  (see copying https   www gnu org licenses gpl 3 0 txt) ", "content": "# -*- mode: python -*-\n#\n# Copyright: Ansible Team\n# GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n\nfrom __future__ import absolute_import, division, print_function\n__metaclass__ = type\n\n\nANSIBLE_METADATA = {'metadata_version': '1.1',\n                    'status': ['stableinterface'],\n                    'supported_by': 'core'}\n\n\nDOCUMENTATION = r'''\n---\nmodule: add_host\nshort_description: add a host (and alternatively a group) to the ansible-playbook in-memory inventory\ndescription:\n  - Use variables to create new hosts and groups in inventory for use in later plays of the same playbook.\n    Takes variables so you can define the new hosts more fully.\n  - This module is also supported for Windows targets.\nversion_added: \"0.9\"\noptions:\n  name:\n    aliases: [ 'hostname', 'host' ]\n    description:\n    - The hostname/ip of the host to add to the inventory, can include a colon and a port number.\n    required: true\n  groups:\n    aliases: [ 'groupname', 'group' ]\n    description:\n    - The groups to add the hostname to, comma separated.\n    required: false\nnotes:\n    - This module bypasses the play host loop and only runs once for all the hosts in the play, if you need it\n      to iterate use a with\\_ directive.\n    - Windows targets are supported by this module.\n    - The alias 'host' of the parameter 'name' is only available on >=2.4\n    - Since Ansible version 2.4, the ``inventory_dir`` variable is now set to ``None`` instead of the 'global inventory source',\n      because you can now have multiple sources.  An example was added that shows how to partially restore the previous behaviour.\nauthor:\n    - \"Ansible Core Team\"\n    - \"Seth Vidal\"\n'''\n\nEXAMPLES = '''\n- name: add host to group 'just_created' with variable foo=42\n  add_host:\n    name: \"{{ ip_from_ec2 }}\"\n    groups: just_created\n    foo: 42\n\n- name: add host to multiple groups\n  add_host:\n    hostname: \"{{ new_ip }}\"\n    groups:\n      - group1\n      - group2\n\n- name: add a host with a non-standard port local to your machines\n  add_host:\n    name: \"{{ new_ip }}:{{ new_port }}\"\n\n- name: add a host alias that we reach through a tunnel (Ansible <= 1.9)\n  add_host:\n    hostname: \"{{ new_ip }}\"\n    ansible_ssh_host: \"{{ inventory_hostname }}\"\n    ansible_ssh_port: \"{{ new_port }}\"\n\n- name: add a host alias that we reach through a tunnel (Ansible >= 2.0)\n  add_host:\n    hostname: \"{{ new_ip }}\"\n    ansible_host: \"{{ inventory_hostname }}\"\n    ansible_port: \"{{ new_port }}\"\n\n- name: Ensure inventory vars are set to the same value as the inventory_hostname has (close to pre 2.4 behaviour)\n  add_host:\n    hostname: charlie\n    inventory_dir: \"{{inventory_dir}}\"\n'''\n", "description": "Ansible is a radically simple IT automation platform that makes your applications and systems easier to deploy. Avoid writing scripts or custom code to deploy and update your applications\u2014 automate in a language that approaches plain English, using SSH, with no agents to install on remote systems.", "file_name": "add_host.py", "id": "d3c78c2a6c097bc7ed45a84567d7eb31", "language": "Python", "project_name": "ansible", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/ansible-ansible/ansible-ansible-d30554b/lib/ansible/modules/inventory/add_host.py", "save_time": "", "source": "", "update_at": "2018-03-18T14:08:28Z", "url": "https://github.com/ansible/ansible", "wiki": false}