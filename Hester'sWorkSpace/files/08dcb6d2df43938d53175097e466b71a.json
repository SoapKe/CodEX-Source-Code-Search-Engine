{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\n\nfrom odoo.fields import Datetime\nfrom odoo.tests.common import TransactionCase\n\n\nclass TestResourceCommon(TransactionCase):\n\n    def setUp(self):\n        super(TestResourceCommon, self).setUp()\n        self.env.user.tz = 'UTC'\n\n        \n        self.date1 = Datetime.from_string('2013-02-12 09:08:07')  # weekday() returns 1, isoweekday() returns 2\n        self.date2 = Datetime.from_string('2013-02-15 10:11:12')  # weekday() returns 4, isoweekday() returns 5\n\n        \n        # Calendar working days: 1 (8-16 -> 8hours), 4 (8-13, 16-23 -> 12hours)\n        self.calendar = self.env['resource.calendar'].create({\n            'name': 'TestCalendar',\n            'attendance_ids': [(5, 0, 0)]\n        })\n        self.att_1 = self.env['resource.calendar.attendance'].create({\n            'name': 'Att1',\n            'calendar_id': self.calendar.id,\n            'dayofweek': '1',\n            'hour_from': 8,\n            'hour_to': 16\n        })\n        self.att_2 = self.env['resource.calendar.attendance'].create({\n            'name': 'Att2',\n            'calendar_id': self.calendar.id,\n            'dayofweek': '4',\n            'hour_from': 8,\n            'hour_to': 13\n        })\n        self.att_3 = self.env['resource.calendar.attendance'].create({\n            'name': 'Att3',\n            'calendar_id': self.calendar.id,\n            'dayofweek': '4',\n            'hour_from': 16,\n            'hour_to': 23\n        })\n\n        self.resource1_id = self.env['resource.resource'].create(\n            {\n                'name': 'TestResource1',\n                'resource_type': 'user',\n                'time_efficiency': 150.0,\n                'calendar_id': self.calendar.id,\n            }\n        ).id\n\n        \n        self.leave1 = self.env['resource.calendar.leaves'].create({\n            'name': 'GenericLeave',\n            'calendar_id': self.calendar.id,\n            'date_from': Datetime.from_string('2013-02-19 09:00:00'),\n            'date_to': Datetime.from_string('2013-02-19 12:00:00')})\n        \n        self.leave2 = self.env['resource.calendar.leaves'].create({\n            'name': 'ResourceLeave',\n            'calendar_id': self.calendar.id,\n            'resource_id': self.resource1_id,\n            'date_from': Datetime.from_string('2013-02-22 09:00:00'),\n            'date_to': Datetime.from_string('2013-02-22 15:00:00')})\n        # Leave3: 25/02/2013 (day0) -> 01/03/2013 (day4)\n        self.leave3 = self.env['resource.calendar.leaves'].create({\n            'name': 'ResourceLeave2',\n            'calendar_id': self.calendar.id,\n            'resource_id': self.resource1_id,\n            'date_from': Datetime.from_string('2013-02-25 13:00:00'),\n            'date_to': Datetime.from_string('2013-03-01 11:30:00')})\n", "comments": "      coding  utf 8        part odoo  see license file full copyright licensing details     some demo data    weekday() returns 1  isoweekday() returns 2    weekday() returns 4  isoweekday() returns 5    resource data    calendar working days  1 (8 16    8hours)  4 (8 13  16 23    12hours)    leave1  19 02 2013  9 12  day 1    leave2  22 02 2013  9 15  day 4    leave3  25 02 2013 (day0)    01 03 2013 (day4) ", "content": "# -*- coding: utf-8 -*-\n# Part of Odoo. See LICENSE file for full copyright and licensing details.\n\nfrom odoo.fields import Datetime\nfrom odoo.tests.common import TransactionCase\n\n\nclass TestResourceCommon(TransactionCase):\n\n    def setUp(self):\n        super(TestResourceCommon, self).setUp()\n        self.env.user.tz = 'UTC'\n\n        # Some demo data\n        self.date1 = Datetime.from_string('2013-02-12 09:08:07')  # weekday() returns 1, isoweekday() returns 2\n        self.date2 = Datetime.from_string('2013-02-15 10:11:12')  # weekday() returns 4, isoweekday() returns 5\n\n        # Resource data\n        # Calendar working days: 1 (8-16 -> 8hours), 4 (8-13, 16-23 -> 12hours)\n        self.calendar = self.env['resource.calendar'].create({\n            'name': 'TestCalendar',\n            'attendance_ids': [(5, 0, 0)]\n        })\n        self.att_1 = self.env['resource.calendar.attendance'].create({\n            'name': 'Att1',\n            'calendar_id': self.calendar.id,\n            'dayofweek': '1',\n            'hour_from': 8,\n            'hour_to': 16\n        })\n        self.att_2 = self.env['resource.calendar.attendance'].create({\n            'name': 'Att2',\n            'calendar_id': self.calendar.id,\n            'dayofweek': '4',\n            'hour_from': 8,\n            'hour_to': 13\n        })\n        self.att_3 = self.env['resource.calendar.attendance'].create({\n            'name': 'Att3',\n            'calendar_id': self.calendar.id,\n            'dayofweek': '4',\n            'hour_from': 16,\n            'hour_to': 23\n        })\n\n        self.resource1_id = self.env['resource.resource'].create(\n            {\n                'name': 'TestResource1',\n                'resource_type': 'user',\n                'time_efficiency': 150.0,\n                'calendar_id': self.calendar.id,\n            }\n        ).id\n\n        # Leave1: 19/02/2013, from 9 to 12, is a day 1\n        self.leave1 = self.env['resource.calendar.leaves'].create({\n            'name': 'GenericLeave',\n            'calendar_id': self.calendar.id,\n            'date_from': Datetime.from_string('2013-02-19 09:00:00'),\n            'date_to': Datetime.from_string('2013-02-19 12:00:00')})\n        # Leave2: 22/02/2013, from 9 to 15, is a day 4\n        self.leave2 = self.env['resource.calendar.leaves'].create({\n            'name': 'ResourceLeave',\n            'calendar_id': self.calendar.id,\n            'resource_id': self.resource1_id,\n            'date_from': Datetime.from_string('2013-02-22 09:00:00'),\n            'date_to': Datetime.from_string('2013-02-22 15:00:00')})\n        # Leave3: 25/02/2013 (day0) -> 01/03/2013 (day4)\n        self.leave3 = self.env['resource.calendar.leaves'].create({\n            'name': 'ResourceLeave2',\n            'calendar_id': self.calendar.id,\n            'resource_id': self.resource1_id,\n            'date_from': Datetime.from_string('2013-02-25 13:00:00'),\n            'date_to': Datetime.from_string('2013-03-01 11:30:00')})\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "common.py", "id": "08dcb6d2df43938d53175097e466b71a", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/resource/tests/common.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}