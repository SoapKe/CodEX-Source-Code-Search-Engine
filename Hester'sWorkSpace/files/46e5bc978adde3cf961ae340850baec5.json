{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\nfrom odoo.addons.mail.tests.common import TestMail\n\n\nclass TestProjectBase(TestMail):\n\n    @classmethod\n    def setUpClass(cls):\n        super(TestProjectBase, cls).setUpClass()\n\n        user_group_employee = cls.env.ref('base.group_user')\n        user_group_project_user = cls.env.ref('project.group_project_user')\n        user_group_project_manager = cls.env.ref('project.group_project_manager')\n\n        \n        Users = cls.env['res.users'].with_context({'no_reset_password': True})\n        cls.user_projectuser = Users.create({\n            'name': 'Armande ProjectUser',\n            'login': 'Armande',\n            'email': 'armande.projectuser@example.com',\n            'groups_id': [(6, 0, [user_group_employee.id, user_group_project_user.id])]\n        })\n        cls.user_projectmanager = Users.create({\n            'name': 'Bastien ProjectManager',\n            'login': 'bastien',\n            'email': 'bastien.projectmanager@example.com',\n            'groups_id': [(6, 0, [user_group_employee.id, user_group_project_manager.id])]})\n\n        \n        cls.project_pigs = cls.env['project.project'].with_context({'mail_create_nolog': True}).create({\n            'name': 'Pigs',\n            'privacy_visibility': 'employees',\n            'alias_name': 'project+pigs',\n            'partner_id': cls.partner_1.id})\n        \n        cls.task_1 = cls.env['project.task'].with_context({'mail_create_nolog': True}).create({\n            'name': 'Pigs UserTask',\n            'user_id': cls.user_projectuser.id,\n            'project_id': cls.project_pigs.id})\n        cls.task_2 = cls.env['project.task'].with_context({'mail_create_nolog': True}).create({\n            'name': 'Pigs ManagerTask',\n            'user_id': cls.user_projectmanager.id,\n            'project_id': cls.project_pigs.id})\n\n        \n        cls.project_goats = cls.env['project.project'].with_context({'mail_create_nolog': True}).create({\n            'name': 'Goats',\n            'privacy_visibility': 'followers',\n            'alias_name': 'project+goats',\n            'partner_id': cls.partner_1.id,\n            'type_ids': [\n                (0, 0, {\n                    'name': 'New',\n                    'sequence': 1,\n                }),\n                (0, 0, {\n                    'name': 'Won',\n                    'sequence': 10,\n                })]\n            })\n", "comments": "      coding  utf 8        test users use various tests    test  pigs  project    already existing tasks pigs    test  goats  project   pigs   2 stages ", "content": "# -*- coding: utf-8 -*-\n\nfrom odoo.addons.mail.tests.common import TestMail\n\n\nclass TestProjectBase(TestMail):\n\n    @classmethod\n    def setUpClass(cls):\n        super(TestProjectBase, cls).setUpClass()\n\n        user_group_employee = cls.env.ref('base.group_user')\n        user_group_project_user = cls.env.ref('project.group_project_user')\n        user_group_project_manager = cls.env.ref('project.group_project_manager')\n\n        # Test users to use through the various tests\n        Users = cls.env['res.users'].with_context({'no_reset_password': True})\n        cls.user_projectuser = Users.create({\n            'name': 'Armande ProjectUser',\n            'login': 'Armande',\n            'email': 'armande.projectuser@example.com',\n            'groups_id': [(6, 0, [user_group_employee.id, user_group_project_user.id])]\n        })\n        cls.user_projectmanager = Users.create({\n            'name': 'Bastien ProjectManager',\n            'login': 'bastien',\n            'email': 'bastien.projectmanager@example.com',\n            'groups_id': [(6, 0, [user_group_employee.id, user_group_project_manager.id])]})\n\n        # Test 'Pigs' project\n        cls.project_pigs = cls.env['project.project'].with_context({'mail_create_nolog': True}).create({\n            'name': 'Pigs',\n            'privacy_visibility': 'employees',\n            'alias_name': 'project+pigs',\n            'partner_id': cls.partner_1.id})\n        # Already-existing tasks in Pigs\n        cls.task_1 = cls.env['project.task'].with_context({'mail_create_nolog': True}).create({\n            'name': 'Pigs UserTask',\n            'user_id': cls.user_projectuser.id,\n            'project_id': cls.project_pigs.id})\n        cls.task_2 = cls.env['project.task'].with_context({'mail_create_nolog': True}).create({\n            'name': 'Pigs ManagerTask',\n            'user_id': cls.user_projectmanager.id,\n            'project_id': cls.project_pigs.id})\n\n        # Test 'Goats' project, same as 'Pigs', but with 2 stages\n        cls.project_goats = cls.env['project.project'].with_context({'mail_create_nolog': True}).create({\n            'name': 'Goats',\n            'privacy_visibility': 'followers',\n            'alias_name': 'project+goats',\n            'partner_id': cls.partner_1.id,\n            'type_ids': [\n                (0, 0, {\n                    'name': 'New',\n                    'sequence': 1,\n                }),\n                (0, 0, {\n                    'name': 'Won',\n                    'sequence': 10,\n                })]\n            })\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "test_project_base.py", "id": "46e5bc978adde3cf961ae340850baec5", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/project/tests/test_project_base.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}