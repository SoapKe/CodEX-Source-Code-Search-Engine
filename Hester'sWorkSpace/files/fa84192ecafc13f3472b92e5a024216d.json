{"author": "getsentry", "code": "from __future__ import absolute_import\n\nimport pytest\n\nfrom sentry.utils.datastructures import BidirectionalMapping\n\n\ndef test_bidirectional_mapping():\n    value = BidirectionalMapping({\n        'a': 1,\n        'b': 2,\n    })\n\n    assert value['a'] == 1\n    assert value['b'] == 2\n    assert value.get_key(1) == 'a'\n    assert value.get_key(2) == 'b'\n    assert value.inverse() == {\n        1: 'a',\n        2: 'b',\n    }\n\n    value['c'] = 3\n    assert value['c'] == 3\n    assert value.get_key(3) == 'c'\n\n    with pytest.raises(KeyError):\n        value['d']\n\n    with pytest.raises(KeyError):\n        value.get_key(4)\n\n    with pytest.raises(TypeError):\n        value['d'] = [1, 2, 3]  \n\n    assert len(value) == len(value.inverse()) == 3\n\n    del value['c']\n\n    assert len(value) == len(value.inverse()) == 2\n", "comments": "  hashable ", "content": "from __future__ import absolute_import\n\nimport pytest\n\nfrom sentry.utils.datastructures import BidirectionalMapping\n\n\ndef test_bidirectional_mapping():\n    value = BidirectionalMapping({\n        'a': 1,\n        'b': 2,\n    })\n\n    assert value['a'] == 1\n    assert value['b'] == 2\n    assert value.get_key(1) == 'a'\n    assert value.get_key(2) == 'b'\n    assert value.inverse() == {\n        1: 'a',\n        2: 'b',\n    }\n\n    value['c'] = 3\n    assert value['c'] == 3\n    assert value.get_key(3) == 'c'\n\n    with pytest.raises(KeyError):\n        value['d']\n\n    with pytest.raises(KeyError):\n        value.get_key(4)\n\n    with pytest.raises(TypeError):\n        value['d'] = [1, 2, 3]  # not hashable\n\n    assert len(value) == len(value.inverse()) == 3\n\n    del value['c']\n\n    assert len(value) == len(value.inverse()) == 2\n", "description": "Sentry is a cross-platform crash reporting and aggregation platform.", "file_name": "test_datastructures.py", "id": "fa84192ecafc13f3472b92e5a024216d", "language": "Python", "project_name": "sentry", "quality": "", "save_path": "/home/ubuntu/test_files/clean/network_test/getsentry-sentry/getsentry-sentry-6a9c7e2/tests/sentry/utils/test_datastructures.py", "save_time": "", "source": "", "update_at": "2018-03-14T01:23:24Z", "url": "https://github.com/getsentry/sentry", "wiki": false}