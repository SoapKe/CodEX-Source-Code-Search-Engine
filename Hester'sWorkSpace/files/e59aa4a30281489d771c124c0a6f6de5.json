{"author": "odoo", "code": "import odoo.tests\n\n\nclass TestUi(odoo.tests.HttpCase):\n\n    post_install = True\n    at_install = False\n\n    def test_admin(self):\n        \n        # - this test relies on demo data that are entirely in USD (pricelists)\n        \n        \n        \n        self.env.ref('base.main_company').write({'currency_id': self.env.ref('base.USD').id})\n        self.phantom_js(\"/\", \"odoo.__DEBUG__.services['web_tour.tour'].run('event_buy_tickets')\", \"odoo.__DEBUG__.services['web_tour.tour'].tours.event_buy_tickets.ready\", login=\"admin\")\n\n    def test_demo(self):\n        self.phantom_js(\"/\", \"odoo.__DEBUG__.services['web_tour.tour'].run('event_buy_tickets')\", \"odoo.__DEBUG__.services['web_tour.tour'].tours.event_buy_tickets.ready\", login=\"demo\")\n\n    \n", "comments": "  seen       test relies demo data entirely usd (pricelists)      main demo company gelocated us      test awaits hardcoded usds amount    force company currency usds test    to do   add public test new address convert web tour format  ", "content": "import odoo.tests\n\n\nclass TestUi(odoo.tests.HttpCase):\n\n    post_install = True\n    at_install = False\n\n    def test_admin(self):\n        # Seen that:\n        # - this test relies on demo data that are entirely in USD (pricelists)\n        # - that main demo company is gelocated in US\n        # - that this test awaits for hardcoded USDs amount\n        # we have to force company currency as USDs only for this test\n        self.env.ref('base.main_company').write({'currency_id': self.env.ref('base.USD').id})\n        self.phantom_js(\"/\", \"odoo.__DEBUG__.services['web_tour.tour'].run('event_buy_tickets')\", \"odoo.__DEBUG__.services['web_tour.tour'].tours.event_buy_tickets.ready\", login=\"admin\")\n\n    def test_demo(self):\n        self.phantom_js(\"/\", \"odoo.__DEBUG__.services['web_tour.tour'].run('event_buy_tickets')\", \"odoo.__DEBUG__.services['web_tour.tour'].tours.event_buy_tickets.ready\", login=\"demo\")\n\n    # TO DO - add public test with new address when convert to web.tour format.\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "test_ui.py", "id": "e59aa4a30281489d771c124c0a6f6de5", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/website_event_sale/tests/test_ui.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}