{"author": "jakubroztocil", "code": "from __future__ import absolute_import\nimport json\n\nfrom httpie.plugins import FormatterPlugin\n\n\nDEFAULT_INDENT = 4\n\n\nclass JSONFormatter(FormatterPlugin):\n\n    def format_body(self, body, mime):\n        maybe_json = [\n            'json',\n            'javascript',\n            'text',\n        ]\n        if (self.kwargs['explicit_json'] or\n                any(token in mime for token in maybe_json)):\n            try:\n                obj = json.loads(body)\n            except ValueError:\n                pass  \n            else:\n                \n                \n                body = json.dumps(\n                    obj=obj,\n                    sort_keys=True,\n                    ensure_ascii=False,\n                    indent=DEFAULT_INDENT\n                )\n        return body\n", "comments": "# Invalid JSON, ignore.\n# Indent, sort keys by name, and avoid\n# unicode escapes to improve readability.\n", "content": "from __future__ import absolute_import\nimport json\n\nfrom httpie.plugins import FormatterPlugin\n\n\nDEFAULT_INDENT = 4\n\n\nclass JSONFormatter(FormatterPlugin):\n\n    def format_body(self, body, mime):\n        maybe_json = [\n            'json',\n            'javascript',\n            'text',\n        ]\n        if (self.kwargs['explicit_json'] or\n                any(token in mime for token in maybe_json)):\n            try:\n                obj = json.loads(body)\n            except ValueError:\n                pass  # Invalid JSON, ignore.\n            else:\n                # Indent, sort keys by name, and avoid\n                # unicode escapes to improve readability.\n                body = json.dumps(\n                    obj=obj,\n                    sort_keys=True,\n                    ensure_ascii=False,\n                    indent=DEFAULT_INDENT\n                )\n        return body\n", "description": "Modern command line HTTP client \u2013 user-friendly curl alternative with intuitive UI, JSON support, syntax highlighting, wget-like downloads, extensions, etc.  https://httpie.org", "file_name": "json.py", "language": "Python", "project_name": "httpie", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/jakubroztocil_httpie/jakubroztocil-httpie-0f4dce9/httpie/output/formatters/json.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:20:06Z", "url": "https://github.com/jakubroztocil/httpie", "wiki": false}