{"author": "idank", "code": "import unittest, subprocess, pymongo, os\n\nfrom explainshell import manager, config, matcher\n\nclass test_integration(unittest.TestCase):\n    def test(self):\n        mngr = manager.manager(config.MONGO_URI, 'explainshell_tests', [os.path.join(os.path.dirname(__file__), 'echo.1.gz')], drop=True)\n        mngr.run()\n\n        cmd = 'echo -en foobar --version'\n\n        m = matcher.matcher(cmd, mngr.store)\n        group = m.match()[1]\n        matchprog, matches = group.manpage.name, group.results\n\n        self.assertEquals(matchprog, 'echo')\n\n        #self.assertEquals(matches[0].text, 'display a line of text')\n        self.assertEquals(matches[0].match, 'echo')\n\n        self.assertEquals(matches[1].text, '<b>-e</b>     enable interpretation of backslash escapes')\n        self.assertEquals(matches[1].match, '-e')\n\n        self.assertEquals(matches[2].text, '<b>-n</b>     do not output the trailing newline')\n        self.assertEquals(matches[2].match, 'n')\n\n        self.assertEquals(matches[3].text, None)\n        self.assertEquals(matches[3].match, 'foobar')\n\n        self.assertEquals(matches[4].text, '<b>--version</b>\\n       output version information and exit')\n        self.assertEquals(matches[4].match, '--version')\n", "comments": " self assertequals(matches 0  text   display line text ) ", "content": "import unittest, subprocess, pymongo, os\n\nfrom explainshell import manager, config, matcher\n\nclass test_integration(unittest.TestCase):\n    def test(self):\n        mngr = manager.manager(config.MONGO_URI, 'explainshell_tests', [os.path.join(os.path.dirname(__file__), 'echo.1.gz')], drop=True)\n        mngr.run()\n\n        cmd = 'echo -en foobar --version'\n\n        m = matcher.matcher(cmd, mngr.store)\n        group = m.match()[1]\n        matchprog, matches = group.manpage.name, group.results\n\n        self.assertEquals(matchprog, 'echo')\n\n        #self.assertEquals(matches[0].text, 'display a line of text')\n        self.assertEquals(matches[0].match, 'echo')\n\n        self.assertEquals(matches[1].text, '<b>-e</b>     enable interpretation of backslash escapes')\n        self.assertEquals(matches[1].match, '-e')\n\n        self.assertEquals(matches[2].text, '<b>-n</b>     do not output the trailing newline')\n        self.assertEquals(matches[2].match, 'n')\n\n        self.assertEquals(matches[3].text, None)\n        self.assertEquals(matches[3].match, 'foobar')\n\n        self.assertEquals(matches[4].text, '<b>--version</b>\\n       output version information and exit')\n        self.assertEquals(matches[4].match, '--version')\n", "description": "match command-line arguments to their help text", "file_name": "test-integration.py", "id": "603bd9732925b5bbe430debd153f96c0", "language": "Python", "project_name": "explainshell", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/idank-explainshell/idank-explainshell-697e1d1/tests/test-integration.py", "save_time": "", "source": "", "update_at": "2018-03-18T14:42:42Z", "url": "https://github.com/idank/explainshell", "wiki": true}