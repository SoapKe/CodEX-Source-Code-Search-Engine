{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\n\nfrom odoo import api, models\n\n\nclass ChangeProductionQty(models.TransientModel):\n    _inherit = 'change.production.qty'\n\n    @api.model\n    def _update_product_to_produce(self, prod, qty):\n        super(ChangeProductionQty, self)._update_product_to_produce(prod, qty)\n        Production = self.env['mrp.production']\n        UoM = self.env['product.uom']\n        for sub_product_line in prod.bom_id.sub_products:\n            move = prod.move_finished_ids.filtered(lambda x: x.subproduct_id == sub_product_line and x.state not in ('done', 'cancel'))\n            if move:\n                product_uom_factor = prod.product_uom_id._compute_quantity(prod.product_qty - prod.qty_produced, prod.bom_id.product_uom_id)\n                qty1 = sub_product_line.product_qty\n                qty1 *= product_uom_factor / prod.bom_id.product_qty\n                move[0].write({'product_uom_qty': qty1})\n            else:\n                prod._create_byproduct_move(sub_product_line)", "comments": "      coding  utf 8        part odoo  see license file full copyright licensing details  ", "content": "# -*- coding: utf-8 -*-\n# Part of Odoo. See LICENSE file for full copyright and licensing details.\n\nfrom odoo import api, models\n\n\nclass ChangeProductionQty(models.TransientModel):\n    _inherit = 'change.production.qty'\n\n    @api.model\n    def _update_product_to_produce(self, prod, qty):\n        super(ChangeProductionQty, self)._update_product_to_produce(prod, qty)\n        Production = self.env['mrp.production']\n        UoM = self.env['product.uom']\n        for sub_product_line in prod.bom_id.sub_products:\n            move = prod.move_finished_ids.filtered(lambda x: x.subproduct_id == sub_product_line and x.state not in ('done', 'cancel'))\n            if move:\n                product_uom_factor = prod.product_uom_id._compute_quantity(prod.product_qty - prod.qty_produced, prod.bom_id.product_uom_id)\n                qty1 = sub_product_line.product_qty\n                qty1 *= product_uom_factor / prod.bom_id.product_qty\n                move[0].write({'product_uom_qty': qty1})\n            else:\n                prod._create_byproduct_move(sub_product_line)", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "change_production_qty.py", "id": "6221eecbb16226ab78621132fd7bfb54", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/mrp_byproduct/wizard/change_production_qty.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}