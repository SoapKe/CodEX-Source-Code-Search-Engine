{"author": "nvbn", "code": "import pytest\nfrom thefuck.rules.apt_get import match, get_new_command\nfrom thefuck.types import Command\n\n\n@pytest.mark.parametrize('command, packages', [\n    (Command('vim', 'vim: command not found'),\n     [('vim', 'main'), ('vim-tiny', 'main')]),\n    (Command('sudo vim', 'vim: command not found'),\n     [('vim', 'main'), ('vim-tiny', 'main')]),\n    (Command('vim', \"The program 'vim' is currently not installed. You can install it by typing: sudo apt install vim\"),\n     [('vim', 'main'), ('vim-tiny', 'main')])])\ndef test_match(mocker, command, packages):\n    mocker.patch('thefuck.rules.apt_get.which', return_value=None)\n    mocker.patch('thefuck.rules.apt_get._get_packages',\n                 create=True, return_value=packages)\n\n    assert match(command)\n\n\n@pytest.mark.parametrize('command, packages, which', [\n    (Command('a_bad_cmd', 'a_bad_cmd: command not found'),\n     [], None),\n    (Command('vim', ''), [], None),\n    (Command('', ''), [], None),\n    (Command('vim', 'vim: command not found'),\n     ['vim'], '/usr/bin/vim'),\n    (Command('sudo vim', 'vim: command not found'),\n     ['vim'], '/usr/bin/vim')])\ndef test_not_match(mocker, command, packages, which):\n    mocker.patch('thefuck.rules.apt_get.which', return_value=which)\n    mocker.patch('thefuck.rules.apt_get._get_packages',\n                 create=True, return_value=packages)\n\n    assert not match(command)\n\n\n@pytest.mark.parametrize('command, new_command, packages', [\n    (Command('vim', ''), 'sudo apt-get install vim && vim',\n     [('vim', 'main'), ('vim-tiny', 'main')]),\n    (Command('convert', ''), 'sudo apt-get install imagemagick && convert',\n     [('imagemagick', 'main'),\n      ('graphicsmagick-imagemagick-compat', 'universe')]),\n    (Command('sudo vim', ''), 'sudo apt-get install vim && sudo vim',\n     [('vim', 'main'), ('vim-tiny', 'main')]),\n    (Command('sudo convert', ''), 'sudo apt-get install imagemagick && sudo convert',\n     [('imagemagick', 'main'),\n      ('graphicsmagick-imagemagick-compat', 'universe')])])\ndef test_get_new_command(mocker, command, new_command, packages):\n    mocker.patch('thefuck.rules.apt_get._get_packages',\n                 create=True, return_value=packages)\n\n    assert get_new_command(command) == new_command\n", "comments": "", "content": "import pytest\nfrom thefuck.rules.apt_get import match, get_new_command\nfrom thefuck.types import Command\n\n\n@pytest.mark.parametrize('command, packages', [\n    (Command('vim', 'vim: command not found'),\n     [('vim', 'main'), ('vim-tiny', 'main')]),\n    (Command('sudo vim', 'vim: command not found'),\n     [('vim', 'main'), ('vim-tiny', 'main')]),\n    (Command('vim', \"The program 'vim' is currently not installed. You can install it by typing: sudo apt install vim\"),\n     [('vim', 'main'), ('vim-tiny', 'main')])])\ndef test_match(mocker, command, packages):\n    mocker.patch('thefuck.rules.apt_get.which', return_value=None)\n    mocker.patch('thefuck.rules.apt_get._get_packages',\n                 create=True, return_value=packages)\n\n    assert match(command)\n\n\n@pytest.mark.parametrize('command, packages, which', [\n    (Command('a_bad_cmd', 'a_bad_cmd: command not found'),\n     [], None),\n    (Command('vim', ''), [], None),\n    (Command('', ''), [], None),\n    (Command('vim', 'vim: command not found'),\n     ['vim'], '/usr/bin/vim'),\n    (Command('sudo vim', 'vim: command not found'),\n     ['vim'], '/usr/bin/vim')])\ndef test_not_match(mocker, command, packages, which):\n    mocker.patch('thefuck.rules.apt_get.which', return_value=which)\n    mocker.patch('thefuck.rules.apt_get._get_packages',\n                 create=True, return_value=packages)\n\n    assert not match(command)\n\n\n@pytest.mark.parametrize('command, new_command, packages', [\n    (Command('vim', ''), 'sudo apt-get install vim && vim',\n     [('vim', 'main'), ('vim-tiny', 'main')]),\n    (Command('convert', ''), 'sudo apt-get install imagemagick && convert',\n     [('imagemagick', 'main'),\n      ('graphicsmagick-imagemagick-compat', 'universe')]),\n    (Command('sudo vim', ''), 'sudo apt-get install vim && sudo vim',\n     [('vim', 'main'), ('vim-tiny', 'main')]),\n    (Command('sudo convert', ''), 'sudo apt-get install imagemagick && sudo convert',\n     [('imagemagick', 'main'),\n      ('graphicsmagick-imagemagick-compat', 'universe')])])\ndef test_get_new_command(mocker, command, new_command, packages):\n    mocker.patch('thefuck.rules.apt_get._get_packages',\n                 create=True, return_value=packages)\n\n    assert get_new_command(command) == new_command\n", "description": "Magnificent app which corrects your previous console command.", "file_name": "test_apt_get.py", "language": "Python", "project_name": "thefuck", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/nvbn_thefuck/nvbn-thefuck-284d49d/tests/rules/test_apt_get.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:34:29Z", "url": "https://github.com/nvbn/thefuck", "wiki": true}