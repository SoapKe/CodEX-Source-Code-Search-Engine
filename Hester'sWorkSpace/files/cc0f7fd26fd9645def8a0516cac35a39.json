{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\n\nimport time\n\nfrom odoo import api, fields, models, _\n\n\nclass ProductMargin(models.TransientModel):\n    _name = 'product.margin'\n    _description = 'Product Margin'\n\n    from_date = fields.Date('From', default=time.strftime('%Y-01-01'))\n    to_date = fields.Date('To', default=time.strftime('%Y-12-31'))\n    invoice_state = fields.Selection([\n        ('paid', 'Paid'),\n        ('open_paid', 'Open and Paid'),\n        ('draft_open_paid', 'Draft, Open and Paid'),\n    ], 'Invoice State', index=True, required=True, default=\"open_paid\")\n\n    @api.multi\n    def action_open_window(self):\n        self.ensure_one()\n        context = dict(self.env.context or {})\n\n        def ref(module, xml_id):\n            proxy = self.env['ir.model.data']\n            return proxy.get_object_reference(module, xml_id)\n\n        model, search_view_id = ref('product', 'product_search_form_view')\n        model, graph_view_id = ref('product_margin', 'view_product_margin_graph')\n        model, form_view_id = ref('product_margin', 'view_product_margin_form')\n        model, tree_view_id = ref('product_margin', 'view_product_margin_tree')\n\n        context.update(invoice_state=self.invoice_state)\n\n        if self.from_date:\n            context.update(date_from=self.from_date)\n\n        if self.to_date:\n            context.update(date_to=self.to_date)\n\n        views = [\n            (tree_view_id, 'tree'),\n            (form_view_id, 'form'),\n            (graph_view_id, 'graph')\n        ]\n        return {\n            'name': _('Product Margins'),\n            'context': context,\n            'view_type': 'form',\n            \"view_mode\": 'tree,form,graph',\n            'res_model': 'product.product',\n            'type': 'ir.actions.act_window',\n            'views': views,\n            'view_id': False,\n            'search_view_id': search_view_id,\n        }\n", "comments": "      coding  utf 8        part odoo  see license file full copyright licensing details  ", "content": "# -*- coding: utf-8 -*-\n# Part of Odoo. See LICENSE file for full copyright and licensing details.\n\nimport time\n\nfrom odoo import api, fields, models, _\n\n\nclass ProductMargin(models.TransientModel):\n    _name = 'product.margin'\n    _description = 'Product Margin'\n\n    from_date = fields.Date('From', default=time.strftime('%Y-01-01'))\n    to_date = fields.Date('To', default=time.strftime('%Y-12-31'))\n    invoice_state = fields.Selection([\n        ('paid', 'Paid'),\n        ('open_paid', 'Open and Paid'),\n        ('draft_open_paid', 'Draft, Open and Paid'),\n    ], 'Invoice State', index=True, required=True, default=\"open_paid\")\n\n    @api.multi\n    def action_open_window(self):\n        self.ensure_one()\n        context = dict(self.env.context or {})\n\n        def ref(module, xml_id):\n            proxy = self.env['ir.model.data']\n            return proxy.get_object_reference(module, xml_id)\n\n        model, search_view_id = ref('product', 'product_search_form_view')\n        model, graph_view_id = ref('product_margin', 'view_product_margin_graph')\n        model, form_view_id = ref('product_margin', 'view_product_margin_form')\n        model, tree_view_id = ref('product_margin', 'view_product_margin_tree')\n\n        context.update(invoice_state=self.invoice_state)\n\n        if self.from_date:\n            context.update(date_from=self.from_date)\n\n        if self.to_date:\n            context.update(date_to=self.to_date)\n\n        views = [\n            (tree_view_id, 'tree'),\n            (form_view_id, 'form'),\n            (graph_view_id, 'graph')\n        ]\n        return {\n            'name': _('Product Margins'),\n            'context': context,\n            'view_type': 'form',\n            \"view_mode\": 'tree,form,graph',\n            'res_model': 'product.product',\n            'type': 'ir.actions.act_window',\n            'views': views,\n            'view_id': False,\n            'search_view_id': search_view_id,\n        }\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "product_margin.py", "id": "cc0f7fd26fd9645def8a0516cac35a39", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/product_margin/wizard/product_margin.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}