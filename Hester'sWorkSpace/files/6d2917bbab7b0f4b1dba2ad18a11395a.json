{"author": "openai", "code": "from gym.utils.closer import Closer\n\nclass Closeable(object):\n    close_called = False\n    def close(self):\n        self.close_called = True\n\ndef test_register_unregister():\n    registry = Closer(atexit_register=False)\n    c1 = Closeable()\n    c2 = Closeable()\n\n    assert not c1.close_called\n    assert not c2.close_called\n    registry.register(c1)\n    id2 = registry.register(c2)\n\n    registry.unregister(id2)\n    registry.close()\n    assert c1.close_called\n    assert not c2.close_called\n", "comments": "", "content": "from gym.utils.closer import Closer\n\nclass Closeable(object):\n    close_called = False\n    def close(self):\n        self.close_called = True\n\ndef test_register_unregister():\n    registry = Closer(atexit_register=False)\n    c1 = Closeable()\n    c2 = Closeable()\n\n    assert not c1.close_called\n    assert not c2.close_called\n    registry.register(c1)\n    id2 = registry.register(c2)\n\n    registry.unregister(id2)\n    registry.close()\n    assert c1.close_called\n    assert not c2.close_called\n", "description": "A toolkit for developing and comparing reinforcement learning algorithms.", "file_name": "test_atexit.py", "id": "6d2917bbab7b0f4b1dba2ad18a11395a", "language": "Python", "project_name": "gym", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/openai-gym/openai-gym-6160181/gym/utils/tests/test_atexit.py", "save_time": "", "source": "", "update_at": "2018-03-18T13:30:35Z", "url": "https://github.com/openai/gym", "wiki": true}