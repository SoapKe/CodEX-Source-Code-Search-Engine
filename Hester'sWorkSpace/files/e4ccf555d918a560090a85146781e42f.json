{"author": "binux", "code": "\n# -*- encoding: utf-8 -*-\n\n\n\n\n\nfrom requests.cookies import MockRequest\n\n\nclass MockResponse(object):\n\n    def __init__(self, headers):\n        self._headers = headers\n\n    def info(self):\n        return self\n\n    def getheaders(self, name):\n        \"\"\"make cookie python 2 version use this method to get cookie list\"\"\"\n        return self._headers.get_list(name)\n\n    def get_all(self, name, default=None):\n        \"\"\"make cookie python 3 version use this instead of getheaders\"\"\"\n        if default is None:\n            default = []\n        return self._headers.get_list(name) or default\n\n\ndef extract_cookies_to_jar(jar, request, response):\n    req = MockRequest(request)\n    res = MockResponse(response)\n    jar.extract_cookies(res, req)\n", "comments": "   make cookie python 2 version use method get cookie list            return self  headers get list(name)      def get all(self  name  default none)             make cookie python 3 version use instead getheaders        usr bin env python        encoding  utf 8        vim  set et sw 4 ts 4 sts 4 ff unix fenc utf8     author  binux roy binux             http   binux    created 2014 12 14 09 07 11 ", "content": "#!/usr/bin/env python\n# -*- encoding: utf-8 -*-\n# vim: set et sw=4 ts=4 sts=4 ff=unix fenc=utf8:\n# Author: Binux<roy@binux.me>\n#         http://binux.me\n# Created on 2014-12-14 09:07:11\n\nfrom requests.cookies import MockRequest\n\n\nclass MockResponse(object):\n\n    def __init__(self, headers):\n        self._headers = headers\n\n    def info(self):\n        return self\n\n    def getheaders(self, name):\n        \"\"\"make cookie python 2 version use this method to get cookie list\"\"\"\n        return self._headers.get_list(name)\n\n    def get_all(self, name, default=None):\n        \"\"\"make cookie python 3 version use this instead of getheaders\"\"\"\n        if default is None:\n            default = []\n        return self._headers.get_list(name) or default\n\n\ndef extract_cookies_to_jar(jar, request, response):\n    req = MockRequest(request)\n    res = MockResponse(response)\n    jar.extract_cookies(res, req)\n", "description": "A Powerful Spider(Web Crawler) System in Python.", "file_name": "cookie_utils.py", "id": "e4ccf555d918a560090a85146781e42f", "language": "Python", "project_name": "pyspider", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/binux-pyspider/binux-pyspider-87337e7/pyspider/fetcher/cookie_utils.py", "save_time": "", "source": "", "update_at": "2018-03-18T13:53:12Z", "url": "https://github.com/binux/pyspider", "wiki": false}