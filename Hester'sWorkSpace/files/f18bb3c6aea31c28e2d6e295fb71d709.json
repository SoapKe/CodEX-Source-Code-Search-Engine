{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\n\nfrom datetime import datetime, timedelta\n\nfrom odoo.fields import Date\nfrom odoo.tests.common import TransactionCase\n\n\nclass TestPayslipBase(TransactionCase):\n\n    def setUp(self):\n        super(TestPayslipBase, self).setUp()\n\n        \n        self.hra_rule_id = self.ref('hr_payroll.hr_salary_rule_houserentallowance1')\n        self.conv_rule_id = self.ref('hr_payroll.hr_salary_rule_convanceallowance1')\n        self.prof_tax_rule_id = self.ref('hr_payroll.hr_salary_rule_professionaltax1')\n        self.pf_rule_id = self.ref('hr_payroll.hr_salary_rule_providentfund1')\n        self.mv_rule_id = self.ref('hr_payroll.hr_salary_rule_meal_voucher')\n        self.comm_rule_id = self.ref('hr_payroll.hr_salary_rule_sales_commission')\n\n        \n        self.richard_emp = self.env['hr.employee'].create({\n            'name': 'Richard',\n            'gender': 'male',\n            'birthday': '1984-05-01',\n            'country_id': self.ref('base.be'),\n            'department_id': self.ref('hr.dep_rd')\n        })\n\n        \n        self.developer_pay_structure = self.env['hr.payroll.structure'].create({\n            'name': 'Salary Structure for Software Developer',\n            'code': 'SD',\n            'company_id': self.ref('base.main_company'),\n            'rule_ids': [(4, self.hra_rule_id), (4, self.conv_rule_id),\n                         (4, self.prof_tax_rule_id), (4, self.pf_rule_id),\n                         (4, self.mv_rule_id), (4, self.comm_rule_id)],\n        })\n\n        \n        self.env['hr.contract'].create({\n            'date_end': Date.to_string((datetime.now() + timedelta(days=365))),\n            'date_start': Date.today(),\n            'name': 'Contract for Richard',\n            'wage': 5000.0,\n            'type_id': self.ref('hr_contract.hr_contract_type_emp'),\n            'employee_id': self.richard_emp.id,\n            'struct_id': self.developer_pay_structure.id,\n        })\n", "comments": "      coding  utf 8        part odoo  see license file full copyright licensing details     some salary rules references    i create new employee  richard     i create salary structure  software developer     i create contract  richard  ", "content": "# -*- coding: utf-8 -*-\n# Part of Odoo. See LICENSE file for full copyright and licensing details.\n\nfrom datetime import datetime, timedelta\n\nfrom odoo.fields import Date\nfrom odoo.tests.common import TransactionCase\n\n\nclass TestPayslipBase(TransactionCase):\n\n    def setUp(self):\n        super(TestPayslipBase, self).setUp()\n\n        # Some salary rules references\n        self.hra_rule_id = self.ref('hr_payroll.hr_salary_rule_houserentallowance1')\n        self.conv_rule_id = self.ref('hr_payroll.hr_salary_rule_convanceallowance1')\n        self.prof_tax_rule_id = self.ref('hr_payroll.hr_salary_rule_professionaltax1')\n        self.pf_rule_id = self.ref('hr_payroll.hr_salary_rule_providentfund1')\n        self.mv_rule_id = self.ref('hr_payroll.hr_salary_rule_meal_voucher')\n        self.comm_rule_id = self.ref('hr_payroll.hr_salary_rule_sales_commission')\n\n        # I create a new employee \"Richard\"\n        self.richard_emp = self.env['hr.employee'].create({\n            'name': 'Richard',\n            'gender': 'male',\n            'birthday': '1984-05-01',\n            'country_id': self.ref('base.be'),\n            'department_id': self.ref('hr.dep_rd')\n        })\n\n        # I create a salary structure for \"Software Developer\"\n        self.developer_pay_structure = self.env['hr.payroll.structure'].create({\n            'name': 'Salary Structure for Software Developer',\n            'code': 'SD',\n            'company_id': self.ref('base.main_company'),\n            'rule_ids': [(4, self.hra_rule_id), (4, self.conv_rule_id),\n                         (4, self.prof_tax_rule_id), (4, self.pf_rule_id),\n                         (4, self.mv_rule_id), (4, self.comm_rule_id)],\n        })\n\n        # I create a contract for \"Richard\"\n        self.env['hr.contract'].create({\n            'date_end': Date.to_string((datetime.now() + timedelta(days=365))),\n            'date_start': Date.today(),\n            'name': 'Contract for Richard',\n            'wage': 5000.0,\n            'type_id': self.ref('hr_contract.hr_contract_type_emp'),\n            'employee_id': self.richard_emp.id,\n            'struct_id': self.developer_pay_structure.id,\n        })\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "common.py", "id": "f18bb3c6aea31c28e2d6e295fb71d709", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/hr_payroll/tests/common.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}