{"author": "jakubroztocil", "code": "\n)\n", "comments": "CLI arguments definition.\n\nNOTE: the CLI interface may change before reaching v1.0.\n\n\"\"\"\n# noinspection PyCompatibility\nfrom argparse import (\n    RawDescriptionHelpFormatter, FileType,\n    OPTIONAL, ZERO_OR_MORE, SUPPRESS\n)\nfrom textwrap import dedent, wrap\n\nfrom httpie import __doc__, __version__\nfrom httpie.input import (\n    HTTPieArgumentParser, KeyValueArgType,\n    SEP_PROXY, SEP_GROUP_ALL_ITEMS,\n    OUT_REQ_HEAD, OUT_REQ_BODY, OUT_RESP_HEAD,\n    OUT_RESP_BODY, OUTPUT_OPTIONS,\n    OUTPUT_OPTIONS_DEFAULT, PRETTY_MAP,\n    PRETTY_STDOUT_TTY_ONLY, SessionNameValidator,\n    readable_file_arg, SSL_VERSION_ARG_MAPPING\n)\nfrom httpie.output.formatters.colors import AVAILABLE_STYLES, DEFAULT_STYLE, PRESET_STYLE\nfrom httpie.plugins import plugin_manager\nfrom httpie.plugins.builtin import BuiltinAuthPlugin\nfrom httpie.sessions import DEFAULT_SESSIONS_DIR\n\n\nclass HTTPieHelpFormatter(RawDescriptionHelpFormatter):\n    \"\"\"A nicer help formatter.\n\n    Help for arguments can be indented and contain new lines.\n    It will be de-dented and arguments in the help\n    will be separated by a blank line for better readability.\n\n\n    \"\"\"\n    def __init__(self, max_help_position=6, *args, **kwargs):\n        # A smaller indent for args help.\n        kwargs['max_help_position'] = max_help_position\n        super(HTTPieHelpFormatter, self).__init__(*args, **kwargs)\n\n    def _split_lines(self, text, width):\n        text = dedent(text).strip() + '\\n\\n'\n        return text.splitlines()\n\n\nparser = HTTPieArgumentParser(\n    formatter_class=HTTPieHelpFormatter,\n    description='%s <http://httpie.org>' % __doc__.strip(),\n    epilog=dedent(\"\"\"\n    For every --OPTION there is also a --no-OPTION that reverts OPTION\n    to its default value.\n\n    Suggestions and bug reports are greatly appreciated:\n\n        https://github.com/jakubroztocil/httpie/issues\n\n    \"\"\"),\n)\n\n\n#######################################################################\n# Positional arguments.\n#######################################################################\n\npositional = parser.add_argument_group(\n    title='Positional Arguments',\n    description=dedent(\"\"\"\n    These arguments come after any flags and in the order they are listed here.\n    Only URL is required.\n\n    \"\"\")\n)\npositional.add_argument(\n    'method',\n    metavar='METHOD',\n    nargs=OPTIONAL,\n    default=None,\n    help=\"\"\"\n    The HTTP method to be used for the request (GET, POST, PUT, DELETE, ...).\n\n    This argument can be omitted in which case HTTPie will use POST if there\n    is some data to be sent, otherwise GET:\n\n        $ http example.org               # => GET\n        $ http example.org hello=world   # => POST\n\n    \"\"\"\n)\npositional.add_argument(\n    'url',\n    metavar='URL',\n    help=\"\"\"\n    The scheme defaults to 'http://' if the URL does not include one.\n    (You can override this with: --default-scheme=https)\n\n    You can also use a shorthand for localhost\n\n        $ http :3000                    # => http://localhost:3000\n        $ http :/foo                    # => http://localhost/foo\n\n    \"\"\"\n)\npositional.add_argument(\n    'items',\n    metavar='REQUEST_ITEM',\n    nargs=ZERO_OR_MORE,\n    default=None,\n    type=KeyValueArgType(*SEP_GROUP_ALL_ITEMS),\n    help=r\"\"\"\n    Optional key-value pairs to be included in the request. The separator used\n    determines the type:\n\n    ':' HTTP headers:\n\n        Referer:http://httpie.org  Cookie:foo=bar  User-Agent:bacon/1.0\n\n    '==' URL parameters to be appended to the request URI:\n\n        search==httpie\n\n    '=' Data fields to be serialized into a JSON object (with --json, -j)\n        or form data (with --form, -f):\n\n        name=HTTPie  language=Python  description='CLI HTTP client'\n\n    ':=' Non-string JSON data fields (only with --json, -j):\n\n        awesome:=true  amount:=42  colors:='[\"red\", \"green\", \"blue\"]'\n\n    '@' Form file fields (only with --form, -f):\n\n        cs@~/Documents/CV.pdf\n\n    '=@' A data field like '=', but takes a file path and embeds its content:\n\n         essay=@Documents/essay.txt\n\n    ':=@' A raw JSON field like ':=', but takes a file path and embeds its content:\n\n        package:=@./package.json\n\n    You can use a backslash to escape a colliding separator in the field name:\n\n        field-name-with\\:colon=value\n\n    \"\"\"\n)\n\n\n#######################################################################\n# Content type.\n#######################################################################\n\ncontent_type = parser.add_argument_group(\n    title='Predefined Content Types',\n    description=None\n)\n\ncontent_type.add_argument(\n    '--json', '-j',\n    action='store_true',\n    help=\"\"\"\n    (default) Data items from the command line are serialized as a JSON object.\n    The Content-Type and Accept headers are set to application/json\n    (if not specified).\n\n    \"\"\"\n)\ncontent_type.add_argument(\n    '--form', '-f',\n    action='store_true',\n    help=\"\"\"\n    Data items from the command line are serialized as form fields.\n\n    The Content-Type is set to application/x-www-form-urlencoded (if not\n    specified). The presence of any file fields results in a\n    multipart/form-data request.\n\n    \"\"\"\n)\n\n\n#######################################################################\n# Output processing\n#######################################################################\n\noutput_processing = parser.add_argument_group(title='Output Processing')\n\noutput_processing.add_argument(\n    '--pretty',\n    dest='prettify',\n    default=PRETTY_STDOUT_TTY_ONLY,\n    choices=sorted(PRETTY_MAP.keys()),\n    help=\"\"\"\n    Controls output processing. The value can be \"none\" to not prettify\n    the output (default for redirected output), \"all\" to apply both colors\n    and formatting (default for terminal output), \"colors\", or \"format\".\n\n    \"\"\"\n)\noutput_processing.add_argument(\n    '--style', '-s',\n    dest='style',\n    metavar='STYLE',\n    default=DEFAULT_STYLE,\n    choices=AVAILABLE_STYLES,\n    help=\"\"\"\n    Output coloring style (default is \"{default}\"). One of:\n\n{available}\n\n    For this option to work properly, please make sure that the $TERM\n    environment variable is set to \"xterm-256color\" or similar\n    (e.g., via `export TERM=xterm-256color' in your ~/.bashrc).\n\n    \"\"\".format(\n        default=DEFAULT_STYLE,\n        available='\\n'.join(\n            '{0}{1}'.format(8 * ' ', line.strip())\n            for line in wrap(', '.join(sorted(AVAILABLE_STYLES)), 60)\n        ).rstrip(),\n    )\n)\n\n\n#######################################################################\n# Output options\n#######################################################################\noutput_options = parser.add_argument_group(title='Output Options')\n\noutput_options.add_argument(\n    '--print', '-p',\n    dest='output_options',\n    metavar='WHAT',\n    help=\"\"\"\n    String specifying what the output should contain:\n\n        '{req_head}' request headers\n        '{req_body}' request body\n        '{res_head}' response headers\n        '{res_body}' response body\n\n    The default behaviour is '{default}' (i.e., the response headers and body\n    is printed), if standard output is not redirected. If the output is piped\n    to another program or to a file, then only the response body is printed\n    by default.\n\n    \"\"\"\n    .format(\n        req_head=OUT_REQ_HEAD,\n        req_body=OUT_REQ_BODY,\n        res_head=OUT_RESP_HEAD,\n        res_body=OUT_RESP_BODY,\n        default=OUTPUT_OPTIONS_DEFAULT,\n    )\n)\noutput_options.add_argument(\n    '--headers', '-h',\n    dest='output_options',\n    action='store_const',\n    const=OUT_RESP_HEAD,\n    help=\"\"\"\n    Print only the response headers. Shortcut for --print={0}.\n\n    \"\"\"\n    .format(OUT_RESP_HEAD)\n)\noutput_options.add_argument(\n    '--body', '-b',\n    dest='output_options',\n    action='store_const',\n    const=OUT_RESP_BODY,\n    help=\"\"\"\n    Print only the response body. Shortcut for --print={0}.\n\n    \"\"\"\n    .format(OUT_RESP_BODY)\n)\n\noutput_options.add_argument(\n    '--verbose', '-v',\n    dest='verbose',\n    action='store_true',\n    help=\"\"\"\n    Verbose output. Print the whole request as well as the response. Also print\n    any intermediary requests/responses (such as redirects).\n    It's a shortcut for: --all --print={0}\n\n    \"\"\"\n    .format(''.join(OUTPUT_OPTIONS))\n)\noutput_options.add_argument(\n    '--all',\n    default=False,\n    action='store_true',\n    help=\"\"\"\n    By default, only the final request/response is shown. Use this flag to show\n    any intermediary requests/responses as well. Intermediary requests include\n    followed redirects (with --follow), the first unauthorized request when\n    Digest auth is used (--auth=digest), etc.\n\n    \"\"\"\n)\noutput_options.add_argument(\n    '--history-print', '-P',\n    dest='output_options_history',\n    metavar='WHAT',\n    help=\"\"\"\n    The same as --print, -p but applies only to intermediary requests/responses\n    (such as redirects) when their inclusion is enabled with --all. If this\n    options is not specified, then they are formatted the same way as the final\n    response.\n\n    \"\"\"\n)\noutput_options.add_argument(\n    '--stream', '-S',\n    action='store_true',\n    default=False,\n    help=\"\"\"\n    Always stream the output by line, i.e., behave like `tail -f'.\n\n    Without --stream and with --pretty (either set or implied),\n    HTTPie fetches the whole response before it outputs the processed data.\n\n    Set this option when you want to continuously display a prettified\n    long-lived response, such as one from the Twitter streaming API.\n\n    It is useful also without --pretty: It ensures that the output is flushed\n    more often and in smaller chunks.\n\n    \"\"\"\n)\noutput_options.add_argument(\n    '--output', '-o',\n    type=FileType('a+b'),\n    dest='output_file',\n    metavar='FILE',\n    help=\"\"\"\n    Save output to FILE instead of stdout. If --download is also set, then only\n    the response body is saved to FILE. Other parts of the HTTP exchange are\n    printed to stderr.\n\n    \"\"\"\n\n)\n\noutput_options.add_argument(\n    '--download', '-d',\n    action='store_true',\n    default=False,\n    help=\"\"\"\n    Do not print the response body to stdout. Rather, download it and store it\n    in a file. The filename is guessed unless specified with --output\n    [filename]. This action is similar to the default behaviour of wget.\n\n    \"\"\"\n)\n\noutput_options.add_argument(\n    '--continue', '-c',\n    dest='download_resume',\n    action='store_true',\n    default=False,\n    help=\"\"\"\n    Resume an interrupted download. Note that the --output option needs to be\n    specified as well.\n\n    \"\"\"\n)\n\n\n#######################################################################\n# Sessions\n#######################################################################\n\nsessions = parser.add_argument_group(title='Sessions')\\\n                 .add_mutually_exclusive_group(required=False)\n\nsession_name_validator = SessionNameValidator(\n    'Session name contains invalid characters.'\n)\n\nsessions.add_argument(\n    '--session',\n    metavar='SESSION_NAME_OR_PATH',\n    type=session_name_validator,\n    help=\"\"\"\n    Create, or reuse and update a session. Within a session, custom headers,\n    auth credential, as well as any cookies sent by the server persist between\n    requests.\n\n    Session files are stored in:\n\n        {session_dir}/<HOST>/<SESSION_NAME>.json.\n\n    \"\"\"\n    .format(session_dir=DEFAULT_SESSIONS_DIR)\n)\nsessions.add_argument(\n    '--session-read-only',\n    metavar='SESSION_NAME_OR_PATH',\n    type=session_name_validator,\n    help=\"\"\"\n    Create or read a session without updating it form the request/response\n    exchange.\n\n    \"\"\"\n)\n\n#######################################################################\n# Authentication\n#######################################################################\n\n# ``requests.request`` keyword arguments.\nauth = parser.add_argument_group(title='Authentication')\nauth.add_argument(\n    '--auth', '-a',\n    default=None,\n    metavar='USER[:PASS]',\n    help=\"\"\"\n    If only the username is provided (-a username), HTTPie will prompt\n    for the password.\n\n    \"\"\",\n)\n\n\nclass _AuthTypeLazyChoices(object):\n    # Needed for plugin testing\n\n    def __contains__(self, item):\n        return item in plugin_manager.get_auth_plugin_mapping()\n\n    def __iter__(self):\n        return iter(sorted(plugin_manager.get_auth_plugin_mapping().keys()))\n\n\n_auth_plugins = plugin_manager.get_auth_plugins()\nauth.add_argument(\n    '--auth-type', '-A',\n    choices=_AuthTypeLazyChoices(),\n    default=None,\n    help=\"\"\"\n    The authentication mechanism to be used. Defaults to \"{default}\".\n\n    {types}\n\n    \"\"\"\n    .format(default=_auth_plugins[0].auth_type, types='\\n    '.join(\n        '\"{type}\": {name}{package}{description}'.format(\n            type=plugin.auth_type,\n            name=plugin.name,\n            package=(\n                '' if issubclass(plugin, BuiltinAuthPlugin)\n                else ' (provided by %s)' % plugin.package_name\n            ),\n            description=(\n                '' if not plugin.description else\n                '\\n      ' + ('\\n      '.join(wrap(plugin.description)))\n            )\n        )\n        for plugin in _auth_plugins\n    )),\n)\n\n\n#######################################################################\n# Network\n#######################################################################\n\nnetwork = parser.add_argument_group(title='Network')\n\nnetwork.add_argument(\n    '--proxy',\n    default=[],\n    action='append',\n    metavar='PROTOCOL:PROXY_URL',\n    type=KeyValueArgType(SEP_PROXY),\n    help=\"\"\"\n    String mapping protocol to the URL of the proxy\n    (e.g. http:http://foo.bar:3128). You can specify multiple proxies with\n    different protocols.\n\n    \"\"\"\n)\nnetwork.add_argument(\n    '--follow', '-F',\n    default=False,\n    action='store_true',\n    help=\"\"\"\n    Follow 30x Location redirects.\n\n    \"\"\"\n)\n\nnetwork.add_argument(\n    '--max-redirects',\n    type=int,\n    default=30,\n    help=\"\"\"\n    By default, requests have a limit of 30 redirects (works with --follow).\n\n    \"\"\"\n)\n\nnetwork.add_argument(\n    '--timeout',\n    type=float,\n    default=30,\n    metavar='SECONDS',\n    help=\"\"\"\n    The connection timeout of the request in seconds. The default value is\n    30 seconds.\n\n    \"\"\"\n)\nnetwork.add_argument(\n    '--check-status',\n    default=False,\n    action='store_true',\n    help=\"\"\"\n    By default, HTTPie exits with 0 when no network or other fatal errors\n    occur. This flag instructs HTTPie to also check the HTTP status code and\n    exit with an error if the status indicates one.\n\n    When the server replies with a 4xx (Client Error) or 5xx (Server Error)\n    status code, HTTPie exits with 4 or 5 respectively. If the response is a\n    3xx (Redirect) and --follow hasn't been set, then the exit status is 3.\n    Also an error message is written to stderr if stdout is redirected.\n\n    \"\"\"\n)\n\n\n#######################################################################\n# SSL\n#######################################################################\n\nssl = parser.add_argument_group(title='SSL')\nssl.add_argument(\n    '--verify',\n    default='yes',\n    help=\"\"\"\n    Set to \"no\" (or \"false\") to skip checking the host's SSL certificate.\n    Defaults to \"yes\" (\"true\"). You can also pass the path to a CA_BUNDLE file\n    for private certs. (Or you can set the REQUESTS_CA_BUNDLE environment\n    variable instead.)\n    \"\"\"\n)\nssl.add_argument(\n    '--ssl',  # TODO: Maybe something more general, such as --secure-protocol?\n    dest='ssl_version',\n    choices=list(sorted(SSL_VERSION_ARG_MAPPING.keys())),\n    help=\"\"\"\n    The desired protocol version to use. This will default to\n    SSL v2.3 which will negotiate the highest protocol that both\n    the server and your installation of OpenSSL support. Available protocols\n    may vary depending on OpenSSL installation (only the supported ones\n    are shown here).\n\n    \"\"\"\n)\nssl.add_argument(\n    '--cert',\n    default=None,\n    type=readable_file_arg,\n    help=\"\"\"\n    You can specify a local cert to use as client side SSL certificate.\n    This file may either contain both private key and certificate or you may\n    specify --cert-key separately.\n\n    \"\"\"\n)\n\nssl.add_argument(\n    '--cert-key',\n    default=None,\n    type=readable_file_arg,\n    help=\"\"\"\n    The private key to use with SSL. Only needed if --cert is given and the\n    certificate file does not contain the private key.\n\n    \"\"\"\n)\n\n#######################################################################\n# Troubleshooting\n#######################################################################\n\ntroubleshooting = parser.add_argument_group(title='Troubleshooting')\n\ntroubleshooting.add_argument(\n    '--ignore-stdin', '-I',\n    action='store_true',\n    default=False,\n    help=\"\"\"\n    Do not attempt to read stdin.\n\n    \"\"\"\n)\ntroubleshooting.add_argument(\n    '--help',\n    action='help',\n    default=SUPPRESS,\n    help=\"\"\"\n    Show this help message and exit.\n\n    \"\"\"\n)\ntroubleshooting.add_argument(\n    '--version',\n    action='version',\n    version=__version__,\n    help=\"\"\"\n    Show version and exit.\n\n    \"\"\"\n)\ntroubleshooting.add_argument(\n    '--traceback',\n    action='store_true',\n    default=False,\n    help=\"\"\"\n    Prints the exception traceback should one occur.\n\n    \"\"\"\n)\ntroubleshooting.add_argument(\n    '--default-scheme',\n    default=\"http\",\n    help=\"\"\"\n    The default scheme to use if not specified in the URL.\n\n    \"\"\"\n)\ntroubleshooting.add_argument(\n    '--debug',\n    action='store_true',\n    default=False,\n    help=\"\"\"\n    Prints the exception traceback should one occur, as well as other\n    information useful for debugging HTTPie itself and for reporting bugs.\n\n    \n \n", "content": "\"\"\"CLI arguments definition.\n\nNOTE: the CLI interface may change before reaching v1.0.\n\n\"\"\"\n# noinspection PyCompatibility\nfrom argparse import (\n    RawDescriptionHelpFormatter, FileType,\n    OPTIONAL, ZERO_OR_MORE, SUPPRESS\n)\nfrom textwrap import dedent, wrap\n\nfrom httpie import __doc__, __version__\nfrom httpie.input import (\n    HTTPieArgumentParser, KeyValueArgType,\n    SEP_PROXY, SEP_GROUP_ALL_ITEMS,\n    OUT_REQ_HEAD, OUT_REQ_BODY, OUT_RESP_HEAD,\n    OUT_RESP_BODY, OUTPUT_OPTIONS,\n    OUTPUT_OPTIONS_DEFAULT, PRETTY_MAP,\n    PRETTY_STDOUT_TTY_ONLY, SessionNameValidator,\n    readable_file_arg, SSL_VERSION_ARG_MAPPING\n)\nfrom httpie.output.formatters.colors import AVAILABLE_STYLES, DEFAULT_STYLE, PRESET_STYLE\nfrom httpie.plugins import plugin_manager\nfrom httpie.plugins.builtin import BuiltinAuthPlugin\nfrom httpie.sessions import DEFAULT_SESSIONS_DIR\n\n\nclass HTTPieHelpFormatter(RawDescriptionHelpFormatter):\n    \"\"\"A nicer help formatter.\n\n    Help for arguments can be indented and contain new lines.\n    It will be de-dented and arguments in the help\n    will be separated by a blank line for better readability.\n\n\n    \"\"\"\n    def __init__(self, max_help_position=6, *args, **kwargs):\n        # A smaller indent for args help.\n        kwargs['max_help_position'] = max_help_position\n        super(HTTPieHelpFormatter, self).__init__(*args, **kwargs)\n\n    def _split_lines(self, text, width):\n        text = dedent(text).strip() + '\\n\\n'\n        return text.splitlines()\n\n\nparser = HTTPieArgumentParser(\n    formatter_class=HTTPieHelpFormatter,\n    description='%s <http://httpie.org>' % __doc__.strip(),\n    epilog=dedent(\"\"\"\n    For every --OPTION there is also a --no-OPTION that reverts OPTION\n    to its default value.\n\n    Suggestions and bug reports are greatly appreciated:\n\n        https://github.com/jakubroztocil/httpie/issues\n\n    \"\"\"),\n)\n\n\n#######################################################################\n# Positional arguments.\n#######################################################################\n\npositional = parser.add_argument_group(\n    title='Positional Arguments',\n    description=dedent(\"\"\"\n    These arguments come after any flags and in the order they are listed here.\n    Only URL is required.\n\n    \"\"\")\n)\npositional.add_argument(\n    'method',\n    metavar='METHOD',\n    nargs=OPTIONAL,\n    default=None,\n    help=\"\"\"\n    The HTTP method to be used for the request (GET, POST, PUT, DELETE, ...).\n\n    This argument can be omitted in which case HTTPie will use POST if there\n    is some data to be sent, otherwise GET:\n\n        $ http example.org               # => GET\n        $ http example.org hello=world   # => POST\n\n    \"\"\"\n)\npositional.add_argument(\n    'url',\n    metavar='URL',\n    help=\"\"\"\n    The scheme defaults to 'http://' if the URL does not include one.\n    (You can override this with: --default-scheme=https)\n\n    You can also use a shorthand for localhost\n\n        $ http :3000                    # => http://localhost:3000\n        $ http :/foo                    # => http://localhost/foo\n\n    \"\"\"\n)\npositional.add_argument(\n    'items',\n    metavar='REQUEST_ITEM',\n    nargs=ZERO_OR_MORE,\n    default=None,\n    type=KeyValueArgType(*SEP_GROUP_ALL_ITEMS),\n    help=r\"\"\"\n    Optional key-value pairs to be included in the request. The separator used\n    determines the type:\n\n    ':' HTTP headers:\n\n        Referer:http://httpie.org  Cookie:foo=bar  User-Agent:bacon/1.0\n\n    '==' URL parameters to be appended to the request URI:\n\n        search==httpie\n\n    '=' Data fields to be serialized into a JSON object (with --json, -j)\n        or form data (with --form, -f):\n\n        name=HTTPie  language=Python  description='CLI HTTP client'\n\n    ':=' Non-string JSON data fields (only with --json, -j):\n\n        awesome:=true  amount:=42  colors:='[\"red\", \"green\", \"blue\"]'\n\n    '@' Form file fields (only with --form, -f):\n\n        cs@~/Documents/CV.pdf\n\n    '=@' A data field like '=', but takes a file path and embeds its content:\n\n         essay=@Documents/essay.txt\n\n    ':=@' A raw JSON field like ':=', but takes a file path and embeds its content:\n\n        package:=@./package.json\n\n    You can use a backslash to escape a colliding separator in the field name:\n\n        field-name-with\\:colon=value\n\n    \"\"\"\n)\n\n\n#######################################################################\n# Content type.\n#######################################################################\n\ncontent_type = parser.add_argument_group(\n    title='Predefined Content Types',\n    description=None\n)\n\ncontent_type.add_argument(\n    '--json', '-j',\n    action='store_true',\n    help=\"\"\"\n    (default) Data items from the command line are serialized as a JSON object.\n    The Content-Type and Accept headers are set to application/json\n    (if not specified).\n\n    \"\"\"\n)\ncontent_type.add_argument(\n    '--form', '-f',\n    action='store_true',\n    help=\"\"\"\n    Data items from the command line are serialized as form fields.\n\n    The Content-Type is set to application/x-www-form-urlencoded (if not\n    specified). The presence of any file fields results in a\n    multipart/form-data request.\n\n    \"\"\"\n)\n\n\n#######################################################################\n# Output processing\n#######################################################################\n\noutput_processing = parser.add_argument_group(title='Output Processing')\n\noutput_processing.add_argument(\n    '--pretty',\n    dest='prettify',\n    default=PRETTY_STDOUT_TTY_ONLY,\n    choices=sorted(PRETTY_MAP.keys()),\n    help=\"\"\"\n    Controls output processing. The value can be \"none\" to not prettify\n    the output (default for redirected output), \"all\" to apply both colors\n    and formatting (default for terminal output), \"colors\", or \"format\".\n\n    \"\"\"\n)\noutput_processing.add_argument(\n    '--style', '-s',\n    dest='style',\n    metavar='STYLE',\n    default=DEFAULT_STYLE,\n    choices=AVAILABLE_STYLES,\n    help=\"\"\"\n    Output coloring style (default is \"{default}\"). One of:\n\n{available}\n\n    For this option to work properly, please make sure that the $TERM\n    environment variable is set to \"xterm-256color\" or similar\n    (e.g., via `export TERM=xterm-256color' in your ~/.bashrc).\n\n    \"\"\".format(\n        default=DEFAULT_STYLE,\n        available='\\n'.join(\n            '{0}{1}'.format(8 * ' ', line.strip())\n            for line in wrap(', '.join(sorted(AVAILABLE_STYLES)), 60)\n        ).rstrip(),\n    )\n)\n\n\n#######################################################################\n# Output options\n#######################################################################\noutput_options = parser.add_argument_group(title='Output Options')\n\noutput_options.add_argument(\n    '--print', '-p',\n    dest='output_options',\n    metavar='WHAT',\n    help=\"\"\"\n    String specifying what the output should contain:\n\n        '{req_head}' request headers\n        '{req_body}' request body\n        '{res_head}' response headers\n        '{res_body}' response body\n\n    The default behaviour is '{default}' (i.e., the response headers and body\n    is printed), if standard output is not redirected. If the output is piped\n    to another program or to a file, then only the response body is printed\n    by default.\n\n    \"\"\"\n    .format(\n        req_head=OUT_REQ_HEAD,\n        req_body=OUT_REQ_BODY,\n        res_head=OUT_RESP_HEAD,\n        res_body=OUT_RESP_BODY,\n        default=OUTPUT_OPTIONS_DEFAULT,\n    )\n)\noutput_options.add_argument(\n    '--headers', '-h',\n    dest='output_options',\n    action='store_const',\n    const=OUT_RESP_HEAD,\n    help=\"\"\"\n    Print only the response headers. Shortcut for --print={0}.\n\n    \"\"\"\n    .format(OUT_RESP_HEAD)\n)\noutput_options.add_argument(\n    '--body', '-b',\n    dest='output_options',\n    action='store_const',\n    const=OUT_RESP_BODY,\n    help=\"\"\"\n    Print only the response body. Shortcut for --print={0}.\n\n    \"\"\"\n    .format(OUT_RESP_BODY)\n)\n\noutput_options.add_argument(\n    '--verbose', '-v',\n    dest='verbose',\n    action='store_true',\n    help=\"\"\"\n    Verbose output. Print the whole request as well as the response. Also print\n    any intermediary requests/responses (such as redirects).\n    It's a shortcut for: --all --print={0}\n\n    \"\"\"\n    .format(''.join(OUTPUT_OPTIONS))\n)\noutput_options.add_argument(\n    '--all',\n    default=False,\n    action='store_true',\n    help=\"\"\"\n    By default, only the final request/response is shown. Use this flag to show\n    any intermediary requests/responses as well. Intermediary requests include\n    followed redirects (with --follow), the first unauthorized request when\n    Digest auth is used (--auth=digest), etc.\n\n    \"\"\"\n)\noutput_options.add_argument(\n    '--history-print', '-P',\n    dest='output_options_history',\n    metavar='WHAT',\n    help=\"\"\"\n    The same as --print, -p but applies only to intermediary requests/responses\n    (such as redirects) when their inclusion is enabled with --all. If this\n    options is not specified, then they are formatted the same way as the final\n    response.\n\n    \"\"\"\n)\noutput_options.add_argument(\n    '--stream', '-S',\n    action='store_true',\n    default=False,\n    help=\"\"\"\n    Always stream the output by line, i.e., behave like `tail -f'.\n\n    Without --stream and with --pretty (either set or implied),\n    HTTPie fetches the whole response before it outputs the processed data.\n\n    Set this option when you want to continuously display a prettified\n    long-lived response, such as one from the Twitter streaming API.\n\n    It is useful also without --pretty: It ensures that the output is flushed\n    more often and in smaller chunks.\n\n    \"\"\"\n)\noutput_options.add_argument(\n    '--output', '-o',\n    type=FileType('a+b'),\n    dest='output_file',\n    metavar='FILE',\n    help=\"\"\"\n    Save output to FILE instead of stdout. If --download is also set, then only\n    the response body is saved to FILE. Other parts of the HTTP exchange are\n    printed to stderr.\n\n    \"\"\"\n\n)\n\noutput_options.add_argument(\n    '--download', '-d',\n    action='store_true',\n    default=False,\n    help=\"\"\"\n    Do not print the response body to stdout. Rather, download it and store it\n    in a file. The filename is guessed unless specified with --output\n    [filename]. This action is similar to the default behaviour of wget.\n\n    \"\"\"\n)\n\noutput_options.add_argument(\n    '--continue', '-c',\n    dest='download_resume',\n    action='store_true',\n    default=False,\n    help=\"\"\"\n    Resume an interrupted download. Note that the --output option needs to be\n    specified as well.\n\n    \"\"\"\n)\n\n\n#######################################################################\n# Sessions\n#######################################################################\n\nsessions = parser.add_argument_group(title='Sessions')\\\n                 .add_mutually_exclusive_group(required=False)\n\nsession_name_validator = SessionNameValidator(\n    'Session name contains invalid characters.'\n)\n\nsessions.add_argument(\n    '--session',\n    metavar='SESSION_NAME_OR_PATH',\n    type=session_name_validator,\n    help=\"\"\"\n    Create, or reuse and update a session. Within a session, custom headers,\n    auth credential, as well as any cookies sent by the server persist between\n    requests.\n\n    Session files are stored in:\n\n        {session_dir}/<HOST>/<SESSION_NAME>.json.\n\n    \"\"\"\n    .format(session_dir=DEFAULT_SESSIONS_DIR)\n)\nsessions.add_argument(\n    '--session-read-only',\n    metavar='SESSION_NAME_OR_PATH',\n    type=session_name_validator,\n    help=\"\"\"\n    Create or read a session without updating it form the request/response\n    exchange.\n\n    \"\"\"\n)\n\n#######################################################################\n# Authentication\n#######################################################################\n\n# ``requests.request`` keyword arguments.\nauth = parser.add_argument_group(title='Authentication')\nauth.add_argument(\n    '--auth', '-a',\n    default=None,\n    metavar='USER[:PASS]',\n    help=\"\"\"\n    If only the username is provided (-a username), HTTPie will prompt\n    for the password.\n\n    \"\"\",\n)\n\n\nclass _AuthTypeLazyChoices(object):\n    # Needed for plugin testing\n\n    def __contains__(self, item):\n        return item in plugin_manager.get_auth_plugin_mapping()\n\n    def __iter__(self):\n        return iter(sorted(plugin_manager.get_auth_plugin_mapping().keys()))\n\n\n_auth_plugins = plugin_manager.get_auth_plugins()\nauth.add_argument(\n    '--auth-type', '-A',\n    choices=_AuthTypeLazyChoices(),\n    default=None,\n    help=\"\"\"\n    The authentication mechanism to be used. Defaults to \"{default}\".\n\n    {types}\n\n    \"\"\"\n    .format(default=_auth_plugins[0].auth_type, types='\\n    '.join(\n        '\"{type}\": {name}{package}{description}'.format(\n            type=plugin.auth_type,\n            name=plugin.name,\n            package=(\n                '' if issubclass(plugin, BuiltinAuthPlugin)\n                else ' (provided by %s)' % plugin.package_name\n            ),\n            description=(\n                '' if not plugin.description else\n                '\\n      ' + ('\\n      '.join(wrap(plugin.description)))\n            )\n        )\n        for plugin in _auth_plugins\n    )),\n)\n\n\n#######################################################################\n# Network\n#######################################################################\n\nnetwork = parser.add_argument_group(title='Network')\n\nnetwork.add_argument(\n    '--proxy',\n    default=[],\n    action='append',\n    metavar='PROTOCOL:PROXY_URL',\n    type=KeyValueArgType(SEP_PROXY),\n    help=\"\"\"\n    String mapping protocol to the URL of the proxy\n    (e.g. http:http://foo.bar:3128). You can specify multiple proxies with\n    different protocols.\n\n    \"\"\"\n)\nnetwork.add_argument(\n    '--follow', '-F',\n    default=False,\n    action='store_true',\n    help=\"\"\"\n    Follow 30x Location redirects.\n\n    \"\"\"\n)\n\nnetwork.add_argument(\n    '--max-redirects',\n    type=int,\n    default=30,\n    help=\"\"\"\n    By default, requests have a limit of 30 redirects (works with --follow).\n\n    \"\"\"\n)\n\nnetwork.add_argument(\n    '--timeout',\n    type=float,\n    default=30,\n    metavar='SECONDS',\n    help=\"\"\"\n    The connection timeout of the request in seconds. The default value is\n    30 seconds.\n\n    \"\"\"\n)\nnetwork.add_argument(\n    '--check-status',\n    default=False,\n    action='store_true',\n    help=\"\"\"\n    By default, HTTPie exits with 0 when no network or other fatal errors\n    occur. This flag instructs HTTPie to also check the HTTP status code and\n    exit with an error if the status indicates one.\n\n    When the server replies with a 4xx (Client Error) or 5xx (Server Error)\n    status code, HTTPie exits with 4 or 5 respectively. If the response is a\n    3xx (Redirect) and --follow hasn't been set, then the exit status is 3.\n    Also an error message is written to stderr if stdout is redirected.\n\n    \"\"\"\n)\n\n\n#######################################################################\n# SSL\n#######################################################################\n\nssl = parser.add_argument_group(title='SSL')\nssl.add_argument(\n    '--verify',\n    default='yes',\n    help=\"\"\"\n    Set to \"no\" (or \"false\") to skip checking the host's SSL certificate.\n    Defaults to \"yes\" (\"true\"). You can also pass the path to a CA_BUNDLE file\n    for private certs. (Or you can set the REQUESTS_CA_BUNDLE environment\n    variable instead.)\n    \"\"\"\n)\nssl.add_argument(\n    '--ssl',  # TODO: Maybe something more general, such as --secure-protocol?\n    dest='ssl_version',\n    choices=list(sorted(SSL_VERSION_ARG_MAPPING.keys())),\n    help=\"\"\"\n    The desired protocol version to use. This will default to\n    SSL v2.3 which will negotiate the highest protocol that both\n    the server and your installation of OpenSSL support. Available protocols\n    may vary depending on OpenSSL installation (only the supported ones\n    are shown here).\n\n    \"\"\"\n)\nssl.add_argument(\n    '--cert',\n    default=None,\n    type=readable_file_arg,\n    help=\"\"\"\n    You can specify a local cert to use as client side SSL certificate.\n    This file may either contain both private key and certificate or you may\n    specify --cert-key separately.\n\n    \"\"\"\n)\n\nssl.add_argument(\n    '--cert-key',\n    default=None,\n    type=readable_file_arg,\n    help=\"\"\"\n    The private key to use with SSL. Only needed if --cert is given and the\n    certificate file does not contain the private key.\n\n    \"\"\"\n)\n\n#######################################################################\n# Troubleshooting\n#######################################################################\n\ntroubleshooting = parser.add_argument_group(title='Troubleshooting')\n\ntroubleshooting.add_argument(\n    '--ignore-stdin', '-I',\n    action='store_true',\n    default=False,\n    help=\"\"\"\n    Do not attempt to read stdin.\n\n    \"\"\"\n)\ntroubleshooting.add_argument(\n    '--help',\n    action='help',\n    default=SUPPRESS,\n    help=\"\"\"\n    Show this help message and exit.\n\n    \"\"\"\n)\ntroubleshooting.add_argument(\n    '--version',\n    action='version',\n    version=__version__,\n    help=\"\"\"\n    Show version and exit.\n\n    \"\"\"\n)\ntroubleshooting.add_argument(\n    '--traceback',\n    action='store_true',\n    default=False,\n    help=\"\"\"\n    Prints the exception traceback should one occur.\n\n    \"\"\"\n)\ntroubleshooting.add_argument(\n    '--default-scheme',\n    default=\"http\",\n    help=\"\"\"\n    The default scheme to use if not specified in the URL.\n\n    \"\"\"\n)\ntroubleshooting.add_argument(\n    '--debug',\n    action='store_true',\n    default=False,\n    help=\"\"\"\n    Prints the exception traceback should one occur, as well as other\n    information useful for debugging HTTPie itself and for reporting bugs.\n\n    \"\"\"\n)\n", "description": "Modern command line HTTP client \u2013 user-friendly curl alternative with intuitive UI, JSON support, syntax highlighting, wget-like downloads, extensions, etc.  https://httpie.org", "file_name": "cli.py", "language": "Python", "project_name": "httpie", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/jakubroztocil_httpie/jakubroztocil-httpie-0f4dce9/httpie/cli.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:20:06Z", "url": "https://github.com/jakubroztocil/httpie", "wiki": false}