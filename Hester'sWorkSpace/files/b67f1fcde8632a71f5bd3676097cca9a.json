{"author": "rg3", "code": "\nfrom __future__ import unicode_literals\n\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import unified_strdate\n\n\nclass LibsynIE(InfoExtractor):\n    _VALID_URL = r'(?P<mainurl>https?://html5-player\\.libsyn\\.com/embed/episode/id/(?P<id>[0-9]+))'\n\n    _TESTS = [{\n        'url': 'http://html5-player.libsyn.com/embed/episode/id/3377616/',\n        'md5': '443360ee1b58007bc3dcf09b41d093bb',\n        'info_dict': {\n            'id': '3377616',\n            'ext': 'mp3',\n            'title': \"The Daily Show Podcast without Jon Stewart - Episode 12: Bassem Youssef: Egypt's Jon Stewart\",\n            'description': 'md5:601cb790edd05908957dae8aaa866465',\n            'upload_date': '20150220',\n            'thumbnail': 're:^https?://.*',\n        },\n    }, {\n        'url': 'https://html5-player.libsyn.com/embed/episode/id/3727166/height/75/width/200/theme/standard/direction/no/autoplay/no/autonext/no/thumbnail/no/preload/no/no_addthis/no/',\n        'md5': '6c5cb21acd622d754d3b1a92b582ce42',\n        'info_dict': {\n            'id': '3727166',\n            'ext': 'mp3',\n            'title': 'Clients From Hell Podcast - How a Sex Toy Company Kickstarted my Freelance Career',\n            'upload_date': '20150818',\n            'thumbnail': 're:^https?://.*',\n        }\n    }]\n\n    def _real_extract(self, url):\n        m = re.match(self._VALID_URL, url)\n        video_id = m.group('id')\n        url = m.group('mainurl')\n        webpage = self._download_webpage(url, video_id)\n\n        formats = [{\n            'url': media_url,\n        } for media_url in set(re.findall(r'var\\s+mediaURL(?:Libsyn)?\\s*=\\s*\"([^\"]+)\"', webpage))]\n\n        podcast_title = self._search_regex(\n            r'<h2>([^<]+)</h2>', webpage, 'podcast title', default=None)\n        episode_title = self._search_regex(\n            r'(?:<div class=\"episode-title\">|<h3>)([^<]+)</', webpage, 'episode title')\n\n        title = '%s - %s' % (podcast_title, episode_title) if podcast_title else episode_title\n\n        description = self._html_search_regex(\n            r'<div id=\"info_text_body\">(.+?)</div>', webpage,\n            'description', default=None)\n        thumbnail = self._search_regex(\n            r'<img[^>]+class=\"info-show-icon\"[^>]+src=\"([^\"]+)\"',\n            webpage, 'thumbnail', fatal=False)\n        release_date = unified_strdate(self._search_regex(\n            r'<div class=\"release_date\">Released: ([^<]+)<', webpage, 'release date', fatal=False))\n\n        return {\n            'id': video_id,\n            'title': title,\n            'description': description,\n            'thumbnail': thumbnail,\n            'upload_date': release_date,\n            'formats': formats,\n        }\n", "comments": "# coding: utf-8\n", "content": "# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import unified_strdate\n\n\nclass LibsynIE(InfoExtractor):\n    _VALID_URL = r'(?P<mainurl>https?://html5-player\\.libsyn\\.com/embed/episode/id/(?P<id>[0-9]+))'\n\n    _TESTS = [{\n        'url': 'http://html5-player.libsyn.com/embed/episode/id/3377616/',\n        'md5': '443360ee1b58007bc3dcf09b41d093bb',\n        'info_dict': {\n            'id': '3377616',\n            'ext': 'mp3',\n            'title': \"The Daily Show Podcast without Jon Stewart - Episode 12: Bassem Youssef: Egypt's Jon Stewart\",\n            'description': 'md5:601cb790edd05908957dae8aaa866465',\n            'upload_date': '20150220',\n            'thumbnail': 're:^https?://.*',\n        },\n    }, {\n        'url': 'https://html5-player.libsyn.com/embed/episode/id/3727166/height/75/width/200/theme/standard/direction/no/autoplay/no/autonext/no/thumbnail/no/preload/no/no_addthis/no/',\n        'md5': '6c5cb21acd622d754d3b1a92b582ce42',\n        'info_dict': {\n            'id': '3727166',\n            'ext': 'mp3',\n            'title': 'Clients From Hell Podcast - How a Sex Toy Company Kickstarted my Freelance Career',\n            'upload_date': '20150818',\n            'thumbnail': 're:^https?://.*',\n        }\n    }]\n\n    def _real_extract(self, url):\n        m = re.match(self._VALID_URL, url)\n        video_id = m.group('id')\n        url = m.group('mainurl')\n        webpage = self._download_webpage(url, video_id)\n\n        formats = [{\n            'url': media_url,\n        } for media_url in set(re.findall(r'var\\s+mediaURL(?:Libsyn)?\\s*=\\s*\"([^\"]+)\"', webpage))]\n\n        podcast_title = self._search_regex(\n            r'<h2>([^<]+)</h2>', webpage, 'podcast title', default=None)\n        episode_title = self._search_regex(\n            r'(?:<div class=\"episode-title\">|<h3>)([^<]+)</', webpage, 'episode title')\n\n        title = '%s - %s' % (podcast_title, episode_title) if podcast_title else episode_title\n\n        description = self._html_search_regex(\n            r'<div id=\"info_text_body\">(.+?)</div>', webpage,\n            'description', default=None)\n        thumbnail = self._search_regex(\n            r'<img[^>]+class=\"info-show-icon\"[^>]+src=\"([^\"]+)\"',\n            webpage, 'thumbnail', fatal=False)\n        release_date = unified_strdate(self._search_regex(\n            r'<div class=\"release_date\">Released: ([^<]+)<', webpage, 'release date', fatal=False))\n\n        return {\n            'id': video_id,\n            'title': title,\n            'description': description,\n            'thumbnail': thumbnail,\n            'upload_date': release_date,\n            'formats': formats,\n        }\n", "description": "Command-line program to download videos from YouTube.com and other video sites", "file_name": "libsyn.py", "language": "Python", "project_name": "youtube-dl", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/rg3_youtube-dl/rg3-youtube-dl-6202f08/youtube_dl/extractor/libsyn.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:18:39Z", "url": "https://github.com/rg3/youtube-dl", "wiki": false}