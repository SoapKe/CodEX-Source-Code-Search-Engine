{"author": "littlecodersh", "code": "import logging\n\nclass LogSystem(object):\n    handlerList = []\n    showOnCmd = True\n    loggingLevel = logging.INFO\n    loggingFile = None\n    def __init__(self):\n        self.logger = logging.getLogger('itchat')\n        self.logger.addHandler(logging.NullHandler())\n        self.logger.setLevel(self.loggingLevel)\n        self.cmdHandler = logging.StreamHandler()\n        self.fileHandler = None\n        self.logger.addHandler(self.cmdHandler)\n    def set_logging(self, showOnCmd=True, loggingFile=None,\n            loggingLevel=logging.INFO):\n        if showOnCmd != self.showOnCmd:\n            if showOnCmd:\n                self.logger.addHandler(self.cmdHandler)\n            else:\n                self.logger.removeHandler(self.cmdHandler)\n            self.showOnCmd = showOnCmd\n        if loggingFile != self.loggingFile:\n            if self.loggingFile is not None: \n                self.logger.removeHandler(self.fileHandler)\n                self.fileHandler.close()\n            if loggingFile is not None: \n                self.fileHandler = logging.FileHandler(loggingFile)\n                self.logger.addHandler(self.fileHandler)\n            self.loggingFile = loggingFile\n        if loggingLevel != self.loggingLevel:\n            self.logger.setLevel(loggingLevel)\n            self.loggingLevel = loggingLevel\n\nls = LogSystem()\nset_logging = ls.set_logging\n", "comments": "  clear old filehandler    add new filehandler ", "content": "import logging\n\nclass LogSystem(object):\n    handlerList = []\n    showOnCmd = True\n    loggingLevel = logging.INFO\n    loggingFile = None\n    def __init__(self):\n        self.logger = logging.getLogger('itchat')\n        self.logger.addHandler(logging.NullHandler())\n        self.logger.setLevel(self.loggingLevel)\n        self.cmdHandler = logging.StreamHandler()\n        self.fileHandler = None\n        self.logger.addHandler(self.cmdHandler)\n    def set_logging(self, showOnCmd=True, loggingFile=None,\n            loggingLevel=logging.INFO):\n        if showOnCmd != self.showOnCmd:\n            if showOnCmd:\n                self.logger.addHandler(self.cmdHandler)\n            else:\n                self.logger.removeHandler(self.cmdHandler)\n            self.showOnCmd = showOnCmd\n        if loggingFile != self.loggingFile:\n            if self.loggingFile is not None: # clear old fileHandler\n                self.logger.removeHandler(self.fileHandler)\n                self.fileHandler.close()\n            if loggingFile is not None: # add new fileHandler\n                self.fileHandler = logging.FileHandler(loggingFile)\n                self.logger.addHandler(self.fileHandler)\n            self.loggingFile = loggingFile\n        if loggingLevel != self.loggingLevel:\n            self.logger.setLevel(loggingLevel)\n            self.loggingLevel = loggingLevel\n\nls = LogSystem()\nset_logging = ls.set_logging\n", "description": "A complete and graceful API for Wechat. \u5fae\u4fe1\u4e2a\u4eba\u53f7\u63a5\u53e3\u3001\u5fae\u4fe1\u673a\u5668\u4eba\u53ca\u547d\u4ee4\u884c\u5fae\u4fe1\uff0c\u4e09\u5341\u884c\u5373\u53ef\u81ea\u5b9a\u4e49\u4e2a\u4eba\u53f7\u673a\u5668\u4eba\u3002", "file_name": "log.py", "id": "dec7b89cbdf7a979a2039d4082c163de", "language": "Python", "project_name": "ItChat", "quality": "", "save_path": "/home/ubuntu/test_files/clean/network_test/littlecodersh-ItChat/littlecodersh-ItChat-8622c3c/itchat/log.py", "save_time": "", "source": "", "update_at": "2018-03-14T01:54:42Z", "url": "https://github.com/littlecodersh/ItChat", "wiki": true}