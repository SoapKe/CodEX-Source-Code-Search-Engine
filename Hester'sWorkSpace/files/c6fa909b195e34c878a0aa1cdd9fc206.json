{"author": "rg3", "code": "\nfrom __future__ import unicode_literals\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    clean_html,\n    qualities,\n)\n\n\nclass ClubicIE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?clubic\\.com/video/(?:[^/]+/)*video.*-(?P<id>[0-9]+)\\.html'\n\n    _TESTS = [{\n        'url': 'http://www.clubic.com/video/clubic-week/video-clubic-week-2-0-le-fbi-se-lance-dans-la-photo-d-identite-448474.html',\n        'md5': '1592b694ba586036efac1776b0b43cd3',\n        'info_dict': {\n            'id': '448474',\n            'ext': 'mp4',\n            'title': 'Clubic Week 2.0 : le FBI se lance dans la photo d\\u0092identit\u00e9',\n            'description': 're:Gueule de bois chez Nokia. Le constructeur a indiqu\u00e9 cette.*',\n            'thumbnail': r're:^http://img\\.clubic\\.com/.*\\.jpg$',\n        }\n    }, {\n        'url': 'http://www.clubic.com/video/video-clubic-week-2-0-apple-iphone-6s-et-plus-mais-surtout-le-pencil-469792.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        video_id = self._match_id(url)\n\n        player_url = 'http://player.m6web.fr/v1/player/clubic/%s.html' % video_id\n        player_page = self._download_webpage(player_url, video_id)\n\n        config = self._parse_json(self._search_regex(\n            r'(?m)M6\\.Player\\.config\\s*=\\s*(\\{.+?\\});$', player_page,\n            'configuration'), video_id)\n\n        video_info = config['videoInfo']\n        sources = config['sources']\n        quality_order = qualities(['sd', 'hq'])\n\n        formats = [{\n            'format_id': src['streamQuality'],\n            'url': src['src'],\n            'quality': quality_order(src['streamQuality']),\n        } for src in sources]\n        self._sort_formats(formats)\n\n        return {\n            'id': video_id,\n            'title': video_info['title'],\n            'formats': formats,\n            'description': clean_html(video_info.get('description')),\n            'thumbnail': config.get('poster'),\n        }\n", "comments": "# coding: utf-8\n", "content": "# coding: utf-8\nfrom __future__ import unicode_literals\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    clean_html,\n    qualities,\n)\n\n\nclass ClubicIE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?clubic\\.com/video/(?:[^/]+/)*video.*-(?P<id>[0-9]+)\\.html'\n\n    _TESTS = [{\n        'url': 'http://www.clubic.com/video/clubic-week/video-clubic-week-2-0-le-fbi-se-lance-dans-la-photo-d-identite-448474.html',\n        'md5': '1592b694ba586036efac1776b0b43cd3',\n        'info_dict': {\n            'id': '448474',\n            'ext': 'mp4',\n            'title': 'Clubic Week 2.0 : le FBI se lance dans la photo d\\u0092identit\u00e9',\n            'description': 're:Gueule de bois chez Nokia. Le constructeur a indiqu\u00e9 cette.*',\n            'thumbnail': r're:^http://img\\.clubic\\.com/.*\\.jpg$',\n        }\n    }, {\n        'url': 'http://www.clubic.com/video/video-clubic-week-2-0-apple-iphone-6s-et-plus-mais-surtout-le-pencil-469792.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        video_id = self._match_id(url)\n\n        player_url = 'http://player.m6web.fr/v1/player/clubic/%s.html' % video_id\n        player_page = self._download_webpage(player_url, video_id)\n\n        config = self._parse_json(self._search_regex(\n            r'(?m)M6\\.Player\\.config\\s*=\\s*(\\{.+?\\});$', player_page,\n            'configuration'), video_id)\n\n        video_info = config['videoInfo']\n        sources = config['sources']\n        quality_order = qualities(['sd', 'hq'])\n\n        formats = [{\n            'format_id': src['streamQuality'],\n            'url': src['src'],\n            'quality': quality_order(src['streamQuality']),\n        } for src in sources]\n        self._sort_formats(formats)\n\n        return {\n            'id': video_id,\n            'title': video_info['title'],\n            'formats': formats,\n            'description': clean_html(video_info.get('description')),\n            'thumbnail': config.get('poster'),\n        }\n", "description": "Command-line program to download videos from YouTube.com and other video sites", "file_name": "clubic.py", "language": "Python", "project_name": "youtube-dl", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/rg3_youtube-dl/rg3-youtube-dl-6202f08/youtube_dl/extractor/clubic.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:18:39Z", "url": "https://github.com/rg3/youtube-dl", "wiki": false}