{"author": "rg3", "code": "\nfrom __future__ import unicode_literals\n\nfrom .common import InfoExtractor\nfrom ..utils import strip_jsonp, unified_strdate\n\n\nclass ElPaisIE(InfoExtractor):\n    _VALID_URL = r'https?://(?:[^.]+\\.)?elpais\\.com/.*/(?P<id>[^/\n    IE_DESC = 'El Pa\u00eds'\n\n    _TESTS = [{\n        'url': 'http://blogs.elpais.com/la-voz-de-inaki/2014/02/tiempo-nuevo-recetas-viejas.html',\n        'md5': '98406f301f19562170ec071b83433d55',\n        'info_dict': {\n            'id': 'tiempo-nuevo-recetas-viejas',\n            'ext': 'mp4',\n            'title': 'Tiempo nuevo, recetas viejas',\n            'description': 'De lunes a viernes, a partir de las ocho de la ma\u00f1ana, I\u00f1aki Gabilondo nos cuenta su visi\u00f3n de la actualidad nacional e internacional.',\n            'upload_date': '20140206',\n        }\n    }, {\n        'url': 'http://elcomidista.elpais.com/elcomidista/2016/02/24/articulo/1456340311_668921.html\n        'md5': '3bd5b09509f3519d7d9e763179b013de',\n        'info_dict': {\n            'id': '1456340311_668921',\n            'ext': 'mp4',\n            'title': 'C\u00f3mo hacer el mejor caf\u00e9 con cafetera italiana',\n            'description': 'Que s\u00ed, que las c\u00e1psulas son c\u00f3modas. Pero si le pides algo m\u00e1s a la vida, quiz\u00e1 deber\u00edas aprender a usar bien la cafetera italiana. No tienes m\u00e1s que ver este v\u00eddeo y seguir sus siete normas b\u00e1sicas.',\n            'upload_date': '20160303',\n        }\n    }, {\n        'url': 'http://elpais.com/elpais/2017/01/26/ciencia/1485456786_417876.html',\n        'md5': '9c79923a118a067e1a45789e1e0b0f9c',\n        'info_dict': {\n            'id': '1485456786_417876',\n            'ext': 'mp4',\n            'title': 'Hallado un barco de la antigua Roma que naufrag\u00f3 en Baleares hace 1.800 a\u00f1os',\n            'description': 'La nave portaba cientos de \u00e1nforas y se hundi\u00f3 cerca de la isla de Cabrera por razones desconocidas',\n            'upload_date': '20170127',\n        },\n    }, {\n        'url': 'http://epv.elpais.com/epv/2017/02/14/programa_la_voz_de_inaki/1487062137_075943.html',\n        'info_dict': {\n            'id': '1487062137_075943',\n            'ext': 'mp4',\n            'title': 'Disyuntivas',\n            'description': 'md5:a0fb1485c4a6a8a917e6f93878e66218',\n            'upload_date': '20170214',\n        },\n        'params': {\n            'skip_download': True,\n        },\n    }]\n\n    def _real_extract(self, url):\n        video_id = self._match_id(url)\n        webpage = self._download_webpage(url, video_id)\n\n        prefix = self._html_search_regex(\n            r'var\\s+url_cache\\s*=\\s*\"([^\"]+)\";', webpage, 'URL prefix')\n        id_multimedia = self._search_regex(\n            r\"id_multimedia\\s*=\\s*'([^']+)'\", webpage, 'ID multimedia', default=None)\n        if id_multimedia:\n            url_info = self._download_json(\n                'http://elpais.com/vdpep/1/?pepid=' + id_multimedia, video_id, transform_source=strip_jsonp)\n            video_suffix = url_info['mp4']\n        else:\n            video_suffix = self._search_regex(\n                r\"(?:URLMediaFile|urlVideo_\\d+)\\s*=\\s*url_cache\\s*\\+\\s*'([^']+)'\", webpage, 'video URL')\n        video_url = prefix + video_suffix\n        thumbnail_suffix = self._search_regex(\n            r\"(?:URLMediaStill|urlFotogramaFijo_\\d+)\\s*=\\s*url_cache\\s*\\+\\s*'([^']+)'\",\n            webpage, 'thumbnail URL', default=None)\n        thumbnail = (\n            None if thumbnail_suffix is None\n            else prefix + thumbnail_suffix) or self._og_search_thumbnail(webpage)\n        title = self._html_search_regex(\n            (r\"tituloVideo\\s*=\\s*'([^']+)'\",\n             r'<h2 class=\"entry-header entry-title.*?>(.*?)</h2>',\n             r'<h1[^>]+class=\"titulo\"[^>]*>([^<]+)'),\n            webpage, 'title', default=None) or self._og_search_title(webpage)\n        upload_date = unified_strdate(self._search_regex(\n            r'<p class=\"date-header date-int updated\"\\s+title=\"([^\"]+)\">',\n            webpage, 'upload date', default=None) or self._html_search_meta(\n            'datePublished', webpage, 'timestamp'))\n\n        return {\n            'id': video_id,\n            'url': video_url,\n            'title': title,\n            'description': self._og_search_description(webpage),\n            'thumbnail': thumbnail,\n            'upload_date': upload_date,\n        }\n", "comments": "# coding: utf-8\n#?]+)\\.html(?:$|[?#])'\n#?id_externo_nwl=newsletter_diaria20160303t',\n", "content": "# coding: utf-8\nfrom __future__ import unicode_literals\n\nfrom .common import InfoExtractor\nfrom ..utils import strip_jsonp, unified_strdate\n\n\nclass ElPaisIE(InfoExtractor):\n    _VALID_URL = r'https?://(?:[^.]+\\.)?elpais\\.com/.*/(?P<id>[^/#?]+)\\.html(?:$|[?#])'\n    IE_DESC = 'El Pa\u00eds'\n\n    _TESTS = [{\n        'url': 'http://blogs.elpais.com/la-voz-de-inaki/2014/02/tiempo-nuevo-recetas-viejas.html',\n        'md5': '98406f301f19562170ec071b83433d55',\n        'info_dict': {\n            'id': 'tiempo-nuevo-recetas-viejas',\n            'ext': 'mp4',\n            'title': 'Tiempo nuevo, recetas viejas',\n            'description': 'De lunes a viernes, a partir de las ocho de la ma\u00f1ana, I\u00f1aki Gabilondo nos cuenta su visi\u00f3n de la actualidad nacional e internacional.',\n            'upload_date': '20140206',\n        }\n    }, {\n        'url': 'http://elcomidista.elpais.com/elcomidista/2016/02/24/articulo/1456340311_668921.html#?id_externo_nwl=newsletter_diaria20160303t',\n        'md5': '3bd5b09509f3519d7d9e763179b013de',\n        'info_dict': {\n            'id': '1456340311_668921',\n            'ext': 'mp4',\n            'title': 'C\u00f3mo hacer el mejor caf\u00e9 con cafetera italiana',\n            'description': 'Que s\u00ed, que las c\u00e1psulas son c\u00f3modas. Pero si le pides algo m\u00e1s a la vida, quiz\u00e1 deber\u00edas aprender a usar bien la cafetera italiana. No tienes m\u00e1s que ver este v\u00eddeo y seguir sus siete normas b\u00e1sicas.',\n            'upload_date': '20160303',\n        }\n    }, {\n        'url': 'http://elpais.com/elpais/2017/01/26/ciencia/1485456786_417876.html',\n        'md5': '9c79923a118a067e1a45789e1e0b0f9c',\n        'info_dict': {\n            'id': '1485456786_417876',\n            'ext': 'mp4',\n            'title': 'Hallado un barco de la antigua Roma que naufrag\u00f3 en Baleares hace 1.800 a\u00f1os',\n            'description': 'La nave portaba cientos de \u00e1nforas y se hundi\u00f3 cerca de la isla de Cabrera por razones desconocidas',\n            'upload_date': '20170127',\n        },\n    }, {\n        'url': 'http://epv.elpais.com/epv/2017/02/14/programa_la_voz_de_inaki/1487062137_075943.html',\n        'info_dict': {\n            'id': '1487062137_075943',\n            'ext': 'mp4',\n            'title': 'Disyuntivas',\n            'description': 'md5:a0fb1485c4a6a8a917e6f93878e66218',\n            'upload_date': '20170214',\n        },\n        'params': {\n            'skip_download': True,\n        },\n    }]\n\n    def _real_extract(self, url):\n        video_id = self._match_id(url)\n        webpage = self._download_webpage(url, video_id)\n\n        prefix = self._html_search_regex(\n            r'var\\s+url_cache\\s*=\\s*\"([^\"]+)\";', webpage, 'URL prefix')\n        id_multimedia = self._search_regex(\n            r\"id_multimedia\\s*=\\s*'([^']+)'\", webpage, 'ID multimedia', default=None)\n        if id_multimedia:\n            url_info = self._download_json(\n                'http://elpais.com/vdpep/1/?pepid=' + id_multimedia, video_id, transform_source=strip_jsonp)\n            video_suffix = url_info['mp4']\n        else:\n            video_suffix = self._search_regex(\n                r\"(?:URLMediaFile|urlVideo_\\d+)\\s*=\\s*url_cache\\s*\\+\\s*'([^']+)'\", webpage, 'video URL')\n        video_url = prefix + video_suffix\n        thumbnail_suffix = self._search_regex(\n            r\"(?:URLMediaStill|urlFotogramaFijo_\\d+)\\s*=\\s*url_cache\\s*\\+\\s*'([^']+)'\",\n            webpage, 'thumbnail URL', default=None)\n        thumbnail = (\n            None if thumbnail_suffix is None\n            else prefix + thumbnail_suffix) or self._og_search_thumbnail(webpage)\n        title = self._html_search_regex(\n            (r\"tituloVideo\\s*=\\s*'([^']+)'\",\n             r'<h2 class=\"entry-header entry-title.*?>(.*?)</h2>',\n             r'<h1[^>]+class=\"titulo\"[^>]*>([^<]+)'),\n            webpage, 'title', default=None) or self._og_search_title(webpage)\n        upload_date = unified_strdate(self._search_regex(\n            r'<p class=\"date-header date-int updated\"\\s+title=\"([^\"]+)\">',\n            webpage, 'upload date', default=None) or self._html_search_meta(\n            'datePublished', webpage, 'timestamp'))\n\n        return {\n            'id': video_id,\n            'url': video_url,\n            'title': title,\n            'description': self._og_search_description(webpage),\n            'thumbnail': thumbnail,\n            'upload_date': upload_date,\n        }\n", "description": "Command-line program to download videos from YouTube.com and other video sites", "file_name": "elpais.py", "language": "Python", "project_name": "youtube-dl", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/rg3_youtube-dl/rg3-youtube-dl-6202f08/youtube_dl/extractor/elpais.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:18:39Z", "url": "https://github.com/rg3/youtube-dl", "wiki": false}