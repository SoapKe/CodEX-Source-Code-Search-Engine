{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\nimport os\n\nfrom odoo import tools\nfrom odoo.tests import common\nfrom odoo.modules.module import get_module_resource\n\n\nclass RepoortIntrastatTest(common.TransactionCase):\n\n    def _load(self, module, *args):\n        tools.convert_file(self.cr, 'report_intrastat',\n                           get_module_resource(module, *args),\n                           {}, 'init', False, 'test', self.registry._assertion_report)\n\n    def setUp(self):\n        super(RepoortIntrastatTest, self).setUp()\n\n        self._load('account', 'test', 'account_minimal_test.xml')\n        self.invoice = self.env['account.invoice'].create({\n            'currency_id': self.ref('base.EUR'),\n            'company_id': self.ref('base.main_company'),\n            'partner_id': self.ref('base.res_partner_1'),\n            'state': 'draft',\n            'type': 'out_invoice',\n            'account_id': self.ref('report_intrastat.a_recv'),\n            'name': 'Test invoice 1'\n        })\n\n    def test_00_create_pdf(self):\n        data, data_format = self.env.ref('report_intrastat.account_intrastatinvoices').render(self.invoice.ids)\n        if tools.config['test_report_directory']:\n            open(os.path.join(tools.config['test_report_directory'], 'report_intrastat-intrastat_report.' + data_format), 'wb+').write(data)\n", "comments": "      coding  utf 8     ", "content": "# -*- coding: utf-8 -*-\n\nimport os\n\nfrom odoo import tools\nfrom odoo.tests import common\nfrom odoo.modules.module import get_module_resource\n\n\nclass RepoortIntrastatTest(common.TransactionCase):\n\n    def _load(self, module, *args):\n        tools.convert_file(self.cr, 'report_intrastat',\n                           get_module_resource(module, *args),\n                           {}, 'init', False, 'test', self.registry._assertion_report)\n\n    def setUp(self):\n        super(RepoortIntrastatTest, self).setUp()\n\n        self._load('account', 'test', 'account_minimal_test.xml')\n        self.invoice = self.env['account.invoice'].create({\n            'currency_id': self.ref('base.EUR'),\n            'company_id': self.ref('base.main_company'),\n            'partner_id': self.ref('base.res_partner_1'),\n            'state': 'draft',\n            'type': 'out_invoice',\n            'account_id': self.ref('report_intrastat.a_recv'),\n            'name': 'Test invoice 1'\n        })\n\n    def test_00_create_pdf(self):\n        data, data_format = self.env.ref('report_intrastat.account_intrastatinvoices').render(self.invoice.ids)\n        if tools.config['test_report_directory']:\n            open(os.path.join(tools.config['test_report_directory'], 'report_intrastat-intrastat_report.' + data_format), 'wb+').write(data)\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "test_report_intrastat.py", "id": "6bb6bdf2122e257bdafbf6f23930a035", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/report_intrastat/tests/test_report_intrastat.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}