{"author": "Theano", "code": "from __future__ import absolute_import, print_function, division\nimport numpy as np\nimport theano\n\nclass DoubleOp(theano.Op):\n    def __eq__(self, other):\n        return type(self) == type(other)\n    def __hash__(self):\n        return hash(type(self))\n    def __str__(self):\n        return self.__class__.__name__\n    def make_node(self, x):\n        x = theano.tensor.as_tensor_variable(x)\n        return theano.Apply(self, [x], [x.type()])\n    def perform(self, node, inputs, output_storage):\n        x = inputs[0]\n        z = output_storage[0]\n        z[0] = x * 2\n\nx = theano.tensor.matrix()\n\nf = theano.function([x], DoubleOp()(x))\n\ninp = np.random.rand(5,5)\nout = f(inp)\nassert np.allclose(inp*2, out)\nprint(inp)\nprint(out)\n", "comments": "", "content": "from __future__ import absolute_import, print_function, division\nimport numpy as np\nimport theano\n\nclass DoubleOp(theano.Op):\n    def __eq__(self, other):\n        return type(self) == type(other)\n    def __hash__(self):\n        return hash(type(self))\n    def __str__(self):\n        return self.__class__.__name__\n    def make_node(self, x):\n        x = theano.tensor.as_tensor_variable(x)\n        return theano.Apply(self, [x], [x.type()])\n    def perform(self, node, inputs, output_storage):\n        x = inputs[0]\n        z = output_storage[0]\n        z[0] = x * 2\n\nx = theano.tensor.matrix()\n\nf = theano.function([x], DoubleOp()(x))\n\ninp = np.random.rand(5,5)\nout = f(inp)\nassert np.allclose(inp*2, out)\nprint(inp)\nprint(out)\n", "description": "Theano is a Python library that allows you to define, optimize, and evaluate mathematical expressions involving multi-dimensional arrays efficiently. It can use GPUs and perform efficient symbolic differentiation.", "file_name": "double_op.py", "id": "47e0c676499ea1aea858ac631fa75804", "language": "Python", "project_name": "Theano", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/Theano-Theano/Theano-Theano-546067d/doc/hpcs2011_tutorial/double_op.py", "save_time": "", "source": "", "update_at": "2018-03-18T03:16:17Z", "url": "https://github.com/Theano/Theano", "wiki": true}