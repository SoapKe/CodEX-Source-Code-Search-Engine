{"author": "nvbn", "code": "import pytest\nfrom six import BytesIO\nfrom thefuck.rules.gem_unknown_command import match, get_new_command\nfrom thefuck.types import Command\n\noutput = \n\n\n@pytest.fixture(autouse=True)\ndef gem_help_commands(mocker):\n    patch = mocker.patch('subprocess.Popen')\n    patch.return_value.stdout = BytesIO(gem_help_commands_stdout)\n    return patch\n\n\n@pytest.mark.parametrize('script, command', [\n    ('gem isntall jekyll', 'isntall'),\n    ('gem last --local', 'last')])\ndef test_match(script, command):\n    assert match(Command(script, output.format(command)))\n\n\n@pytest.mark.parametrize('script, output', [\n    ('gem install jekyll', ''),\n    ('git log', output.format('log'))])\ndef test_not_match(script, output):\n    assert not match(Command(script, output))\n\n\n@pytest.mark.parametrize('script, output, result', [\n    ('gem isntall jekyll', output.format('isntall'), 'gem install jekyll'),\n    ('gem last --local', output.format('last'), 'gem list --local')])\ndef test_get_new_command(script, output, result):\n    new_command = get_new_command(Command(script, output))\n    assert new_command[0] == result\n", "comments": "\nERROR:  While executing gem ... (Gem::CommandLineError)\n    Unknown command {}\n'''\n\ngem_help_commands_stdout = b'''\nGEM commands are:\n\n    build             Build a gem from a gemspec\n    cert              Manage RubyGems certificates and signing settings\n    check             Check a gem repository for added or missing files\n    cleanup           Clean up old versions of installed gems\n    contents          Display the contents of the installed gems\n    dependency        Show the dependencies of an installed gem\n    environment       Display information about the RubyGems environment\n    fetch             Download a gem and place it in the current directory\n    generate_index    Generates the index files for a gem server directory\n    help              Provide help on the 'gem' command\n    install           Install a gem into the local repository\n    list              Display local gems whose name matches REGEXP\n    lock              Generate a lockdown list of gems\n    mirror            Mirror all gem files (requires rubygems-mirror)\n    open              Open gem sources in editor\n    outdated          Display all gems that need updates\n    owner             Manage gem owners of a gem on the push server\n    pristine          Restores installed gems to pristine condition from files\n                      located in the gem cache\n    push              Push a gem up to the gem server\n    query             Query gem information in local or remote repositories\n    rdoc              Generates RDoc for pre-installed gems\n    search            Display remote gems whose name matches REGEXP\n    server            Documentation and gem repository HTTP server\n    sources           Manage the sources and cache file RubyGems uses to search\n                      for gems\n    specification     Display gem specification (in yaml)\n    stale             List gems along with access times\n    uninstall         Uninstall gems from the local repository\n    unpack            Unpack an installed gem to the current directory\n    update            Update installed gems to the latest version\n    which             Find the location of a library file you can require\n    yank              Remove a pushed gem from the index\n\nFor help on a particular command, use 'gem help COMMAND'.\n\nCommands may be abbreviated, so long as they are unambiguous.\ne.g. 'gem i rake' is short for 'gem install rake'.\n\n\n\n\n", "content": "import pytest\nfrom six import BytesIO\nfrom thefuck.rules.gem_unknown_command import match, get_new_command\nfrom thefuck.types import Command\n\noutput = '''\nERROR:  While executing gem ... (Gem::CommandLineError)\n    Unknown command {}\n'''\n\ngem_help_commands_stdout = b'''\nGEM commands are:\n\n    build             Build a gem from a gemspec\n    cert              Manage RubyGems certificates and signing settings\n    check             Check a gem repository for added or missing files\n    cleanup           Clean up old versions of installed gems\n    contents          Display the contents of the installed gems\n    dependency        Show the dependencies of an installed gem\n    environment       Display information about the RubyGems environment\n    fetch             Download a gem and place it in the current directory\n    generate_index    Generates the index files for a gem server directory\n    help              Provide help on the 'gem' command\n    install           Install a gem into the local repository\n    list              Display local gems whose name matches REGEXP\n    lock              Generate a lockdown list of gems\n    mirror            Mirror all gem files (requires rubygems-mirror)\n    open              Open gem sources in editor\n    outdated          Display all gems that need updates\n    owner             Manage gem owners of a gem on the push server\n    pristine          Restores installed gems to pristine condition from files\n                      located in the gem cache\n    push              Push a gem up to the gem server\n    query             Query gem information in local or remote repositories\n    rdoc              Generates RDoc for pre-installed gems\n    search            Display remote gems whose name matches REGEXP\n    server            Documentation and gem repository HTTP server\n    sources           Manage the sources and cache file RubyGems uses to search\n                      for gems\n    specification     Display gem specification (in yaml)\n    stale             List gems along with access times\n    uninstall         Uninstall gems from the local repository\n    unpack            Unpack an installed gem to the current directory\n    update            Update installed gems to the latest version\n    which             Find the location of a library file you can require\n    yank              Remove a pushed gem from the index\n\nFor help on a particular command, use 'gem help COMMAND'.\n\nCommands may be abbreviated, so long as they are unambiguous.\ne.g. 'gem i rake' is short for 'gem install rake'.\n\n'''\n\n\n@pytest.fixture(autouse=True)\ndef gem_help_commands(mocker):\n    patch = mocker.patch('subprocess.Popen')\n    patch.return_value.stdout = BytesIO(gem_help_commands_stdout)\n    return patch\n\n\n@pytest.mark.parametrize('script, command', [\n    ('gem isntall jekyll', 'isntall'),\n    ('gem last --local', 'last')])\ndef test_match(script, command):\n    assert match(Command(script, output.format(command)))\n\n\n@pytest.mark.parametrize('script, output', [\n    ('gem install jekyll', ''),\n    ('git log', output.format('log'))])\ndef test_not_match(script, output):\n    assert not match(Command(script, output))\n\n\n@pytest.mark.parametrize('script, output, result', [\n    ('gem isntall jekyll', output.format('isntall'), 'gem install jekyll'),\n    ('gem last --local', output.format('last'), 'gem list --local')])\ndef test_get_new_command(script, output, result):\n    new_command = get_new_command(Command(script, output))\n    assert new_command[0] == result\n", "description": "Magnificent app which corrects your previous console command.", "file_name": "test_gem_unknown_command.py", "language": "Python", "project_name": "thefuck", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/nvbn_thefuck/nvbn-thefuck-284d49d/tests/rules/test_gem_unknown_command.py", "save_time": "", "source": "", "update_at": "2018-03-07T09:34:29Z", "url": "https://github.com/nvbn/thefuck", "wiki": true}