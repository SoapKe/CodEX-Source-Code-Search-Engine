{"author": "Zulko", "code": "# -*- coding: utf-8 -*-\n\nimport sys\nimport os\n\nfrom moviepy.video.tools.credits import credits1\n\nsys.path.append(\"tests\")\nfrom test_helper import TMP_DIR, TRAVIS\n\n\ndef test_credits():\n    if TRAVIS:\n        \n        return\n    credit_file = \"# This is a comment\\n\" \\\n                  \"# The next line says : leave 4 blank lines\\n\" \\\n                  \".blank 2\\n\" \\\n                  \"\\n\" \\\n                  \"..Executive Story Editor\\n\" \\\n                  \"MARCEL DURAND\\n\" \\\n                  \"\\n\" \\\n                  \".blank 2\\n\" \\\n                  \"\\n\" \\\n                  \"..Associate Producers\\n\" \\\n                  \"MARTIN MARCEL\\n\" \\\n                  \"DIDIER MARTIN\\n\" \\\n                  \"\\n\" \\\n                  \"..Music Supervisor\\n\" \\\n                  \"JEAN DIDIER\\n\"\n\n    file_location = os.path.join(TMP_DIR, \"credits.txt\")\n    vid_location = os.path.join(TMP_DIR, \"credits.mp4\")\n    with open(file_location, \"w\") as file:\n        file.write(credit_file)\n\n    image = credits1(file_location, 600, gap=100, stroke_color=\"blue\",\n                     stroke_width=5)\n    image = image.set_duration(3)\n    image.write_videofile(vid_location, fps=24)\n    assert os.path.isfile(vid_location)\n", "comments": "   video file clip tests meant run pytest            coding  utf 8        same issue imagemagick travis  test textclip py  ", "content": "# -*- coding: utf-8 -*-\n\"\"\"Video file clip tests meant to be run with pytest.\"\"\"\nimport sys\nimport os\n\nfrom moviepy.video.tools.credits import credits1\n\nsys.path.append(\"tests\")\nfrom test_helper import TMP_DIR, TRAVIS\n\n\ndef test_credits():\n    if TRAVIS:\n        # Same issue with ImageMagick on Travis as in `test_TextClip.py`\n        return\n    credit_file = \"# This is a comment\\n\" \\\n                  \"# The next line says : leave 4 blank lines\\n\" \\\n                  \".blank 2\\n\" \\\n                  \"\\n\" \\\n                  \"..Executive Story Editor\\n\" \\\n                  \"MARCEL DURAND\\n\" \\\n                  \"\\n\" \\\n                  \".blank 2\\n\" \\\n                  \"\\n\" \\\n                  \"..Associate Producers\\n\" \\\n                  \"MARTIN MARCEL\\n\" \\\n                  \"DIDIER MARTIN\\n\" \\\n                  \"\\n\" \\\n                  \"..Music Supervisor\\n\" \\\n                  \"JEAN DIDIER\\n\"\n\n    file_location = os.path.join(TMP_DIR, \"credits.txt\")\n    vid_location = os.path.join(TMP_DIR, \"credits.mp4\")\n    with open(file_location, \"w\") as file:\n        file.write(credit_file)\n\n    image = credits1(file_location, 600, gap=100, stroke_color=\"blue\",\n                     stroke_width=5)\n    image = image.set_duration(3)\n    image.write_videofile(vid_location, fps=24)\n    assert os.path.isfile(vid_location)\n", "description": "Video editing with Python", "file_name": "test_videotools.py", "id": "fb145c289ce6035ef26ec28dec765f4a", "language": "Python", "project_name": "moviepy", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/Zulko-moviepy/Zulko-moviepy-6cbd4f3/tests/test_videotools.py", "save_time": "", "source": "", "update_at": "2018-03-18T10:21:24Z", "url": "https://github.com/Zulko/moviepy", "wiki": true}