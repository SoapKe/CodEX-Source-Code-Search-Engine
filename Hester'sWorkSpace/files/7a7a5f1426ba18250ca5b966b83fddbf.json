{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\n\nfrom . import models\n\n\ndef post_init(cr, registry):\n    \"\"\" Set the timesheet project and task on existing leave type. Do it in post_init to\n        be sure the internal project/task of res.company are set. (Since timesheet_generate field\n        is true by default, those 2 fields are required on the leave type).\n    \"\"\"\n    from odoo import api, SUPERUSER_ID\n\n    env = api.Environment(cr, SUPERUSER_ID, {})\n    for leave_type in env['hr.holidays.status'].search([('timesheet_generate', '=', True), ('timesheet_project_id', '=', False)]):\n        company = leave_type.company_id or env.user.company_id\n        leave_type.write({\n            'timesheet_project_id': company.leave_timesheet_project_id.id,\n            'timesheet_task_id': company.leave_timesheet_task_id.id,\n        })\n", "comments": "    set timesheet project task existing leave type  do post init         sure internal project task res company set  (since timesheet generate field         true default  2 fields required leave type)                 coding  utf 8        part odoo  see license file full copyright licensing details  ", "content": "# -*- coding: utf-8 -*-\n# Part of Odoo. See LICENSE file for full copyright and licensing details.\n\nfrom . import models\n\n\ndef post_init(cr, registry):\n    \"\"\" Set the timesheet project and task on existing leave type. Do it in post_init to\n        be sure the internal project/task of res.company are set. (Since timesheet_generate field\n        is true by default, those 2 fields are required on the leave type).\n    \"\"\"\n    from odoo import api, SUPERUSER_ID\n\n    env = api.Environment(cr, SUPERUSER_ID, {})\n    for leave_type in env['hr.holidays.status'].search([('timesheet_generate', '=', True), ('timesheet_project_id', '=', False)]):\n        company = leave_type.company_id or env.user.company_id\n        leave_type.write({\n            'timesheet_project_id': company.leave_timesheet_project_id.id,\n            'timesheet_task_id': company.leave_timesheet_task_id.id,\n        })\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "__init__.py", "id": "7a7a5f1426ba18250ca5b966b83fddbf", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/project_timesheet_holidays/__init__.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}