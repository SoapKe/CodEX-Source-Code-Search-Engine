{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\n\nfrom . import models\n\nfrom odoo import api, SUPERUSER_ID\n\n\ndef load_translations(env):\n    env.ref('l10n_ch.l10nch_chart_template').process_coa_translations()\n\n\ndef init_settings(env):\n    \n    \n    for company in env['res.company'].search([]):\n        if company.country_id != env.ref('base.ch'):\n            continue\n        res_config_id = env['res.config.settings'].create({\n            'company_id': company.id,\n            'group_cash_rounding': True\n        })\n        \n        res_config_id.execute()\n\n\ndef post_init(cr, registry):\n    env = api.Environment(cr, SUPERUSER_ID, {})\n    load_translations(env)\n    init_settings(env)\n", "comments": "   if company localized switzerland  activate cash rounding default                 coding  utf 8        part odoo  see license file full copyright licensing details     the cash rounding activated default company localized switzerland     we need call execute  otherwise  implied group  fields processed  ", "content": "# -*- coding: utf-8 -*-\n# Part of Odoo. See LICENSE file for full copyright and licensing details.\n\nfrom . import models\n\nfrom odoo import api, SUPERUSER_ID\n\n\ndef load_translations(env):\n    env.ref('l10n_ch.l10nch_chart_template').process_coa_translations()\n\n\ndef init_settings(env):\n    '''If the company is localized in Switzerland, activate the cash rounding by default.\n    '''\n    # The cash rounding is activated by default only if the company is localized in Switzerland.\n    for company in env['res.company'].search([]):\n        if company.country_id != env.ref('base.ch'):\n            continue\n        res_config_id = env['res.config.settings'].create({\n            'company_id': company.id,\n            'group_cash_rounding': True\n        })\n        # We need to call execute, otherwise the \"implied_group\" in fields are not processed.\n        res_config_id.execute()\n\n\ndef post_init(cr, registry):\n    env = api.Environment(cr, SUPERUSER_ID, {})\n    load_translations(env)\n    init_settings(env)\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "__init__.py", "id": "a8368ca13131e9350f330aef27f3f040", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/l10n_ch/__init__.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}