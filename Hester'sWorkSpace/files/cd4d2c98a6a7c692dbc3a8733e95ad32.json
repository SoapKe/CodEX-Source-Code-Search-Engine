{"author": "odoo", "code": "\n# Copyright 2016 Vauxoo (https://www.vauxoo.com) <info@vauxoo.com>\n# License LGPL-3.0 or later (http://www.gnu.org/licenses/lgpl).\n\nfrom odoo import models, api, _\n\n\nclass AccountChartTemplate(models.Model):\n    _inherit = \"account.chart.template\"\n\n    @api.model\n    def generate_journals(self, acc_template_ref, company, journals_dict=None):\n        \"\"\"Set the tax_cash_basis_journal_id on the company\"\"\"\n        res = super(AccountChartTemplate, self).generate_journals(\n            acc_template_ref, company, journals_dict=journals_dict)\n        if not self == self.env.ref('l10n_mx.mx_coa'):\n            return res\n        journal_basis = self.env['account.journal'].search([\n            ('company_id', '=', company.id),\n            ('type', '=', 'general'),\n            ('code', '=', 'CBMX')], limit=1)\n        company.write({'tax_cash_basis_journal_id': journal_basis.id})\n        return res\n\n    @api.multi\n    def _prepare_all_journals(self, acc_template_ref, company, journals_dict=None):\n        \"\"\"Create the tax_cash_basis_journal_id\"\"\"\n        res = super(AccountChartTemplate, self)._prepare_all_journals(\n            acc_template_ref, company, journals_dict=journals_dict)\n        if not self == self.env.ref('l10n_mx.mx_coa'):\n            return res\n        account = acc_template_ref.get(self.env.ref('l10n_mx.cuenta118_01').id)\n        res.append({\n            'type': 'general',\n            'name': _('Effectively Paid'),\n            'code': 'CBMX',\n            'company_id': company.id,\n            'default_credit_account_id': account,\n            'default_debit_account_id': account,\n            'show_on_dashboard': True,\n        })\n        return res\n", "comments": "   set tax cash basis journal id company            res   super(accountcharttemplate  self) generate journals(             acc template ref  company  journals dict journals dict)         self    self env ref( l10n mx mx coa )              return res         journal basis   self env  account journal   search(              ( company id        company id)              ( type         general )              ( code         cbmx )   limit 1)         company write(  tax cash basis journal id   journal basis id )         return res       api multi     def  prepare journals(self  acc template ref  company  journals dict none)             create tax cash basis journal id       coding  utf 8    copyright 2016 vauxoo (https   www vauxoo com)  info vauxoo com     license lgpl 3 0 later (http   www gnu org licenses lgpl)  ", "content": "# coding: utf-8\n# Copyright 2016 Vauxoo (https://www.vauxoo.com) <info@vauxoo.com>\n# License LGPL-3.0 or later (http://www.gnu.org/licenses/lgpl).\n\nfrom odoo import models, api, _\n\n\nclass AccountChartTemplate(models.Model):\n    _inherit = \"account.chart.template\"\n\n    @api.model\n    def generate_journals(self, acc_template_ref, company, journals_dict=None):\n        \"\"\"Set the tax_cash_basis_journal_id on the company\"\"\"\n        res = super(AccountChartTemplate, self).generate_journals(\n            acc_template_ref, company, journals_dict=journals_dict)\n        if not self == self.env.ref('l10n_mx.mx_coa'):\n            return res\n        journal_basis = self.env['account.journal'].search([\n            ('company_id', '=', company.id),\n            ('type', '=', 'general'),\n            ('code', '=', 'CBMX')], limit=1)\n        company.write({'tax_cash_basis_journal_id': journal_basis.id})\n        return res\n\n    @api.multi\n    def _prepare_all_journals(self, acc_template_ref, company, journals_dict=None):\n        \"\"\"Create the tax_cash_basis_journal_id\"\"\"\n        res = super(AccountChartTemplate, self)._prepare_all_journals(\n            acc_template_ref, company, journals_dict=journals_dict)\n        if not self == self.env.ref('l10n_mx.mx_coa'):\n            return res\n        account = acc_template_ref.get(self.env.ref('l10n_mx.cuenta118_01').id)\n        res.append({\n            'type': 'general',\n            'name': _('Effectively Paid'),\n            'code': 'CBMX',\n            'company_id': company.id,\n            'default_credit_account_id': account,\n            'default_debit_account_id': account,\n            'show_on_dashboard': True,\n        })\n        return res\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "chart_template.py", "id": "cd4d2c98a6a7c692dbc3a8733e95ad32", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/l10n_mx/models/chart_template.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}