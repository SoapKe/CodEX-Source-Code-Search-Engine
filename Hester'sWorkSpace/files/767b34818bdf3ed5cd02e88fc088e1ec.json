{"author": "ansible", "code": " -*- coding: utf-8 -*-\n\n (c) 2017, Nokia\n\n\n Ansible is free software: you can redistribute it and/or modify\n it under the terms of the GNU General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n Ansible is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with Ansible.  If not, see <http://www.gnu.org/licenses/>.\n\nfrom ansible.compat.tests.mock import patch\nfrom units.modules.utils import set_module_args as _set_module_args, AnsibleExitJson, AnsibleFailJson, ModuleTestCase\n\nfrom nose.plugins.skip import SkipTest\ntry:\n    from vspk import v5_0 as vsdk\n    from bambou import nurest_session\nexcept ImportError:\n    raise SkipTest('Nuage Ansible modules requires the vspk and bambou python libraries')\n\n\ndef set_module_args(args):\n    if 'auth' not in args:\n        args['auth'] = {\n            'api_username': 'csproot',\n            'api_password': 'csproot',\n            'api_enterprise': 'csp',\n            'api_url': 'https://localhost:8443',\n            'api_version': 'v5_0'\n        }\n    return _set_module_args(args)\n\n\nclass MockNuageResponse(object):\n    def __init__(self, status_code, reason, errors):\n        self.status_code = status_code\n        self.reason = reason\n        self.errors = errors\n\n\nclass MockNuageConnection(object):\n    def __init__(self, status_code, reason, errors):\n        self.response = MockNuageResponse(status_code, reason, errors)\n\n\nclass TestNuageModule(ModuleTestCase):\n\n    def setUp(self):\n        super(TestNuageModule, self).setUp()\n\n        def session_start(self):\n            self._root_object = vsdk.NUMe()\n            self._root_object.enterprise_id = 'enterprise-id'\n            nurest_session._NURESTSessionCurrentContext.session = self\n            return self\n\n        self.session_mock = patch('vspk.v5_0.NUVSDSession.start', new=session_start)\n        self.session_mock.start()\n\n    def tearDown(self):\n        super(TestNuageModule, self).tearDown()\n        self.session_mock.stop()\n", "comments": "      coding  utf 8        (c) 2017  nokia    this file part ansible       ansible free software  redistribute modify    terms gnu general public license published    free software foundation  either version 3 license     (at option) later version        ansible distributed hope useful     without any warranty  without even implied warranty    merchantability fitness for a particular purpose   see    gnu general public license details        you received copy gnu general public license    along ansible   if  see  http   www gnu org licenses    ", "content": "# -*- coding: utf-8 -*-\n\n# (c) 2017, Nokia\n# This file is part of Ansible\n#\n# Ansible is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# Ansible is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with Ansible.  If not, see <http://www.gnu.org/licenses/>.\n\nfrom ansible.compat.tests.mock import patch\nfrom units.modules.utils import set_module_args as _set_module_args, AnsibleExitJson, AnsibleFailJson, ModuleTestCase\n\nfrom nose.plugins.skip import SkipTest\ntry:\n    from vspk import v5_0 as vsdk\n    from bambou import nurest_session\nexcept ImportError:\n    raise SkipTest('Nuage Ansible modules requires the vspk and bambou python libraries')\n\n\ndef set_module_args(args):\n    if 'auth' not in args:\n        args['auth'] = {\n            'api_username': 'csproot',\n            'api_password': 'csproot',\n            'api_enterprise': 'csp',\n            'api_url': 'https://localhost:8443',\n            'api_version': 'v5_0'\n        }\n    return _set_module_args(args)\n\n\nclass MockNuageResponse(object):\n    def __init__(self, status_code, reason, errors):\n        self.status_code = status_code\n        self.reason = reason\n        self.errors = errors\n\n\nclass MockNuageConnection(object):\n    def __init__(self, status_code, reason, errors):\n        self.response = MockNuageResponse(status_code, reason, errors)\n\n\nclass TestNuageModule(ModuleTestCase):\n\n    def setUp(self):\n        super(TestNuageModule, self).setUp()\n\n        def session_start(self):\n            self._root_object = vsdk.NUMe()\n            self._root_object.enterprise_id = 'enterprise-id'\n            nurest_session._NURESTSessionCurrentContext.session = self\n            return self\n\n        self.session_mock = patch('vspk.v5_0.NUVSDSession.start', new=session_start)\n        self.session_mock.start()\n\n    def tearDown(self):\n        super(TestNuageModule, self).tearDown()\n        self.session_mock.stop()\n", "description": "Ansible is a radically simple IT automation platform that makes your applications and systems easier to deploy. Avoid writing scripts or custom code to deploy and update your applications\u2014 automate in a language that approaches plain English, using SSH, with no agents to install on remote systems.", "file_name": "nuage_module.py", "id": "767b34818bdf3ed5cd02e88fc088e1ec", "language": "Python", "project_name": "ansible", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/ansible-ansible/ansible-ansible-d30554b/test/units/modules/network/nuage/nuage_module.py", "save_time": "", "source": "", "update_at": "2018-03-18T14:08:28Z", "url": "https://github.com/ansible/ansible", "wiki": false}