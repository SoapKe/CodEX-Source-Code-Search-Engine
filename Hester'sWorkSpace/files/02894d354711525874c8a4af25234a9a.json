{"author": "odoo", "code": "from odoo import models, fields, api\n\n\nclass StockImmediateTransfer(models.TransientModel):\n    _inherit = 'stock.immediate.transfer'\n    _description = 'Immediate Transfer'\n\n    pick_to_backorder_ids = fields.Many2many('stock.picking', help='Picking to backorder')\n\n    @api.multi\n    def process(self):\n        backorder_wizard_dict = super(StockImmediateTransfer, self).process()\n        \n        if backorder_wizard_dict:\n            backorder_wizard = self.env['stock.backorder.confirmation'].browse(backorder_wizard_dict.get('res_id', False))\n            backorder_wizard.write({'pick_ids': [(4, p.id) for p in self.pick_to_backorder_ids]})\n            return backorder_wizard_dict\n        \n        elif self.pick_to_backorder_ids:\n            return self.pick_to_backorder_ids.action_generate_backorder_wizard()\n        return False\n", "comments": "  if immediate transfer wizard process picking back order maybe needed want add backorder already passed wizard     if backorder returned immediate transfer basic function still wanted process manually given ", "content": "from odoo import models, fields, api\n\n\nclass StockImmediateTransfer(models.TransientModel):\n    _inherit = 'stock.immediate.transfer'\n    _description = 'Immediate Transfer'\n\n    pick_to_backorder_ids = fields.Many2many('stock.picking', help='Picking to backorder')\n\n    @api.multi\n    def process(self):\n        backorder_wizard_dict = super(StockImmediateTransfer, self).process()\n        # If the immediate transfer wizard process all our picking but with some back order maybe needed we want to add the backorder already passed to the wizard.\n        if backorder_wizard_dict:\n            backorder_wizard = self.env['stock.backorder.confirmation'].browse(backorder_wizard_dict.get('res_id', False))\n            backorder_wizard.write({'pick_ids': [(4, p.id) for p in self.pick_to_backorder_ids]})\n            return backorder_wizard_dict\n        # If there is no backorder returned by the immediate transfer basic function we still wanted to process those manually given\n        elif self.pick_to_backorder_ids:\n            return self.pick_to_backorder_ids.action_generate_backorder_wizard()\n        return False\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "stock_immediate_transfer.py", "id": "02894d354711525874c8a4af25234a9a", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/stock_picking_batch/wizard/stock_immediate_transfer.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}