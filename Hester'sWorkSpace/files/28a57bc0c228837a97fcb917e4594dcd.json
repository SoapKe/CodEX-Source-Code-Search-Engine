{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\nfrom odoo import models, fields, api\n\n\nclass AccountJournal(models.Model):\n    _inherit = \"account.journal\"\n\n    bank_statements_source = fields.Selection(selection_add=[(\"file_import\", \"File Import\")])\n\n    @api.multi\n    def import_statement(self):\n        \n        action_name = 'action_account_bank_statement_import'\n        [action] = self.env.ref('account_bank_statement_import.%s' % action_name).read()\n        # Note: this drops action['context'], which is a dict stored as a string, which is not easy to update\n        action.update({'context': (u\"{'journal_id': \" + str(self.id) + u\"}\")})\n        return action\n", "comments": "   return action import bank cash statements  this button called journals type    bank            coding  utf 8        note  drops action  context    dict stored string  easy update ", "content": "# -*- coding: utf-8 -*-\n\nfrom odoo import models, fields, api\n\n\nclass AccountJournal(models.Model):\n    _inherit = \"account.journal\"\n\n    bank_statements_source = fields.Selection(selection_add=[(\"file_import\", \"File Import\")])\n\n    @api.multi\n    def import_statement(self):\n        \"\"\"return action to import bank/cash statements. This button should be called only on journals with type =='bank'\"\"\"\n        action_name = 'action_account_bank_statement_import'\n        [action] = self.env.ref('account_bank_statement_import.%s' % action_name).read()\n        # Note: this drops action['context'], which is a dict stored as a string, which is not easy to update\n        action.update({'context': (u\"{'journal_id': \" + str(self.id) + u\"}\")})\n        return action\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "account_journal.py", "id": "28a57bc0c228837a97fcb917e4594dcd", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/account_bank_statement_import/account_journal.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}