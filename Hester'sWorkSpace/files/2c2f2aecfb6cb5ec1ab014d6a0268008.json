{"author": "odoo", "code": "# -*- coding: utf-8 -*-\n\n\nfrom werkzeug import urls\n\nfrom odoo import api, fields, models\nfrom odoo.tools.translate import html_translate\n\n\nclass RecruitmentSource(models.Model):\n    _inherit = 'hr.recruitment.source'\n\n    url = fields.Char(compute='_compute_url', string='Url Parameters')\n\n    @api.one\n    @api.depends('source_id', 'source_id.name', 'job_id')\n    def _compute_url(self):\n        base_url = self.env['ir.config_parameter'].sudo().get_param('web.base.url')\n        for source in self:\n            source.url = urls.url_join(base_url, \"%s?%s\" % (source.job_id.website_url,\n                urls.url_encode({\n                    'utm_campaign': self.env.ref('hr_recruitment.utm_campaign_job').name,\n                    'utm_medium': self.env.ref('utm.utm_medium_website').name,\n                    'utm_source': source.source_id.name\n                })\n            ))\n\n\nclass Applicant(models.Model):\n\n    _inherit = 'hr.applicant'\n\n    def website_form_input_filter(self, request, values):\n        if 'partner_name' in values:\n            values.setdefault('name', '%s\\'s Application' % values['partner_name'])\n        return values\n\n\nclass Job(models.Model):\n\n    _name = 'hr.job'\n    _inherit = ['hr.job', 'website.seo.metadata', 'website.published.mixin']\n\n    def _get_default_website_description(self):\n        default_description = self.env[\"ir.model.data\"].xmlid_to_object(\"website_hr_recruitment.default_website_description\")\n        return (default_description.render() if default_description else \"\")\n\n    website_description = fields.Html('Website description', translate=html_translate, sanitize_attributes=False, default=_get_default_website_description)\n\n    @api.multi\n    def _compute_website_url(self):\n        super(Job, self)._compute_website_url()\n        for job in self:\n            job.website_url = \"/jobs/detail/%s\" % job.id\n\n    @api.multi\n    def set_open(self):\n        self.write({'website_published': False})\n        return super(Job, self).set_open()\n", "comments": "      coding  utf 8        part odoo  see license file full copyright licensing details  ", "content": "# -*- coding: utf-8 -*-\n# Part of Odoo. See LICENSE file for full copyright and licensing details.\n\nfrom werkzeug import urls\n\nfrom odoo import api, fields, models\nfrom odoo.tools.translate import html_translate\n\n\nclass RecruitmentSource(models.Model):\n    _inherit = 'hr.recruitment.source'\n\n    url = fields.Char(compute='_compute_url', string='Url Parameters')\n\n    @api.one\n    @api.depends('source_id', 'source_id.name', 'job_id')\n    def _compute_url(self):\n        base_url = self.env['ir.config_parameter'].sudo().get_param('web.base.url')\n        for source in self:\n            source.url = urls.url_join(base_url, \"%s?%s\" % (source.job_id.website_url,\n                urls.url_encode({\n                    'utm_campaign': self.env.ref('hr_recruitment.utm_campaign_job').name,\n                    'utm_medium': self.env.ref('utm.utm_medium_website').name,\n                    'utm_source': source.source_id.name\n                })\n            ))\n\n\nclass Applicant(models.Model):\n\n    _inherit = 'hr.applicant'\n\n    def website_form_input_filter(self, request, values):\n        if 'partner_name' in values:\n            values.setdefault('name', '%s\\'s Application' % values['partner_name'])\n        return values\n\n\nclass Job(models.Model):\n\n    _name = 'hr.job'\n    _inherit = ['hr.job', 'website.seo.metadata', 'website.published.mixin']\n\n    def _get_default_website_description(self):\n        default_description = self.env[\"ir.model.data\"].xmlid_to_object(\"website_hr_recruitment.default_website_description\")\n        return (default_description.render() if default_description else \"\")\n\n    website_description = fields.Html('Website description', translate=html_translate, sanitize_attributes=False, default=_get_default_website_description)\n\n    @api.multi\n    def _compute_website_url(self):\n        super(Job, self)._compute_website_url()\n        for job in self:\n            job.website_url = \"/jobs/detail/%s\" % job.id\n\n    @api.multi\n    def set_open(self):\n        self.write({'website_published': False})\n        return super(Job, self).set_open()\n", "description": "Odoo. Open Source Apps To Grow Your Business.", "file_name": "hr_recruitment.py", "id": "2c2f2aecfb6cb5ec1ab014d6a0268008", "language": "Python", "project_name": "odoo", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/odoo-odoo/odoo-odoo-b25250f/addons/website_hr_recruitment/models/hr_recruitment.py", "save_time": "", "source": "", "update_at": "2018-03-18T08:30:22Z", "url": "https://github.com/odoo/odoo", "wiki": true}