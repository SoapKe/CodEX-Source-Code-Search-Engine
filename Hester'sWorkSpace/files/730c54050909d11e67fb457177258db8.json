{"author": "tgalal", "code": "from yowsup.layers.interface                           import YowInterfaceLayer, ProtocolEntityCallback\nfrom yowsup.layers.protocol_contacts.protocolentities  import GetSyncIqProtocolEntity, ResultSyncIqProtocolEntity\nfrom yowsup.layers.protocol_iq.protocolentities import ErrorIqProtocolEntity\nimport threading\nimport logging\nlogger = logging.getLogger(__name__)\n\nclass SyncLayer(YowInterfaceLayer):\n\n    PROP_CONTACTS = \"org.openwhatsapp.yowsup.prop.syncdemo.contacts\"\n\n    def __init__(self):\n        super(SyncLayer, self).__init__()\n\n    \n    @ProtocolEntityCallback(\"success\")\n    def onSuccess(self, successProtocolEntity):\n        contacts= self.getProp(self.__class__.PROP_CONTACTS, [])\n        contactEntity = GetSyncIqProtocolEntity(contacts)\n        self._sendIq(contactEntity, self.onGetSyncResult, self.onGetSyncError)\n\n    def onGetSyncResult(self, resultSyncIqProtocolEntity, originalIqProtocolEntity):\n        print(resultSyncIqProtocolEntity)\n        raise KeyboardInterrupt()\n\n    def onGetSyncError(self, errorSyncIqProtocolEntity, originalIqProtocolEntity):\n        print(errorSyncIqProtocolEntity)\n        raise KeyboardInterrupt()\n", "comments": " call back function successful connection whatsapp server ", "content": "from yowsup.layers.interface                           import YowInterfaceLayer, ProtocolEntityCallback\nfrom yowsup.layers.protocol_contacts.protocolentities  import GetSyncIqProtocolEntity, ResultSyncIqProtocolEntity\nfrom yowsup.layers.protocol_iq.protocolentities import ErrorIqProtocolEntity\nimport threading\nimport logging\nlogger = logging.getLogger(__name__)\n\nclass SyncLayer(YowInterfaceLayer):\n\n    PROP_CONTACTS = \"org.openwhatsapp.yowsup.prop.syncdemo.contacts\"\n\n    def __init__(self):\n        super(SyncLayer, self).__init__()\n\n    #call back function when there is a successful connection to whatsapp server\n    @ProtocolEntityCallback(\"success\")\n    def onSuccess(self, successProtocolEntity):\n        contacts= self.getProp(self.__class__.PROP_CONTACTS, [])\n        contactEntity = GetSyncIqProtocolEntity(contacts)\n        self._sendIq(contactEntity, self.onGetSyncResult, self.onGetSyncError)\n\n    def onGetSyncResult(self, resultSyncIqProtocolEntity, originalIqProtocolEntity):\n        print(resultSyncIqProtocolEntity)\n        raise KeyboardInterrupt()\n\n    def onGetSyncError(self, errorSyncIqProtocolEntity, originalIqProtocolEntity):\n        print(errorSyncIqProtocolEntity)\n        raise KeyboardInterrupt()\n", "description": "The python WhatsApp library", "file_name": "layer.py", "id": "730c54050909d11e67fb457177258db8", "language": "Python", "project_name": "yowsup", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/tgalal-yowsup/tgalal-yowsup-03795cc/yowsup/demos/contacts/layer.py", "save_time": "", "source": "", "update_at": "2018-03-18T13:01:40Z", "url": "https://github.com/tgalal/yowsup", "wiki": true}