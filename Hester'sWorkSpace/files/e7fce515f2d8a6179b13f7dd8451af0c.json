{"author": "powerline", "code": "\nfrom __future__ import (unicode_literals, division, absolute_import, print_function)\n\nimport imp\nimport sys\n\n\nclass Pl(object):\n\tdef __init__(self):\n\t\tself.exceptions = []\n\t\tself.errors = []\n\t\tself.warns = []\n\t\tself.debugs = []\n\t\tself.infos = []\n\t\tself.prefix = None\n\t\tself.use_daemon_threads = True\n\n\tfor meth in ('error', 'warn', 'debug', 'exception', 'info'):\n\t\texec((\n\t\t\t'def {0}(self, msg, *args, **kwargs):\\n'\n\t\t\t'\tself.{0}s.append((kwargs.get(\"prefix\") or self.prefix, msg, args, kwargs))\\n'\n\t\t).format(meth))\n\n\tdef __nonzero__(self):\n\t\treturn bool(self.exceptions or self.errors or self.warns)\n\n\t__bool__ = __nonzero__\n\n\nclass Args(object):\n\ttheme_override = {}\n\tconfig_override = {}\n\tconfig_path = None\n\text = ['shell']\n\trenderer_module = None\n\n\tdef __init__(self, **kwargs):\n\t\tself.__dict__.update(kwargs)\n\n\ndef urllib_read(query_url):\n\tif query_url.startswith('http://ipv'):\n\t\tif query_url.startswith('http://ipv4.icanhazip.com'):\n\t\t\treturn '127.0.0.1'\n\t\telif query_url.startswith('http://ipv4.icanhazip.com'):\n\t\t\treturn '2001:4801:7818:6:abc5:ba2c:ff10:275f'\n\telif query_url.startswith('http://geoip.nekudo.com/api/'):\n\t\treturn '{\"city\":\"Meppen\",\"country\":{\"name\":\"Germany\", \"code\":\"DE\"},\"location\":{\"accuracy_radius\":100,\"latitude\":52.6833,\"longitude\":7.3167,\"time_zone\":\"Europe\\/Berlin\"},\"ip\":\"82.145.55.16\"}'\n\telif query_url.startswith('http://query.yahooapis.com/v1/public/'):\n\t\tif 'Meppen' in query_url:\n\t\t\treturn r'{\"query\":{\"count\":1,\"created\":\"2016-05-13T19:43:18Z\",\"lang\":\"en-US\",\"results\":{\"channel\":{\"units\":{\"distance\":\"mi\",\"pressure\":\"in\",\"speed\":\"mph\",\"temperature\":\"C\"},\"title\":\"Yahoo! Weather - Meppen, NI, DE\",\"link\":\"http://us.rd.yahoo.com/dailynews/rss/weather/Country__Country/*https://weather.yahoo.com/country/state/city-674836/\",\"description\":\"Yahoo! Weather for Meppen, NI, DE\",\"language\":\"en-us\",\"lastBuildDate\":\"Fri, 13 May 2016 09:43 PM CEST\",\"ttl\":\"60\",\"location\":{\"city\":\"Meppen\",\"country\":\"Germany\",\"region\":\" NI\"},\"wind\":{\"chill\":\"55\",\"direction\":\"350\",\"speed\":\"25\"},\"atmosphere\":{\"humidity\":\"57\",\"pressure\":\"1004.0\",\"rising\":\"0\",\"visibility\":\"16.1\"},\"astronomy\":{\"sunrise\":\"5:35 am\",\"sunset\":\"9:21 pm\"},\"image\":{\"title\":\"Yahoo! Weather\",\"width\":\"142\",\"height\":\"18\",\"link\":\"http://weather.yahoo.com\",\"url\":\"http://l.yimg.com/a/i/brand/purplelogo//uh/us/news-wea.gif\"},\"item\":{\"title\":\"Conditions for Meppen, NI, DE at 08:00 PM CEST\",\"lat\":\"52.68993\",\"long\":\"7.29115\",\"link\":\"http://us.rd.yahoo.com/dailynews/rss/weather/Country__Country/*https://weather.yahoo.com/country/state/city-674836/\",\"pubDate\":\"Fri, 13 May 2016 08:00 PM CEST\",\"condition\":{\"code\":\"23\",\"date\":\"Fri, 13 May 2016 08:00 PM CEST\",\"temp\":\"14\",\"text\":\"Breezy\"},\"forecast\":[{\"code\":\"30\",\"date\":\"13 May 2016\",\"day\":\"Fri\",\"high\":\"71\",\"low\":\"48\",\"text\":\"Partly Cloudy\"},{\"code\":\"28\",\"date\":\"14 May 2016\",\"day\":\"Sat\",\"high\":\"54\",\"low\":\"44\",\"text\":\"Mostly Cloudy\"},{\"code\":\"11\",\"date\":\"15 May 2016\",\"day\":\"Sun\",\"high\":\"55\",\"low\":\"43\",\"text\":\"Showers\"},{\"code\":\"28\",\"date\":\"16 May 2016\",\"day\":\"Mon\",\"high\":\"54\",\"low\":\"42\",\"text\":\"Mostly Cloudy\"},{\"code\":\"28\",\"date\":\"17 May 2016\",\"day\":\"Tue\",\"high\":\"57\",\"low\":\"43\",\"text\":\"Mostly Cloudy\"},{\"code\":\"12\",\"date\":\"18 May 2016\",\"day\":\"Wed\",\"high\":\"62\",\"low\":\"45\",\"text\":\"Rain\"},{\"code\":\"28\",\"date\":\"19 May 2016\",\"day\":\"Thu\",\"high\":\"63\",\"low\":\"48\",\"text\":\"Mostly Cloudy\"},{\"code\":\"28\",\"date\":\"20 May 2016\",\"day\":\"Fri\",\"high\":\"67\",\"low\":\"50\",\"text\":\"Mostly Cloudy\"},{\"code\":\"30\",\"date\":\"21 May 2016\",\"day\":\"Sat\",\"high\":\"71\",\"low\":\"50\",\"text\":\"Partly Cloudy\"},{\"code\":\"30\",\"date\":\"22 May 2016\",\"day\":\"Sun\",\"high\":\"74\",\"low\":\"54\",\"text\":\"Partly Cloudy\"}],\"description\":\"<![CDATA[<img src=\\\"http://l.yimg.com/a/i/us/we/52/23.gif\\\"/>\\n<BR />\\n<b>Current Conditions:</b>\\n<BR />Breezy\\n<BR />\\n<BR />\\n<b>Forecast:</b>\\n<BR /> Fri - Partly Cloudy. High: 71Low: 48\\n<BR /> Sat - Mostly Cloudy. High: 54Low: 44\\n<BR /> Sun - Showers. High: 55Low: 43\\n<BR /> Mon - Mostly Cloudy. High: 54Low: 42\\n<BR /> Tue - Mostly Cloudy. High: 57Low: 43\\n<BR />\\n<BR />\\n<a href=\\\"http://us.rd.yahoo.com/dailynews/rss/weather/Country__Country/*https://weather.yahoo.com/country/state/city-674836/\\\">Full Forecast at Yahoo! Weather</a>\\n<BR />\\n<BR />\\n(provided by <a href=\\\"http://www.weather.com\\\" >The Weather Channel</a>)\\n<BR />\\n]]>\",\"guid\":{\"isPermaLink\":\"false\"}}}}}}'\n\t\telif 'Moscow' in query_url:\n\t\t\treturn r'{\"query\":{\"count\":1,\"created\":\"2016-05-13T19:47:01Z\",\"lang\":\"en-US\",\"results\":{\"channel\":{\"units\":{\"distance\":\"mi\",\"pressure\":\"in\",\"speed\":\"mph\",\"temperature\":\"C\"},\"title\":\"Yahoo! Weather - Moscow, Moscow Federal City, RU\",\"link\":\"http://us.rd.yahoo.com/dailynews/rss/weather/Country__Country/*https://weather.yahoo.com/country/state/city-2122265/\",\"description\":\"Yahoo! Weather for Moscow, Moscow Federal City, RU\",\"language\":\"en-us\",\"lastBuildDate\":\"Fri, 13 May 2016 10:47 PM MSK\",\"ttl\":\"60\",\"location\":{\"city\":\"Moscow\",\"country\":\"Russia\",\"region\":\" Moscow Federal City\"},\"wind\":{\"chill\":\"45\",\"direction\":\"80\",\"speed\":\"11\"},\"atmosphere\":{\"humidity\":\"52\",\"pressure\":\"993.0\",\"rising\":\"0\",\"visibility\":\"16.1\"},\"astronomy\":{\"sunrise\":\"4:19 am\",\"sunset\":\"8:34 pm\"},\"image\":{\"title\":\"Yahoo! Weather\",\"width\":\"142\",\"height\":\"18\",\"link\":\"http://weather.yahoo.com\",\"url\":\"http://l.yimg.com/a/i/brand/purplelogo//uh/us/news-wea.gif\"},\"item\":{\"title\":\"Conditions for Moscow, Moscow Federal City, RU at 09:00 PM MSK\",\"lat\":\"55.741638\",\"long\":\"37.605061\",\"link\":\"http://us.rd.yahoo.com/dailynews/rss/weather/Country__Country/*https://weather.yahoo.com/country/state/city-2122265/\",\"pubDate\":\"Fri, 13 May 2016 09:00 PM MSK\",\"condition\":{\"code\":\"33\",\"date\":\"Fri, 13 May 2016 09:00 PM MSK\",\"temp\":\"9\",\"text\":\"Mostly Clear\"},\"forecast\":[{\"code\":\"30\",\"date\":\"13 May 2016\",\"day\":\"Fri\",\"high\":\"62\",\"low\":\"41\",\"text\":\"Partly Cloudy\"},{\"code\":\"30\",\"date\":\"14 May 2016\",\"day\":\"Sat\",\"high\":\"64\",\"low\":\"43\",\"text\":\"Partly Cloudy\"},{\"code\":\"30\",\"date\":\"15 May 2016\",\"day\":\"Sun\",\"high\":\"63\",\"low\":\"44\",\"text\":\"Partly Cloudy\"},{\"code\":\"12\",\"date\":\"16 May 2016\",\"day\":\"Mon\",\"high\":\"60\",\"low\":\"47\",\"text\":\"Rain\"},{\"code\":\"12\",\"date\":\"17 May 2016\",\"day\":\"Tue\",\"high\":\"64\",\"low\":\"48\",\"text\":\"Rain\"},{\"code\":\"28\",\"date\":\"18 May 2016\",\"day\":\"Wed\",\"high\":\"67\",\"low\":\"48\",\"text\":\"Mostly Cloudy\"},{\"code\":\"12\",\"date\":\"19 May 2016\",\"day\":\"Thu\",\"high\":\"68\",\"low\":\"49\",\"text\":\"Rain\"},{\"code\":\"39\",\"date\":\"20 May 2016\",\"day\":\"Fri\",\"high\":\"66\",\"low\":\"50\",\"text\":\"Scattered Showers\"},{\"code\":\"39\",\"date\":\"21 May 2016\",\"day\":\"Sat\",\"high\":\"69\",\"low\":\"49\",\"text\":\"Scattered Showers\"},{\"code\":\"30\",\"date\":\"22 May 2016\",\"day\":\"Sun\",\"high\":\"73\",\"low\":\"50\",\"text\":\"Partly Cloudy\"}],\"description\":\"<![CDATA[<img src=\\\"http://l.yimg.com/a/i/us/we/52/33.gif\\\"/>\\n<BR />\\n<b>Current Conditions:</b>\\n<BR />Mostly Clear\\n<BR />\\n<BR />\\n<b>Forecast:</b>\\n<BR /> Fri - Partly Cloudy. High: 62Low: 41\\n<BR /> Sat - Partly Cloudy. High: 64Low: 43\\n<BR /> Sun - Partly Cloudy. High: 63Low: 44\\n<BR /> Mon - Rain. High: 60Low: 47\\n<BR /> Tue - Rain. High: 64Low: 48\\n<BR />\\n<BR />\\n<a href=\\\"http://us.rd.yahoo.com/dailynews/rss/weather/Country__Country/*https://weather.yahoo.com/country/state/city-2122265/\\\">Full Forecast at Yahoo! Weather</a>\\n<BR />\\n<BR />\\n(provided by <a href=\\\"http://www.weather.com\\\" >The Weather Channel</a>)\\n<BR />\\n]]>\",\"guid\":{\"isPermaLink\":\"false\"}}}}}}'\n\telse:\n\t\traise NotImplementedError\n\n\nclass Process(object):\n\tdef __init__(self, output, err):\n\t\tself.output = output\n\t\tself.err = err\n\n\tdef communicate(self):\n\t\treturn self.output, self.err\n\n\nclass ModuleReplace(object):\n\tdef __init__(self, name, new):\n\t\tself.name = name\n\t\tself.new = new\n\n\tdef __enter__(self):\n\t\tself.old = sys.modules.get(self.name)\n\t\tif not self.old:\n\t\t\ttry:\n\t\t\t\tself.old = __import__(self.name)\n\t\t\texcept ImportError:\n\t\t\t\tpass\n\t\tsys.modules[self.name] = self.new\n\n\tdef __exit__(self, *args):\n\t\tif self.old:\n\t\t\tsys.modules[self.name] = self.old\n\t\telse:\n\t\t\tsys.modules.pop(self.name)\n\n\ndef replace_module(name, new=None, **kwargs):\n\tif not new:\n\t\tnew = new_module(name, **kwargs)\n\treturn ModuleReplace(name, new)\n\n\ndef new_module(name, **kwargs):\n\tmodule = imp.new_module(name)\n\tfor k, v in kwargs.items():\n\t\tsetattr(module, k, v)\n\treturn module\n\n\nclass AttrReplace(object):\n\tdef __init__(self, obj, *args):\n\t\tself.obj = obj\n\t\tself.attrs = args[::2]\n\t\tself.new = args[1::2]\n\n\tdef __enter__(self):\n\t\tself.old = {}\n\t\tfor i, attr in enumerate(self.attrs):\n\t\t\ttry:\n\t\t\t\tself.old[i] = getattr(self.obj, attr)\n\t\t\texcept AttributeError:\n\t\t\t\tpass\n\t\tfor attr, new in zip(self.attrs, self.new):\n\t\t\tsetattr(self.obj, attr, new)\n\n\tdef __exit__(self, *args):\n\t\tfor i, attr in enumerate(self.attrs):\n\t\t\ttry:\n\t\t\t\told = self.old[i]\n\t\t\texcept KeyError:\n\t\t\t\tdelattr(self.obj, attr)\n\t\t\telse:\n\t\t\t\tsetattr(self.obj, attr, old)\n\n\nreplace_attr = AttrReplace\n\n\ndef replace_module_module(module, name, **kwargs):\n\treturn replace_attr(module, name, new_module(name, **kwargs))\n\n\nclass ItemReplace(object):\n\tdef __init__(self, d, key, new, r=None):\n\t\tself.key = key\n\t\tself.new = new\n\t\tself.d = d\n\t\tself.r = r\n\n\tdef __enter__(self):\n\t\tself.old = self.d.get(self.key)\n\t\tself.d[self.key] = self.new\n\t\treturn self.r\n\n\tdef __exit__(self, *args):\n\t\tif self.old is None:\n\t\t\ttry:\n\t\t\t\tself.d.pop(self.key)\n\t\t\texcept KeyError:\n\t\t\t\tpass\n\t\telse:\n\t\t\tself.d[self.key] = self.old\n\n\ndef replace_item(d, key, new):\n\treturn ItemReplace(d, key, new, d)\n\n\ndef replace_env(key, new, environ=None, **kwargs):\n\tr = kwargs.copy()\n\tr['environ'] = environ or {}\n\treturn ItemReplace(r['environ'], key, new, r)\n", "comments": "  vim fileencoding utf 8 noet ", "content": "# vim:fileencoding=utf-8:noet\nfrom __future__ import (unicode_literals, division, absolute_import, print_function)\n\nimport imp\nimport sys\n\n\nclass Pl(object):\n\tdef __init__(self):\n\t\tself.exceptions = []\n\t\tself.errors = []\n\t\tself.warns = []\n\t\tself.debugs = []\n\t\tself.infos = []\n\t\tself.prefix = None\n\t\tself.use_daemon_threads = True\n\n\tfor meth in ('error', 'warn', 'debug', 'exception', 'info'):\n\t\texec((\n\t\t\t'def {0}(self, msg, *args, **kwargs):\\n'\n\t\t\t'\tself.{0}s.append((kwargs.get(\"prefix\") or self.prefix, msg, args, kwargs))\\n'\n\t\t).format(meth))\n\n\tdef __nonzero__(self):\n\t\treturn bool(self.exceptions or self.errors or self.warns)\n\n\t__bool__ = __nonzero__\n\n\nclass Args(object):\n\ttheme_override = {}\n\tconfig_override = {}\n\tconfig_path = None\n\text = ['shell']\n\trenderer_module = None\n\n\tdef __init__(self, **kwargs):\n\t\tself.__dict__.update(kwargs)\n\n\ndef urllib_read(query_url):\n\tif query_url.startswith('http://ipv'):\n\t\tif query_url.startswith('http://ipv4.icanhazip.com'):\n\t\t\treturn '127.0.0.1'\n\t\telif query_url.startswith('http://ipv4.icanhazip.com'):\n\t\t\treturn '2001:4801:7818:6:abc5:ba2c:ff10:275f'\n\telif query_url.startswith('http://geoip.nekudo.com/api/'):\n\t\treturn '{\"city\":\"Meppen\",\"country\":{\"name\":\"Germany\", \"code\":\"DE\"},\"location\":{\"accuracy_radius\":100,\"latitude\":52.6833,\"longitude\":7.3167,\"time_zone\":\"Europe\\/Berlin\"},\"ip\":\"82.145.55.16\"}'\n\telif query_url.startswith('http://query.yahooapis.com/v1/public/'):\n\t\tif 'Meppen' in query_url:\n\t\t\treturn r'{\"query\":{\"count\":1,\"created\":\"2016-05-13T19:43:18Z\",\"lang\":\"en-US\",\"results\":{\"channel\":{\"units\":{\"distance\":\"mi\",\"pressure\":\"in\",\"speed\":\"mph\",\"temperature\":\"C\"},\"title\":\"Yahoo! Weather - Meppen, NI, DE\",\"link\":\"http://us.rd.yahoo.com/dailynews/rss/weather/Country__Country/*https://weather.yahoo.com/country/state/city-674836/\",\"description\":\"Yahoo! Weather for Meppen, NI, DE\",\"language\":\"en-us\",\"lastBuildDate\":\"Fri, 13 May 2016 09:43 PM CEST\",\"ttl\":\"60\",\"location\":{\"city\":\"Meppen\",\"country\":\"Germany\",\"region\":\" NI\"},\"wind\":{\"chill\":\"55\",\"direction\":\"350\",\"speed\":\"25\"},\"atmosphere\":{\"humidity\":\"57\",\"pressure\":\"1004.0\",\"rising\":\"0\",\"visibility\":\"16.1\"},\"astronomy\":{\"sunrise\":\"5:35 am\",\"sunset\":\"9:21 pm\"},\"image\":{\"title\":\"Yahoo! Weather\",\"width\":\"142\",\"height\":\"18\",\"link\":\"http://weather.yahoo.com\",\"url\":\"http://l.yimg.com/a/i/brand/purplelogo//uh/us/news-wea.gif\"},\"item\":{\"title\":\"Conditions for Meppen, NI, DE at 08:00 PM CEST\",\"lat\":\"52.68993\",\"long\":\"7.29115\",\"link\":\"http://us.rd.yahoo.com/dailynews/rss/weather/Country__Country/*https://weather.yahoo.com/country/state/city-674836/\",\"pubDate\":\"Fri, 13 May 2016 08:00 PM CEST\",\"condition\":{\"code\":\"23\",\"date\":\"Fri, 13 May 2016 08:00 PM CEST\",\"temp\":\"14\",\"text\":\"Breezy\"},\"forecast\":[{\"code\":\"30\",\"date\":\"13 May 2016\",\"day\":\"Fri\",\"high\":\"71\",\"low\":\"48\",\"text\":\"Partly Cloudy\"},{\"code\":\"28\",\"date\":\"14 May 2016\",\"day\":\"Sat\",\"high\":\"54\",\"low\":\"44\",\"text\":\"Mostly Cloudy\"},{\"code\":\"11\",\"date\":\"15 May 2016\",\"day\":\"Sun\",\"high\":\"55\",\"low\":\"43\",\"text\":\"Showers\"},{\"code\":\"28\",\"date\":\"16 May 2016\",\"day\":\"Mon\",\"high\":\"54\",\"low\":\"42\",\"text\":\"Mostly Cloudy\"},{\"code\":\"28\",\"date\":\"17 May 2016\",\"day\":\"Tue\",\"high\":\"57\",\"low\":\"43\",\"text\":\"Mostly Cloudy\"},{\"code\":\"12\",\"date\":\"18 May 2016\",\"day\":\"Wed\",\"high\":\"62\",\"low\":\"45\",\"text\":\"Rain\"},{\"code\":\"28\",\"date\":\"19 May 2016\",\"day\":\"Thu\",\"high\":\"63\",\"low\":\"48\",\"text\":\"Mostly Cloudy\"},{\"code\":\"28\",\"date\":\"20 May 2016\",\"day\":\"Fri\",\"high\":\"67\",\"low\":\"50\",\"text\":\"Mostly Cloudy\"},{\"code\":\"30\",\"date\":\"21 May 2016\",\"day\":\"Sat\",\"high\":\"71\",\"low\":\"50\",\"text\":\"Partly Cloudy\"},{\"code\":\"30\",\"date\":\"22 May 2016\",\"day\":\"Sun\",\"high\":\"74\",\"low\":\"54\",\"text\":\"Partly Cloudy\"}],\"description\":\"<![CDATA[<img src=\\\"http://l.yimg.com/a/i/us/we/52/23.gif\\\"/>\\n<BR />\\n<b>Current Conditions:</b>\\n<BR />Breezy\\n<BR />\\n<BR />\\n<b>Forecast:</b>\\n<BR /> Fri - Partly Cloudy. High: 71Low: 48\\n<BR /> Sat - Mostly Cloudy. High: 54Low: 44\\n<BR /> Sun - Showers. High: 55Low: 43\\n<BR /> Mon - Mostly Cloudy. High: 54Low: 42\\n<BR /> Tue - Mostly Cloudy. High: 57Low: 43\\n<BR />\\n<BR />\\n<a href=\\\"http://us.rd.yahoo.com/dailynews/rss/weather/Country__Country/*https://weather.yahoo.com/country/state/city-674836/\\\">Full Forecast at Yahoo! Weather</a>\\n<BR />\\n<BR />\\n(provided by <a href=\\\"http://www.weather.com\\\" >The Weather Channel</a>)\\n<BR />\\n]]>\",\"guid\":{\"isPermaLink\":\"false\"}}}}}}'\n\t\telif 'Moscow' in query_url:\n\t\t\treturn r'{\"query\":{\"count\":1,\"created\":\"2016-05-13T19:47:01Z\",\"lang\":\"en-US\",\"results\":{\"channel\":{\"units\":{\"distance\":\"mi\",\"pressure\":\"in\",\"speed\":\"mph\",\"temperature\":\"C\"},\"title\":\"Yahoo! Weather - Moscow, Moscow Federal City, RU\",\"link\":\"http://us.rd.yahoo.com/dailynews/rss/weather/Country__Country/*https://weather.yahoo.com/country/state/city-2122265/\",\"description\":\"Yahoo! Weather for Moscow, Moscow Federal City, RU\",\"language\":\"en-us\",\"lastBuildDate\":\"Fri, 13 May 2016 10:47 PM MSK\",\"ttl\":\"60\",\"location\":{\"city\":\"Moscow\",\"country\":\"Russia\",\"region\":\" Moscow Federal City\"},\"wind\":{\"chill\":\"45\",\"direction\":\"80\",\"speed\":\"11\"},\"atmosphere\":{\"humidity\":\"52\",\"pressure\":\"993.0\",\"rising\":\"0\",\"visibility\":\"16.1\"},\"astronomy\":{\"sunrise\":\"4:19 am\",\"sunset\":\"8:34 pm\"},\"image\":{\"title\":\"Yahoo! Weather\",\"width\":\"142\",\"height\":\"18\",\"link\":\"http://weather.yahoo.com\",\"url\":\"http://l.yimg.com/a/i/brand/purplelogo//uh/us/news-wea.gif\"},\"item\":{\"title\":\"Conditions for Moscow, Moscow Federal City, RU at 09:00 PM MSK\",\"lat\":\"55.741638\",\"long\":\"37.605061\",\"link\":\"http://us.rd.yahoo.com/dailynews/rss/weather/Country__Country/*https://weather.yahoo.com/country/state/city-2122265/\",\"pubDate\":\"Fri, 13 May 2016 09:00 PM MSK\",\"condition\":{\"code\":\"33\",\"date\":\"Fri, 13 May 2016 09:00 PM MSK\",\"temp\":\"9\",\"text\":\"Mostly Clear\"},\"forecast\":[{\"code\":\"30\",\"date\":\"13 May 2016\",\"day\":\"Fri\",\"high\":\"62\",\"low\":\"41\",\"text\":\"Partly Cloudy\"},{\"code\":\"30\",\"date\":\"14 May 2016\",\"day\":\"Sat\",\"high\":\"64\",\"low\":\"43\",\"text\":\"Partly Cloudy\"},{\"code\":\"30\",\"date\":\"15 May 2016\",\"day\":\"Sun\",\"high\":\"63\",\"low\":\"44\",\"text\":\"Partly Cloudy\"},{\"code\":\"12\",\"date\":\"16 May 2016\",\"day\":\"Mon\",\"high\":\"60\",\"low\":\"47\",\"text\":\"Rain\"},{\"code\":\"12\",\"date\":\"17 May 2016\",\"day\":\"Tue\",\"high\":\"64\",\"low\":\"48\",\"text\":\"Rain\"},{\"code\":\"28\",\"date\":\"18 May 2016\",\"day\":\"Wed\",\"high\":\"67\",\"low\":\"48\",\"text\":\"Mostly Cloudy\"},{\"code\":\"12\",\"date\":\"19 May 2016\",\"day\":\"Thu\",\"high\":\"68\",\"low\":\"49\",\"text\":\"Rain\"},{\"code\":\"39\",\"date\":\"20 May 2016\",\"day\":\"Fri\",\"high\":\"66\",\"low\":\"50\",\"text\":\"Scattered Showers\"},{\"code\":\"39\",\"date\":\"21 May 2016\",\"day\":\"Sat\",\"high\":\"69\",\"low\":\"49\",\"text\":\"Scattered Showers\"},{\"code\":\"30\",\"date\":\"22 May 2016\",\"day\":\"Sun\",\"high\":\"73\",\"low\":\"50\",\"text\":\"Partly Cloudy\"}],\"description\":\"<![CDATA[<img src=\\\"http://l.yimg.com/a/i/us/we/52/33.gif\\\"/>\\n<BR />\\n<b>Current Conditions:</b>\\n<BR />Mostly Clear\\n<BR />\\n<BR />\\n<b>Forecast:</b>\\n<BR /> Fri - Partly Cloudy. High: 62Low: 41\\n<BR /> Sat - Partly Cloudy. High: 64Low: 43\\n<BR /> Sun - Partly Cloudy. High: 63Low: 44\\n<BR /> Mon - Rain. High: 60Low: 47\\n<BR /> Tue - Rain. High: 64Low: 48\\n<BR />\\n<BR />\\n<a href=\\\"http://us.rd.yahoo.com/dailynews/rss/weather/Country__Country/*https://weather.yahoo.com/country/state/city-2122265/\\\">Full Forecast at Yahoo! Weather</a>\\n<BR />\\n<BR />\\n(provided by <a href=\\\"http://www.weather.com\\\" >The Weather Channel</a>)\\n<BR />\\n]]>\",\"guid\":{\"isPermaLink\":\"false\"}}}}}}'\n\telse:\n\t\traise NotImplementedError\n\n\nclass Process(object):\n\tdef __init__(self, output, err):\n\t\tself.output = output\n\t\tself.err = err\n\n\tdef communicate(self):\n\t\treturn self.output, self.err\n\n\nclass ModuleReplace(object):\n\tdef __init__(self, name, new):\n\t\tself.name = name\n\t\tself.new = new\n\n\tdef __enter__(self):\n\t\tself.old = sys.modules.get(self.name)\n\t\tif not self.old:\n\t\t\ttry:\n\t\t\t\tself.old = __import__(self.name)\n\t\t\texcept ImportError:\n\t\t\t\tpass\n\t\tsys.modules[self.name] = self.new\n\n\tdef __exit__(self, *args):\n\t\tif self.old:\n\t\t\tsys.modules[self.name] = self.old\n\t\telse:\n\t\t\tsys.modules.pop(self.name)\n\n\ndef replace_module(name, new=None, **kwargs):\n\tif not new:\n\t\tnew = new_module(name, **kwargs)\n\treturn ModuleReplace(name, new)\n\n\ndef new_module(name, **kwargs):\n\tmodule = imp.new_module(name)\n\tfor k, v in kwargs.items():\n\t\tsetattr(module, k, v)\n\treturn module\n\n\nclass AttrReplace(object):\n\tdef __init__(self, obj, *args):\n\t\tself.obj = obj\n\t\tself.attrs = args[::2]\n\t\tself.new = args[1::2]\n\n\tdef __enter__(self):\n\t\tself.old = {}\n\t\tfor i, attr in enumerate(self.attrs):\n\t\t\ttry:\n\t\t\t\tself.old[i] = getattr(self.obj, attr)\n\t\t\texcept AttributeError:\n\t\t\t\tpass\n\t\tfor attr, new in zip(self.attrs, self.new):\n\t\t\tsetattr(self.obj, attr, new)\n\n\tdef __exit__(self, *args):\n\t\tfor i, attr in enumerate(self.attrs):\n\t\t\ttry:\n\t\t\t\told = self.old[i]\n\t\t\texcept KeyError:\n\t\t\t\tdelattr(self.obj, attr)\n\t\t\telse:\n\t\t\t\tsetattr(self.obj, attr, old)\n\n\nreplace_attr = AttrReplace\n\n\ndef replace_module_module(module, name, **kwargs):\n\treturn replace_attr(module, name, new_module(name, **kwargs))\n\n\nclass ItemReplace(object):\n\tdef __init__(self, d, key, new, r=None):\n\t\tself.key = key\n\t\tself.new = new\n\t\tself.d = d\n\t\tself.r = r\n\n\tdef __enter__(self):\n\t\tself.old = self.d.get(self.key)\n\t\tself.d[self.key] = self.new\n\t\treturn self.r\n\n\tdef __exit__(self, *args):\n\t\tif self.old is None:\n\t\t\ttry:\n\t\t\t\tself.d.pop(self.key)\n\t\t\texcept KeyError:\n\t\t\t\tpass\n\t\telse:\n\t\t\tself.d[self.key] = self.old\n\n\ndef replace_item(d, key, new):\n\treturn ItemReplace(d, key, new, d)\n\n\ndef replace_env(key, new, environ=None, **kwargs):\n\tr = kwargs.copy()\n\tr['environ'] = environ or {}\n\treturn ItemReplace(r['environ'], key, new, r)\n", "description": "Powerline is a statusline plugin for vim, and provides statuslines and prompts for several other applications, including zsh, bash, tmux, IPython, Awesome and Qtile.", "file_name": "__init__.py", "id": "e7fce515f2d8a6179b13f7dd8451af0c", "language": "Python", "project_name": "powerline", "quality": "", "save_path": "/home/ubuntu/test_files/clean/python/powerline-powerline/powerline-powerline-d36850f/tests/modules/lib/__init__.py", "save_time": "", "source": "", "update_at": "2018-03-18T09:00:33Z", "url": "https://github.com/powerline/powerline", "wiki": false}